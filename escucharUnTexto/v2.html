<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Esuchar el contenido</title>
</head>

<body>
  <div id="content">
    <div class="text ">
      <div class="paragraph siquev2">
        <p></p>
        <p>Tras el anuncio de <a
            href="https://www.ecuavisa.com/mundo/la-oms-pone-fin-a-mas-de-3-anos-de-emergencia-internacional-por-el-covid-19-GX5055293">la
            Organización Mundial de la Salud (OMS)</a> de declarar el fin de la pandemia por COVID-19, <b>el Comité de
            Operaciones de Emergencia (COE) Nacional,</b> este jueves 11 de mayo de 2023, presidido por su presidente,
          Juan Zapata, resolvió ratificar el fin de la emergencia sanitaria en Ecuador.</p>
        <p></p>
        <p>Además, luego de tres años y dos meses también se anunció el cierre del COE Nacional por pandemia. Ahora
          el<b> Ministerio de Salud Pública (MSP) </b>mantendrá la vigilancia epidemiológica.</p>
        <p></p>

      </div>

    </div>

  </div>

  <button onclick="leerContenido()">Leer contenido en audio</button>
  <button onclick="detenerLectura()">Detener lectura</button>
  <button onclick="pausarLectura()">Pausar lectura</button>

  
  <script>
 let mensaje = null;
  let pausado = false;

  function leerContenido() {
    // Seleccionar el elemento div que contiene el texto a leer
    const divTexto = document.querySelector('.text');

    // Obtener el texto del elemento div
    const texto = divTexto.textContent.trim();

    // Crear un objeto SpeechSynthesisUtterance con el texto a leer
    mensaje = new SpeechSynthesisUtterance(texto);

    // Establecer la voz y el idioma del mensaje (opcional)
    mensaje.voice = window.speechSynthesis.getVoices()[0];
    mensaje.lang = 'es-EC';

    // Reproducir el mensaje de voz y activar bandera de pausa
    window.speechSynthesis.speak(mensaje);
    pausado = false;
  }

  function detenerLectura() {
    // Detener la reproducción del mensaje de voz si existe
    if (mensaje) {
      window.speechSynthesis.cancel();
    }
  }

  function pausarLectura() {
    // Pausar o reanudar la reproducción del mensaje de voz si existe, según el estado actual
    if (mensaje) {
      if (!pausado) {
        window.speechSynthesis.pause();
        pausado = true;
      } else {
        window.speechSynthesis.resume();
        pausado = false;
      }
    }
  }
  </script>
</body>

</html>