import{M as y,r as i,as as b,o as x,x as S,a as o,w as t,h,b as u,m as w,V as E,e as m,n as p,p as I,q as _,g as z,t as C,f as T,bb as v,bd as k,be as B}from"./index.88d3c7f5.js";const f=l=>(k("data-v-a674eda2"),l=l(),B(),l),N=["onSubmit"],P=f(()=>u("label",{for:"num_redireccion"},"N\xFAmero de intentos permitidos:",-1)),U=f(()=>u("label",{for:"tiempo"},"Tiempo en segundos antes de redirecci\xF3n:",-1)),q={__name:"index",setup(l){const n=i(""),d=i(""),c="https://estadisticas.ecuavisa.com/sites/gestor/Tools/en_vivo_num_redireccion/ajax/ajax_envivo.php",e=i({message:"Datos guardados",type:"success",model:!1,timeout:2e3}),V=async()=>{try{const a=await v.get(c,{params:{action:"get_envivo"}});a.data.resp&&(n.value=a.data.data.num_redireccion,d.value=a.data.data.tiempo_segundos)}catch(a){console.error("Error al obtener los par\xE1metros:",a),e.value={message:"Error al obtener los datos",type:"error",model:!0}}},g=async()=>{try{(await v.post(c,{id:"1",action:"edit_envivo",tiempo_segundos:parseInt(d.value),num_redireccion:parseInt(n.value)})).data.resp?e.value={message:"Par\xE1metros actualizados correctamente",type:"success",model:!0}:e.value={message:"Error al actualizar los par\xE1metros",type:"error",model:!0}}catch(a){console.error("Error al actualizar los par\xE1metros:",a),e.value={message:"Error en la actualizaci\xF3n",type:"error",model:!0}}};return b(()=>{V()}),(a,s)=>(x(),S("div",null,[o(z,{class:"mt-5",title:"Configuraci\xF3n de Redirecci\xF3n En Vivo"},{default:t(()=>[o(h,null,{default:t(()=>[u("form",{onSubmit:w(g,["prevent"])},[o(E,null,{default:t(()=>[o(m,{cols:"12",md:"6"},{default:t(()=>[P,o(p,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=r=>n.value=r),type:"number",id:"num_redireccion",name:"num_redireccion",min:"0",required:""},null,8,["modelValue"])]),_:1}),o(m,{cols:"12",md:"6"},{default:t(()=>[U,o(p,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=r=>d.value=r),type:"number",id:"tiempo",name:"tiempo",min:"0",required:""},null,8,["modelValue"])]),_:1})]),_:1}),o(I,{class:"my-3",type:"submit",color:"success",variant:"tonal"},{default:t(()=>[_(" Actualizar Par\xE1metros ")]),_:1})],40,N)]),_:1})]),_:1}),o(T,{modelValue:e.value.model,"onUpdate:modelValue":s[2]||(s[2]=r=>e.value.model=r),location:"top end",variant:"flat",timeout:e.value.timeout||2e3,color:e.value.type},{default:t(()=>[_(C(e.value.message),1)]),_:1},8,["modelValue","timeout","color"])]))}},R=y(q,[["__scopeId","data-v-a674eda2"]]);export{R as default};
