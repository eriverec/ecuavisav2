import{M as A,r as u,o as c,x as h,a as t,w as o,b as s,l as z,m as C,V as S,e as _,n as f,u as r,i as y,p as T,q as I,g as k,c as F,h as N,F as R,C as U,L as B,a3 as w,t as L,bd as M,be as j}from"./index.88d3c7f5.js";const g=v=>(M("data-v-f028e678"),v=v(),j(),v),q={class:"form-container"},D=g(()=>s("h1",{class:"mb-3"},"Formulario Remap",-1)),H={class:"form-group"},O={class:"form-group"},J={class:"form-group"},K={class:"form-group"},P={class:"form-group"},$=g(()=>s("br",null,null,-1)),G={class:""},Q=g(()=>s("h2",null,"Respuesta:",-1)),W=["innerHTML"],X={key:1,class:"error-container"},Y={__name:"index",setup(v){const n=u({url:"",key:"",elimAttr:[],reemplazarAttr:[],elimElementos:[]}),i=u(""),d=u(""),V=u(""),m=u([]),b=u(""),x=async()=>{i.value&&(n.value.elimAttr=i.value.split(",").map(a=>a.trim())),d.value&&(n.value.reemplazarAttr=d.value.split(",").reduce((a,e,l,p)=>{var E;return l%2===0&&a.push({buscar:p[l].trim(),reemplazar:((E=p[l+1])==null?void 0:E.trim())||""}),a},[])),n.value.elimElementos=V.value.split(",").map(a=>a.trim());try{const a=await fetch("https://jsonhtml-ecuavisa.vercel.app/read/remap_v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)});if(!a.ok)throw new Error("Error en la solicitud");const e=await a.json();console.log("Response:",e),e&&e.elements&&e.elements.length>0?m.value=e.elements:(m.value=[],b.value="No se encontraron elementos"),b.value=""}catch(a){console.error("Error:",a),a.value="Ocurri\xF3 un error al enviar el formulario",m.value=[]}};return(a,e)=>(c(),h("section",null,[t(k,{class:"mt-3"},{default:o(()=>[s("div",q,[D,t(z,{onSubmit:C(x,["prevent"])},{default:o(()=>[t(S,null,{default:o(()=>[t(_,{cols:"12"},{default:o(()=>[s("div",H,[t(f,{label:"Url",id:"url",modelValue:r(n).url,"onUpdate:modelValue":e[0]||(e[0]=l=>r(n).url=l),required:""},null,8,["modelValue"])])]),_:1}),t(_,{cols:"6"},{default:o(()=>[s("div",O,[t(f,{label:"Key",id:"key",modelValue:r(n).key,"onUpdate:modelValue":e[1]||(e[1]=l=>r(n).key=l),required:""},null,8,["modelValue"])])]),_:1}),t(_,{cols:"6"},{default:o(()=>[s("div",J,[t(f,{label:"Eliminar Atributos (separados por coma)",id:"elimAttr",modelValue:r(i),"onUpdate:modelValue":e[2]||(e[2]=l=>y(i)?i.value=l:null)},null,8,["modelValue"])])]),_:1}),t(_,{cols:"6"},{default:o(()=>[s("div",K,[t(f,{label:"Reemplazar Atributos (buscar, reemplazar)",id:"reemplazarAttr",modelValue:r(d),"onUpdate:modelValue":e[3]||(e[3]=l=>y(d)?d.value=l:null)},null,8,["modelValue"])])]),_:1}),t(_,{cols:"6"},{default:o(()=>[s("div",P,[t(f,{label:"Eliminar Elementos HTML",id:"elimElementos",modelValue:r(V),"onUpdate:modelValue":e[4]||(e[4]=l=>y(V)?V.value=l:null)},null,8,["modelValue"])])]),_:1})]),_:1}),t(T,{type:"submit"},{default:o(()=>[I(" Enviar ")]),_:1})]),_:1},8,["onSubmit"]),$])]),_:1}),r(m).length>0?(c(),F(k,{key:0,class:"mt-3"},{default:o(()=>[t(N,{class:"flex-wrap justify-space-between gap-4"},{default:o(()=>[s("div",G,[Q,(c(!0),h(R,null,U(r(m),(l,p)=>(c(),h("div",{key:p,class:B(`element _it-${p}`)},[s("div",{innerHTML:l},null,8,W)],2))),128))])]),_:1})]),_:1})):w("",!0),r(b)?(c(),h("div",X,[s("p",null,L(r(b)),1)])):w("",!0)]))}},ee=A(Y,[["__scopeId","data-v-f028e678"]]);export{ee as default};
