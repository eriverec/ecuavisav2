import{M as I,cy as N,r as h,as as S,o as u,c as V,w as r,a as t,h as B,b as e,q as i,t as o,p as v,aW as L,x as f,F as T,C as $,N as _,g as E,bb as b,bd as F,be as M}from"./index.88d3c7f5.js";const x=c=>(F("data-v-7df9d957"),c=c(),M(),c),O={class:"dispositivos-titulo"},P=x(()=>e("br",null,null,-1)),q={class:"nombre-usuario"},z={class:"d-flex flex-wrap gap-4 mt-10 mb-10"},A=x(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Nombre del dispositivo"),e("th",{scope:"col"},"Navegador"),e("th",{scope:"col"},"Pa\xEDs"),e("th",{scope:"col"},"IP"),e("th",{scope:"col"},"Acciones")])],-1)),D={class:"text-medium-emphasis"},R={class:"text-medium-emphasis"},U={class:"text-medium-emphasis"},W={class:"text-medium-emphasis"},j={class:"text-medium-emphasis"},G={__name:"[id]",setup(c){const w=N(),n=h({}),m=h([]),l=Number(w.params.id),d=async()=>{try{const s=await b.get(`https://ecuavisa-suscripciones.vercel.app/backoffice/dispositivo/web-get/${l}`);n.value=s.data.data.user,m.value=s.data.data.dispositivos}catch(s){console.error(s)}},g=async()=>{try{await b.post(`https://ecuavisa-suscripciones.vercel.app/dispositivo/web-cerrar-sesion-all/${l}`),d()}catch(s){console.error(s)}},y=async s=>{try{await b.post(`https://ecuavisa-suscripciones.vercel.app/dispositivo/web-cerrar-sesion/${l}`,{ip:s}),d()}catch(p){console.error(p)}},C=s=>({Chrome:"tabler-brand-chrome",Firefox:"tabler-brand-firefox",Safari:"tabler-brand-safari",Edge:"tabler-brand-edge",Opera:"tabler-brand-opera",iOS:"tabler-brand-apple-arcade"})[s]||"tabler-world-www",k=s=>s.toLowerCase().includes("desktop")?"tabler-device-desktop":s.toLowerCase().includes("mobile")?"tabler-device-mobile":s.toLowerCase().includes("tablet")?"tabler-device-tablet":"tabler-device";return S(()=>{d()}),(s,p)=>(u(),V(E,{class:"gestionador-dispositivos"},{default:r(()=>[t(B,null,{default:r(()=>[e("div",null,[e("h2",O,[i(" Dispositivos de"),P,e("span",q,o(n.value.first_name)+" "+o(n.value.last_name),1)]),e("div",z,[t(v,{"prepend-icon":"tabler-trash",color:"error",variant:"tonal",class:"ml-auto",onClick:g},{default:r(()=>[i(" Eliminar todas las sesiones ")]),_:1})]),t(L,{class:"text-no-wrap tableNavegacion mb-5"},{default:r(()=>[A,e("tbody",null,[(u(!0),f(T,null,$(m.value,a=>(u(),f("tr",{key:a.ip_dispositivo},[e("td",D,[t(_,{icon:k(a.nombre_dispositivo),class:"mr-2"},null,8,["icon"]),i(" "+o(a.nombre_dispositivo),1)]),e("td",R,[t(_,{icon:C(a.navegador),class:"mr-2"},null,8,["icon"]),i(" "+o(a.navegador),1)]),e("td",U,o(a.geo.country),1),e("td",W,o(a.ip_dispositivo),1),e("td",j,[t(v,{icon:"",color:"error",variant:"text",onClick:H=>y(a.ip_dispositivo)},{default:r(()=>[t(_,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]))),128))])]),_:1})])]),_:1})]),_:1}))}},K=I(G,[["__scopeId","data-v-7df9d957"]]);export{K as default};
