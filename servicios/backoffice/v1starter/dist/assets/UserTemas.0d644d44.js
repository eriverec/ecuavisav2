import{bG as C,r as f,cy as N,v as p,o as c,c as x,w as o,a as n,e as w,g as B,h as S,u as a,aW as U,b as e,p as A,bV as L,q,x as i,F as E,C as F,m as I,t as R,a3 as g,V as z}from"./index.88d3c7f5.js";import{V}from"./VCheckbox.50e352e3.js";const D={scope:"col"},G=e("th",{scope:"col"},[e("h6",{class:"text-base"},"Nombre")],-1),M={scope:"col"},O={style:{"text-align":"right"}},W={class:"d-flex align-center"},$={class:"d-flex flex-column"},j={class:"d-flex align-center"},H={class:"d-flex flex-column"},J=e("td",null,[e("div",{class:"d-flex align-center"},[e("div",{class:"d-flex flex-column"})])],-1),K={key:1},Z={__name:"UserTemas",setup(P){const m=C(),l=f([]),h=N(),t=f([]),_=()=>{m.fetchTema(Number(h.params.id)).then(s=>{l.value=s.data.usuario.Temas,console.log("Temas",l.value)})};_();const b=s=>{const d=t.value.indexOf(s);d===-1?t.value.push(s):t.value.splice(d,1)},r=p(()=>l.value.length&&l.value.length===t.value.length),v=p(()=>Boolean(t.value.length)&&l.value.length!==t.value.length),T=()=>{t.value=r.value?[]:l.value.map(s=>s.name)},y=()=>{t.value=[],_()},k=()=>{m.deleteTema(Number(h.params.id),t.value),window.setTimeout(y,900)};return(s,d)=>(c(),x(z,null,{default:o(()=>[n(w,{cols:"12"},{default:o(()=>[n(B,{title:"Temas del usuario"},{default:o(()=>[n(S,null,{default:o(()=>[a(l).length?(c(),x(U,{key:0,class:"text-no-wrap"},{default:o(()=>[e("thead",null,[e("tr",null,[e("th",D,[n(V,{"model-value":a(r),indeterminate:a(v),"onUpdate:modelValue":T},null,8,["model-value","indeterminate"])]),G,e("th",M,[e("div",O,[n(A,{"prepend-icon":"tabler-trash",color:"error",style:L({visibility:a(v)||a(r)?void 0:"hidden"}),onClick:k},{default:o(()=>[q(" Eliminar ")]),_:1},8,["style"])])])])]),e("tbody",null,[(c(!0),i(E,null,F(a(l),u=>(c(),i("tr",{key:u.name,style:{height:"3.75rem"}},[e("td",null,[e("div",W,[e("div",$,[n(V,{"model-value":a(t).includes(u.name),"onUpdate:modelValue":Q=>b(u.name),onClick:d[0]||(d[0]=I(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"])])])]),e("td",null,[e("div",j,[e("div",H,R(u.name),1)])]),J]))),128))])]),_:1})):g("",!0),a(l).length?g("",!0):(c(),i("div",K,"No hay temas que mostrar a\xFAn."))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Z as _};
