import{M as V,r as u,as as x,o as b,x as y,a as e,w as t,q as p,f as g,h,V as _,e as l,c7 as C,b as w,bC as S,p as T,g as U}from"./index.88d3c7f5.js";import{V as k}from"./VTextarea.86fae113.js";const D={class:"demo-space-x"},E={__name:"index",setup(B){const n=u(!1),d=u(""),r=u([]),c=u(!1),m=async()=>{try{const a=await(await fetch("https://estadisticas.ecuavisa.com/sites/gestor/Tools/suscripciones/modalondemand/getData.php")).json();n.value=a.data.estado==="true",d.value=a.data.contenido,r.value=a.data.url||[]}catch(s){console.error("Error fetching data:",s)}};x(m);const v=async()=>{const s=r.value,a={key:"modalondemand",data:{estado:n.value?"true":"false",contenido:d.value,url:s}};try{const i=await(await fetch("https://estadisticas.ecuavisa.com/sites/gestor/Tools/suscripciones/modalondemand/index.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();console.log("data",i),i.success?(c.value=!0,m()):console.error("Error actualizando:",i.error)}catch(o){console.error("Error updating data:",o)}},f=s=>s?"Activo":"Inactivo";return(s,a)=>(b(),y("div",null,[e(g,{timeout:2e3,modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=o=>c.value=o),color:"success",transition:"scale-transition",location:"top end"},{default:t(()=>[p(" Datos actualizados correctamente ")]),_:1},8,["modelValue"]),e(U,{class:"mt-5 card",title:"Modal Omdemand",subtitle:"Ecuavisa"},{default:t(()=>[e(h,null,{default:t(()=>[e(_,{class:"ml-2 mr-2 mb-2"},{default:t(()=>[e(l,{cols:"12",md:"6",lg:"6"},{default:t(()=>[e(_,{id:"modal"},{default:t(()=>[e(l,{cols:"12"},{default:t(()=>[e(C,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=o=>n.value=o),label:f(n.value)},null,8,["modelValue","label"])]),_:1}),e(l,{cols:"12"},{default:t(()=>[e(k,{label:"Contenido del modal",type:"text",modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=o=>d.value=o)},null,8,["modelValue"])]),_:1}),e(l,{cols:"12"},{default:t(()=>[w("div",D,[e(S,{class:"listUrls",modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=o=>r.value=o),multiple:"",chips:"",items:s.items,variant:"outlined",label:"URLS"},null,8,["modelValue","items"])])]),_:1}),e(l,{cols:"12"},{default:t(()=>[e(T,{onClick:v,color:"success",variant:"tonal"},{default:t(()=>[p(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{cols:"12",md:"6",lg:"6"})]),_:1})]),_:1})]),_:1})]))}},z=V(E,[["__scopeId","data-v-8914f142"]]);export{z as default};
