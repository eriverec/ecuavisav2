import{r as o,as as y,o as c,x as d,a as D,b as t,F as b,C as x,t as m,aX as F}from"./index.88d3c7f5.js";import{V as k}from"./VPagination.9412c3b8.js";const I=t("thead",null,[t("tr",null,[t("th",null,"First Name"),t("th",null,"Last Name")])],-1),N={__name:"indexold",setup(C){const g=o(null),_=o([]),r=o(1),p=o(1),v=o(1),f=o([]),l=o({start:new Date(new Date().setDate(new Date().getDate()-5)).toISOString().slice(0,10),end:new Date().toISOString().slice(0,10)});y(()=>{u(r.value,10,l.value.start,l.value.end)});const w=async()=>{await u(r.value,10,l.value.start,l.value.end)},S=s=>{if(s&&s.length===2){const[a,i]=s;l.value={start:a.toISOString().split("T")[0],end:i.toISOString().split("T")[0]},u(r.value,10,l.value.start,l.value.end)}},u=async(s=1,a=10,i,e)=>{const V=`https://servicio-elearning.vercel.app/grafico/exportar/usuarios/registrados?fechai=${i}&fechaf=${e}&limit=${a}&page=${s}&idCurso=664e32d4fa50c162c4a2e5c8`;try{const n=await(await fetch(V)).json();_.value=n.data,v.value=n.total,f.value=n.data,p.value=Math.ceil(n.total/n.limit),console.log(n.limit),console.log(n.total)}catch(h){console.error("Error al obtener los datos:",h)}};return(s,a)=>{const i=F;return c(),d("div",null,[D(i,{style:{width:"400px"},"prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),"show-current":"",onOnChange:S,config:{position:"auto right",mode:"range",altFormat:"F j, Y",dateFormat:"d-m-Y",maxDate:new Date,minDate:new Date("2023-04-09"),reactive:!0,clearable:!0}},null,8,["modelValue","config"]),t("table",null,[I,t("tbody",null,[(c(!0),d(b,null,x(f.value,e=>(c(),d("tr",{key:e._id},[t("td",null,m(e.first_name),1),t("td",null,m(e.last_name),1)]))),128))])]),t("div",null,m(v.value),1),D(k,{"total-visible":5,modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),length:p.value,class:"mt-4",onClick:w},null,8,["modelValue","length"])])}}};export{N as default};
