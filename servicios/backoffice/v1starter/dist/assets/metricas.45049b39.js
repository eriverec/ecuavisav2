import{ck as je,r as d,R as le,ak as ne,v as ce,bP as w,as as de,o as S,x as J,a as p,w as _,q as B,t as F,u as i,f as ue,aQ as fe,b as E,p as me,a3 as pe,aR as _e,b2 as ve,h as he,c as se,bx as ge,g as be,a4 as Ye,aX as ye,bH as $e,e as ie,V as Fe}from"./index.88d3c7f5.js";import{M as Me}from"./index.50982b4e.js";import{p as x}from"./parseISO.d0bde0b5.js";const De=je("date",()=>{const R=d(null);function I(u){R.value=u}return{selectedDate:R,setDate:I}});const Ve={class:"d-flex align-center gap-4"},Te={class:"app-user-search-filter d-flex align-top justify-content-flex-end flex-wrap flex-column gap-0"},Se=E("span",{style:{cursor:"pointer"},class:"px-0 py-p m-0"},"Exportar",-1),Ce={key:0,class:"px-0 py-1 text-disabled"},ke={class:"h5"},Ae={key:1,class:"py-4"},Ee={__name:"metrica_hija_embajador_agrupados_x_dias",setup(R){const I=De(),u=d({message:"Datos guardados",type:"success",model:!1}),L=d(!1),s=le.exports.extendMoment(Me);s.tz.setDefault("America/Guayaquil"),s.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Ene._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miercoles_Jueves_Viernes_Sabado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),s.locale("es");const U=e=>s.tz(e,"America/Guayaquil"),z=d([]),W=d(!1),P=e=>{const a=`rgba(${w(e.colors["on-surface"])},${e.variables["medium-emphasis-opacity"]})`,t=`rgba(${w(e.colors["on-surface"])},${e.variables["disabled-opacity"]})`,r=`rgba(${w(String(e.variables["border-color"]))},${e.variables["border-opacity"]})`,n=`rgba(${w(e.colors["on-surface"])},${e.variables["high-emphasis-opacity"]})`;return{themeSecondaryTextColor:a,themeDisabledTextColor:t,themeBorderColor:r,themePrimaryTextColor:n}},C=ne();async function H(e={}){try{const{fechai:t=s().format("YYYY-MM-DD"),fechaf:r=s().format("YYYY-MM-DD")}=e;var a=await fetch(`https://usuarios-backoffice.vercel.app/campaign-landings/metricas-agrupadas-por-dias/hija_embajador?fechai=${t}&fechaf=${r}&limit=50000`);const n=await a.json();n.resp&&(z.value=n.data.campania)}catch(t){return u.value={message:"No se pudo recuperar los usuarios, recargue de nuevo.",type:"error",model:!0},console.error(t.message)}}const Q=ce(()=>{const{themeBorderColor:e,themeDisabledTextColor:a,themeSecondaryTextColor:t,themePrimaryTextColor:r}=P(C.current.value),n=C.current.value.colors,c=C.current.value.variables,y=`rgba(${w(n.success)},0.2)`,m=`rgba(${w(n["on-background"])},${c["high-emphasis-opacity"]})`;n.success;let h=Array.from(z.value);const T={};h.forEach(M=>{T.hija_embajador||(T.hija_embajador={name:"hija_embajador",data:[]}),T.hija_embajador.data.push([s(M.date).valueOf(),M.total])});const $=Object.values(T),A={chart:{parentHeightOffset:0,type:"area",stacked:!1,height:320,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#173F5F","#00fa9a","#7365ed","#ff69b4","#000f08","#32cd32","#136f63","#ffd700","#ff4500","#ff0000","#ff8c00","#ffff00","#8b4513","#0000ff","#8a2be2","#ffa500","#ffd800","#ff1493","#9932cc","#ff8c00","#8b008b","#8a2be2"],fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.45,opacityTo:.05,stops:[20,100,100,100]}},yaxis:{title:{text:"Cantidad de usuarios registrados",style:{color:m,useSeriesColors:!1}},labels:{style:{colors:m,useSeriesColors:!1},offsetX:0,formatter:function(M){return M.toFixed(0)}},axisBorder:{show:!1},axisTicks:{show:!1}},xaxis:{type:"datetime",tickAmount:$[0].data.length-1,tooltip:{enabled:!1},labels:{style:{colors:m,useSeriesColors:!1},rotate:-15,rotateAlways:!0,formatter:function(M,X){return U(X).format("DD MMM YYYY")}}},tooltip:{theme:!1,custom:function({series:M,seriesIndex:X,dataPointIndex:re,w:xe}){const we=xe.globals.labels[re];return`<div class="tooltip-content">
                <div class="tooltip-body">
                <div class="tooltip-title">
                    La hija del embajador
                </div>
                <div class="tooltip-subtitle">
                  ${U(we).format("DD MMM YYYY")} <!-- Muestra la fecha -->
                </div>
                <div class="tooltip-data-flex">
                    <div class="tooltip-data-title">
                    Registrados
                    </div>
                    <div class="tooltip-data-value">
                    ${M[X][re]} Usuario(s)
                    </div>
                </div>
                </div>
            </div>`}},dataLabels:{enabled:!0,formatter(M){return M>0?`${M} usuario(s)`:""}},legend:{position:"top",horizontalAlign:"left",labels:{colors:t},markers:{offsetY:1,offsetX:-3},itemMargin:{vertical:3,horizontal:10}}};return{series:$,options:A}}),Y=d(5),j=s().format("YYYY-MM-DD"),f=s().subtract(Y.value,"days").format("YYYY-MM-DD"),b=d({inicio:f,fin:j}),v={fechasModel:[x(f),x(j)],fechasVModel:[x(j)],fechasVConfig:{position:"auto right",mode:"single",minDate:x(j),altFormat:"d F j, Y",dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0},fechai:f,fechaV:j,fechaf:j},g=d(v),G=d(!0);async function k(e,a,t){if(e.length>1){if(s(e[1]).diff(s(e[0]),"days")>Y.value)return g.value.fechasModel=[x(b.value.inicio),x(b.value.fin)],g.value.fechasVModel=[x(b.value.inicio)],u.value={message:`El rango de fechas debe ser de ${Y.value} dias o menos.`,type:"error",model:!0},console.error(`El rango de fechas debe ser de ${Y.value} dias o menos.`);G.value=!0,g.value.fechai=s(e[0]).format("DD-MM-YYYY"),g.value.fechaf=s(e[1]).format("DD-MM-YYYY"),b.value.inicio=s(g.value.fechai,"DD-MM-YYYY").format("YYYY-MM-DD"),b.value.fin=s(g.value.fechaf,"DD-MM-YYYY").format("YYYY-MM-DD"),await H({fechai:b.value.inicio,fechaf:b.value.fin})}else{if(e.length===1){const r=s(e[0]).add(Y.value,"days").toDate();g.value.fechasVConfig.maxDate=r}e.length==2&&(g.value.fechasVConfig.minDate=e[1],g.value.fechasVModel=[e[1]],G.value=!0),e.length==0&&(G.value=!1)}}const V=d(!1),Z=d(""),q=d("usuarios_hija_embajador"),K=d({_id:"_id",wylexId:"wylexId",site:"site",site_id:"site_id",email:"email",first_name:"first_name",last_name:"last_name",avatar:"avatar",logged_at:"logged_at",logged_at_site:"logged_at_site",updated_at:"updated_at",validated_at:"validated_at",banned_at:"banned_at",country:"country",phone_prefix:"phone_prefix",phone_number:"phone_number",gender:"gender",birth_date:"birth_date",identification_type:"identification_type",identification_number:"identification_number",newsletter_opt_in:"newsletter_opt_in",provider:"provider",platform:"platform",created_in_os:"created_in_os",created_at:"created_at",created_at_campaign:"created_at_campaign",ciudad:"ciudad",telefono:"telefono"});async function N(){try{V.value=!0,await te(),V.value=!1;let a=[];a=O.value;var e=`${q.value}`;Ye("descarga-completa-usuarios-hija-embajador"),o(K.value,ae(a),e)}catch(a){return console.log(a),u.value={message:"No se pudo recuperar los datos de usuario, recargue de nuevo.",type:"error",model:!0},V.value=!1,!1}}const D=d({tamanioActual:0,tamanioTotal:0}),O=d([]);async function ee(e=1,a=10){try{var t=new Headers;t.append("Content-Type","application/json");var r={method:"GET",headers:t,redirect:"follow"};Z.value=`https://usuarios-backoffice.vercel.app/campaign-landings/all-users/hija_embajador?fechai=${b.value.inicio}&fechaf=${b.value.fin}`,q.value="usuarios_hija_embajador_por_fecha";var n=await fetch(`${Z.value}&page=${e}&limit=${a}`,r);const c=await n.json();return c.resp?c:(u.value={message:"No se pudo recuperar los usuarios, recargue de nuevo.",type:"error",model:!0},null)}catch(c){return u.value={message:"No se pudo recuperar los usuarios, recargue de nuevo.",type:"error",model:!0},console.error(c.message),null}}function ae(e){const a=new Set;return e.filter(t=>a.has(t.wylexId)?!1:(a.add(t.wylexId),!0))}async function te(){D.value={tamanioActual:0,tamanioTotal:0},O.value=[];for(var e=1;;){const a=await ee(e,500),t=a.data,r=a.total;if(t.forEach(n=>{const c=n.user;let y={};for(let m in K.value)c.hasOwnProperty(m)?y[m]=c[m]:m=="created_at_campaign"?y[m]=n.created_at_campaign:y[m]="";O.value.push(y)}),D.value.tamanioActual=O.value.length,D.value.tamanioTotal=r,O.value.sort((n,c)=>s(c.created_at_campaign,"DD/MM/YYYY-HH:mm:ss").diff(s(n.created_at_campaign,"DD/MM/YYYY-HH:mm:ss"))),e++,t.length<1)break}return!0}function oe(e){for(var a=typeof e!="object"?JSON.parse(e):e,t="",r=0;r<a.length;r++){var n="";for(var c in a[r])n!=""&&(n+=","),n+=a[r][c];t+=n+`\r
`}return t}function o(e,a,t){e&&a[0].wylexId!=="wylexId"&&a.unshift(e);var r=JSON.stringify(a),n=oe(r),c=t+".csv"||"export.csv",y=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(y,c);else{var m=document.createElement("a");if(m.download!==void 0){var h=URL.createObjectURL(y);m.setAttribute("href",h),m.setAttribute("download",c),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m)}}}de(async()=>{W.value=!0,L.value=!1,await H({fechai:b.value.inicio,fechaf:b.value.fin}),W.value=!1,L.value=!0});const l=function(e,a,t){if(t.dataPointIndex>-1){const r=U(t.config.series[0].data[t.dataPointIndex][0]).format("YYYY-MM-DD");I.setDate(r)}};return(e,a)=>{const t=ye;return S(),J("section",null,[p(ue,{modelValue:i(u).model,"onUpdate:modelValue":a[0]||(a[0]=r=>i(u).model=r),location:"top end",variant:"flat",timeout:i(u).timeout||2e3,color:i(u).type},{default:_(()=>[B(F(i(u).message),1)]),_:1},8,["modelValue","timeout","color"]),p(be,null,{default:_(()=>[p(fe,null,{append:_(()=>[E("div",Ve,[p(t,{clearable:"",class:"bg-white",style:{width:"19rem"},label:"Fecha de inicio y fin del curso","prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:i(g).fechasModel,"onUpdate:modelValue":a[1]||(a[1]=r=>i(g).fechasModel=r),"show-current":"true",onOnChange:k,config:{position:"auto right",mode:"range",altFormat:"d F j, Y",maxDate:new Date,dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0}},null,8,["modelValue"]),E("div",Te,[p(me,{loading:i(V),disabled:i(V)||e.loadingUsuarios,variant:"tonal",color:"success","prepend-icon":"tabler-screen-share",onClick:N},{default:_(()=>[Se]),_:1},8,["loading","disabled"]),i(V)?(S(),J("small",Ce," Exportando "+F(i(D).tamanioActual)+" / "+F(i(D).tamanioTotal)+" registros ",1)):pe("",!0)])])]),default:_(()=>[p(_e,null,{default:_(()=>[B(" Usuarios registrados agrupados por fecha ")]),_:1}),p(ve,{class:"text-wrap",style:{"word-break":"break-all"}},{default:_(()=>[B(" Dise\xF1ada para mostrar la cantidad de usuarios registrados, organizados de acuerdo con la fecha de registro. Esta vista permite analizar el comportamiento de registro de los usuarios dentro de un rango espec\xEDfico, con la restricci\xF3n de seleccionar \xFAnicamente un intervalo m\xE1ximo de "+F(i(Y))+" d\xEDas. ",1)]),_:1})]),_:1}),p(he,null,{default:_(()=>[E("div",ke," Mostrando datos de: "+F(i(b).inicio)+" - "+F(i(b).fin),1),i(L)?(S(),se(i(ge),{key:0,options:i(Q).options,series:i(Q).series,height:320,width:"100%",onClick:l},null,8,["options","series"])):(S(),J("div",Ae," Cargando datos... "))]),_:1})]),_:1})])}}};const Ie={class:"d-flex align-center gap-4"},Le={class:"app-user-search-filter d-flex align-top justify-content-flex-end flex-wrap flex-column gap-0"},Ne=E("span",{style:{cursor:"pointer"},class:"px-0 py-p m-0"},"Exportar",-1),Oe={key:0,class:"px-0 py-1 text-disabled"},Ue={class:"h5"},Je={key:1,class:"py-4"},Be={__name:"metrica_hija_embajador_agrupados_x_horas",setup(R){const I=De(),u=d({message:"Datos guardados",type:"success",model:!1}),L=d(!1),s=le.exports.extendMoment(Me);s.tz.setDefault("America/Guayaquil"),s.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Ene._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miercoles_Jueves_Viernes_Sabado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),s.locale("es");const U=d([]),z=d(!1),W=o=>{const l=`rgba(${w(o.colors["on-surface"])},${o.variables["medium-emphasis-opacity"]})`,e=`rgba(${w(o.colors["on-surface"])},${o.variables["disabled-opacity"]})`,a=`rgba(${w(String(o.variables["border-color"]))},${o.variables["border-opacity"]})`,t=`rgba(${w(o.colors["on-surface"])},${o.variables["high-emphasis-opacity"]})`;return{themeSecondaryTextColor:l,themeDisabledTextColor:e,themeBorderColor:a,themePrimaryTextColor:t}},P=ne();async function C(o={}){try{const{fechai:e=s().format("YYYY-MM-DD"),fechaf:a=s().format("YYYY-MM-DD")}=o;var l=await fetch(`https://usuarios-backoffice.vercel.app/campaign-landings/metricas-agrupadas-por-dia/hija_embajador?fechai=${e}&fechaf=${a}&limit=50000`);const t=await l.json();t.resp&&(U.value=t.data)}catch(e){return u.value={message:"No se pudo recuperar los usuarios, recargue de nuevo.",type:"error",model:!0},console.error(e.message)}}const H=ce(()=>{const{themeBorderColor:o,themeDisabledTextColor:l,themeSecondaryTextColor:e,themePrimaryTextColor:a}=W(P.current.value),t=P.current.value.colors,r=P.current.value.variables,n=`rgba(${w(t["on-background"])},${r["high-emphasis-opacity"]})`;t.success,t.primary,t.secondary;let c=Array.from(U.value);const y=[{name:"Usuarios registrados",data:c.map(h=>h.total)}],m={chart:{type:"area",height:320,parentHeightOffset:0,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#8a2be2","#173F5F","#00fa9a","#7365ed","#ff69b4","#000f08","#32cd32","#136f63","#ffd700","#ff4500","#ff0000","#ff8c00","#ffff00","#8b4513","#0000ff","#ffa500","#ffd800","#ff1493","#9932cc","#ff8c00","#8b008b","#8a2be2"],fill:{type:"gradient",gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:.45,opacityTo:.05,stops:[20,100,100,100]}},xaxis:{categories:c.map(h=>h.rango),labels:{style:{colors:n},rotate:-15,formatter:function(h){if(!h)return"";var T=h.split("-"),$=T[0],A=T[1],M=$>=0&&$<12?`${$} AM`:`${$} PM`,X=A>=0&&A<12?`${A} AM`:`${A} PM`;return`${M} - ${X}`}}},yaxis:{title:{text:"Cantidad de usuarios registrados",style:{color:n}},labels:{style:{colors:n},formatter:h=>`${h.toFixed(0)}`}},tooltip:{theme:!1,custom:function({series:h,seriesIndex:T,dataPointIndex:$,w:A}){return`<div class="tooltip-content">
                <div class="tooltip-body">
                <div class="tooltip-title">
                    La hija del embajador
                </div>
                <div class="tooltip-subtitle">
                  ${A.globals.categoryLabels[$]} <!-- Muestra la fecha -->
                </div>
                <div class="tooltip-data-flex">
                    <div class="tooltip-data-title">
                    Registrados
                    </div>
                    <div class="tooltip-data-value">
                    ${h[T][$]} Usuario(s)
                    </div>
                </div>
                </div>
            </div>`}},dataLabels:{enabled:!0,formatter:h=>h>0?`${h} usuario(s)`:""},noData:{text:"No hay datos disponibles",align:"center",verticalAlign:"middle",style:{color:l,fontSize:"16px"}},legend:{position:"top",horizontalAlign:"left",labels:{colors:e}}};return{series:y,options:m}}),Q=d(0),Y=s().format("YYYY-MM-DD"),j=s().subtract(Q.value,"days").format("YYYY-MM-DD"),f=d({inicio:j,fin:Y}),b={fechasModel:[x(j),x(Y)],fechasVModel:[x(Y)],fechasVConfig:{position:"auto right",mode:"single",minDate:x(Y),altFormat:"d F j, Y",dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0},fechai:j,fechaV:Y,fechaf:Y},v=d(b),g=d(!0);async function G(o,l,e){console.log(o),o.length>1?(g.value=!0,v.value.fechai=s(o[0]).format("DD-MM-YYYY"),v.value.fechaf=s(o[1]).format("DD-MM-YYYY"),f.value.inicio=s(v.value.fechai,"DD-MM-YYYY").format("YYYY-MM-DD"),f.value.fin=s(v.value.fechaf,"DD-MM-YYYY").format("YYYY-MM-DD"),await C({fechai:f.value.inicio,fechaf:f.value.fin})):(o.length===1&&(v.value.fechai=s(o[0]).format("DD-MM-YYYY"),v.value.fechaf=s(o[0]).format("DD-MM-YYYY"),f.value.inicio=s(v.value.fechai,"DD-MM-YYYY").format("YYYY-MM-DD"),f.value.fin=s(v.value.fechaf,"DD-MM-YYYY").format("YYYY-MM-DD"),await C({fechai:f.value.inicio,fechaf:f.value.fin})),o.length==2&&(v.value.fechasVConfig.minDate=o[1],v.value.fechasVModel=[o[1]],g.value=!0),o.length==0&&(g.value=!1))}de(async()=>{z.value=!0,L.value=!1,await C({fechai:f.value.inicio,fechaf:f.value.fin}),z.value=!1,L.value=!0});const k=d(!1),V=d(""),Z=d("usuarios_hija_embajador"),q=d({_id:"_id",wylexId:"wylexId",site:"site",site_id:"site_id",email:"email",first_name:"first_name",last_name:"last_name",avatar:"avatar",logged_at:"logged_at",logged_at_site:"logged_at_site",updated_at:"updated_at",validated_at:"validated_at",banned_at:"banned_at",country:"country",phone_prefix:"phone_prefix",phone_number:"phone_number",gender:"gender",birth_date:"birth_date",identification_type:"identification_type",identification_number:"identification_number",newsletter_opt_in:"newsletter_opt_in",provider:"provider",platform:"platform",created_in_os:"created_in_os",created_at:"created_at",created_at_campaign:"created_at_campaign",ciudad:"ciudad",telefono:"telefono"});async function K(){try{k.value=!0,await ae(),k.value=!1;let l=[];l=D.value;var o=`${Z.value}`;Ye("descarga-completa-usuarios-hija-embajador"),oe(q.value,ee(l),o)}catch(l){return console.log(l),u.value={message:"No se pudo recuperar los datos de usuario, recargue de nuevo.",type:"error",model:!0},k.value=!1,!1}}const N=d({tamanioActual:0,tamanioTotal:0}),D=d([]);async function O(o=1,l=10){try{var e=new Headers;e.append("Content-Type","application/json");var a={method:"GET",headers:e,redirect:"follow"};V.value=`https://usuarios-backoffice.vercel.app/campaign-landings/all-users/hija_embajador?fechai=${f.value.inicio}&fechaf=${f.value.fin}`,Z.value="usuarios_hija_embajador_por_fecha_dia";var t=await fetch(`${V.value}&page=${o}&limit=${l}`,a);const r=await t.json();return r.resp?r:(u.value={message:"No se pudo recuperar los usuarios, recargue de nuevo.",type:"error",model:!0},null)}catch(r){return u.value={message:"No se pudo recuperar los usuarios, recargue de nuevo.",type:"error",model:!0},console.error(r.message),null}}function ee(o){const l=new Set;return o.filter(e=>l.has(e.wylexId)?!1:(l.add(e.wylexId),!0))}async function ae(){N.value={tamanioActual:0,tamanioTotal:0},D.value=[];for(var o=1;;){const l=await O(o,500),e=l.data,a=l.total;if(e.forEach(t=>{const r=t.user;let n={};for(let c in q.value)r.hasOwnProperty(c)?n[c]=r[c]:c=="created_at_campaign"?n[c]=t.created_at_campaign:n[c]="";D.value.push(n)}),N.value.tamanioActual=D.value.length,N.value.tamanioTotal=a,D.value.sort((t,r)=>s(r.created_at_campaign,"DD/MM/YYYY-HH:mm:ss").diff(s(t.created_at_campaign,"DD/MM/YYYY-HH:mm:ss"))),o++,e.length<1)break}return!0}function te(o){for(var l=typeof o!="object"?JSON.parse(o):o,e="",a=0;a<l.length;a++){var t="";for(var r in l[a])t!=""&&(t+=","),t+=l[a][r];e+=t+`\r
`}return e}function oe(o,l,e){o&&l[0].wylexId!=="wylexId"&&l.unshift(o);var a=JSON.stringify(l),t=te(a),r=e+".csv"||"export.csv",n=new Blob([t],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,r);else{var c=document.createElement("a");if(c.download!==void 0){var y=URL.createObjectURL(n);c.setAttribute("href",y),c.setAttribute("download",r),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}}return $e(async()=>{if(I.selectedDate){const o=I.selectedDate;g.value=!0,v.value.fechai=s(o,"YYYY-MM-DD").format("DD-MM-YYYY"),v.value.fechaf=s(o,"YYYY-MM-DD").format("DD-MM-YYYY"),f.value.inicio=s(v.value.fechai,"DD-MM-YYYY").format("YYYY-MM-DD"),f.value.fin=s(v.value.fechaf,"DD-MM-YYYY").format("YYYY-MM-DD"),await C({fechai:f.value.inicio,fechaf:f.value.fin}),console.log("Fecha actualizada:",o)}}),(o,l)=>{const e=ye;return S(),J("section",null,[p(ue,{modelValue:i(u).model,"onUpdate:modelValue":l[0]||(l[0]=a=>i(u).model=a),location:"top end",variant:"flat",timeout:i(u).timeout||2e3,color:i(u).type},{default:_(()=>[B(F(i(u).message),1)]),_:1},8,["modelValue","timeout","color"]),p(be,null,{default:_(()=>[p(fe,null,{append:_(()=>[E("div",Ie,[p(e,{clearable:"",class:"bg-white",style:{width:"19rem"},label:"Fecha de inicio y fin del curso","prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:i(v).fechasModel,"onUpdate:modelValue":l[1]||(l[1]=a=>i(v).fechasModel=a),"show-current":"true",onOnChange:G,config:{position:"auto right",mode:"single",altFormat:"d F j, Y",maxDate:new Date,dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0}},null,8,["modelValue"]),E("div",Le,[p(me,{loading:i(k),disabled:i(k)||o.loadingUsuarios,variant:"tonal",color:"success","prepend-icon":"tabler-screen-share",onClick:K},{default:_(()=>[Ne]),_:1},8,["loading","disabled"]),i(k)?(S(),J("small",Oe," Exportando "+F(i(N).tamanioActual)+" / "+F(i(N).tamanioTotal)+" registros ",1)):pe("",!0)])])]),default:_(()=>[p(_e,null,{default:_(()=>[B(" Usuarios registrados por fecha agrupados por horas ")]),_:1}),p(ve,{class:"text-wrap",style:{"word-break":"break-all"}},{default:_(()=>[B(" Dise\xF1ada para mostrar la cantidad de usuarios registrados, organizados de acuerdo con la fecha de registro, agrupados por horas. ")]),_:1})]),_:1}),p(he,null,{default:_(()=>[E("div",Ue," Mostrando: "+F(i(f).inicio),1),i(L)?(S(),se(i(ge),{key:0,options:i(H).options,series:i(H).series,height:320,width:"100%"},null,8,["options","series"])):(S(),J("div",Je," Cargando datos... "))]),_:1})]),_:1})])}}},Ge={__name:"metricas",setup(R){return(I,u)=>(S(),se(Fe,null,{default:_(()=>[p(ie,{cols:"12",md:"12"},{default:_(()=>[p(Ee)]),_:1}),p(ie,{cols:"12",md:"12"},{default:_(()=>[p(Be)]),_:1})]),_:1}))}};export{Ge as default};
