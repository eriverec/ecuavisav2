import{r as i,Q as J,o as v,x as N,a as e,a2 as ze,F as le,C as pe,c as T,w as s,e as b,n as G,V as P,p as S,N as h,q as p,b as u,R as Ze,U as el,v as ll,bu as al,as as sl,t as R,u as o,f as tl,g as ie,h as j,i as k,b0 as ge,l as ol,aT as ue,a3 as de,b3 as rl,b4 as nl,b5 as il,b6 as ul,Z as Ee,cH as dl,$ as ce,X as cl,aQ as pl,Y as ml,aR as vl,b2 as fl,aM as Ne,bc as gl}from"./index.88d3c7f5.js";import{M as bl}from"./index.50982b4e.js";import{V as yl}from"./VSpacer.2a3e77c9.js";const hl=u("label",null,"Key",-1),_l=u("label",null,"Value",-1),Vl={__name:"enviroment_component",props:{initialVariables:{type:Array,default:()=>[]}},emits:["update:variables"],setup(Se,{emit:me}){const L=Se,x=i([]),z=n=>{x.value=n.length>0?[...n]:[{key:"",value:""}]};J(()=>L.initialVariables,n=>{z(n)},{immediate:!0});const be=()=>{x.value.push({key:"",value:""})},X=n=>{x.value.splice(n,1),x.value.length===0&&x.value.push({key:"",value:""})};return J(x,n=>{me("update:variables",n)},{deep:!0}),(n,ye)=>(v(),N(le,null,[e(ze,{class:"mb-4"}),(v(!0),N(le,null,pe(x.value,(ae,$)=>(v(),T(P,{key:$},{default:s(()=>[e(b,{cols:"12",sm:"5",lg:"5",class:"px-2"},{default:s(()=>[hl,e(G,{modelValue:x.value[$].key,"onUpdate:modelValue":g=>x.value[$].key=g,clearable:"",placeholder:"e.g CLIENT_KEY"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(b,{cols:"12",sm:"7",lg:"7",class:"px-2"},{default:s(()=>[e(P,{class:"align-center"},{default:s(()=>[e(b,{cols:"10",sm:"10",lg:"10",class:"px-0"},{default:s(()=>[_l,e(G,{modelValue:x.value[$].value,"onUpdate:modelValue":g=>x.value[$].value=g,clearable:"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(b,{cols:"2",sm:"2",lg:"2",class:"px-0 justify-end d-flex"},{default:s(()=>[e(S,{class:"mt-5 ml-1",variant:"text",icon:"tabler-circle-minus",color:"error",onClick:g=>X($)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(P,null,{default:s(()=>[e(b,{cols:"12",sm:"12",lg:"12",class:"px-2"},{default:s(()=>[e(S,{variant:"outlined",onClick:be},{default:s(()=>[e(h,{icon:"tabler-circle-plus",class:"mr-2"}),p(" Agregar otro ")]),_:1})]),_:1})]),_:1})],64))}};const xl=u("label",{for:""},"SSH(Remote URL)",-1),kl=u("label",{for:""},"Nombre del servicio",-1),Sl=u("label",{for:""},"Switch branches/tags",-1),wl=u("label",{for:""},"Seleccione un puerto",-1),Cl=u("label",{for:""},"Nombre de la carpeta existente del servicio",-1),El={key:0,class:"d-flex align-center",style:{"font-size":"13px","padding-top":"3px","min-width":"3rem",width:"100%","text-overflow":"ellipsis",overflow:"hidden","white-space":"pre"}},Nl={class:"d-flex align-center demo-space-x"},zl=u("label",{for:"",class:"lh-1 mb-2"},"Inicio de su application o comando npm",-1),Ul=u("label",{for:"",class:"mb-4 d-block"},"Ruta del servicio",-1),Rl=u("div",{class:"d-flex align-center"}," / ",-1),Tl={key:0},jl={class:"d-flex align-center"},Pl=u("div",{class:"progress-spinner"},null,-1),Dl={class:"ml-2 text-capitalize"},Ll={key:1,class:"d-flex align-center d-none"},$l=u("span",{class:"ml-2"},"Proceso finalizado con \xE9xito",-1),Ml={class:"details-console"},Al={key:0},Bl={class:"d-flex align-center"},Ol=u("div",{class:"progress-spinner"},null,-1),Il={class:"ml-2 text-capitalize"},Fl={key:1,class:"d-flex align-center d-none"},Jl=u("span",{class:"ml-2"},"Proceso finalizado con \xE9xito",-1),Wl={class:"details-console"},Hl=u("h1",{class:"mb-4"},"Servicios NodeJS activos AWS",-1),Gl={class:"me-3 d-flex gap-4"},Xl={class:"app-user-search-filter d-flex align-top justify-content-flex-end flex-wrap flex-column gap-0"},ql=u("span",{style:{cursor:"pointer"},class:"px-0 py-p m-0"},"Crear servicio",-1),Ql={class:"d-flex align-center"},Kl={class:"image pb-2"},Yl={class:"descripcion"},Zl={class:"btn-acions",title:"Acciones sobre el servicio"},ea={class:"repo-github-name pb-5"},la={class:"image-git-name"},aa={class:"repo-github-name pb-2"},sa={key:1,class:"estado-certificado"},ta={class:"info-repo d-flex align-center justify-content-between pb-0"},oa={class:"repo-info-name d-flex align-center",title:"Puerto en ejecuci\xF3n"},ra={class:"image-git-name"},na={class:"repo-info-name d-flex align-center"},ia={class:"image-git-name"},va={__name:"index",setup(Se){const me=Ze.exports.extendMoment(bl);me.locale("es",[el]),me.tz.setDefault("America/Guayaquil");const L="https://services.ecuavisa.com/git-puller",x=i(10);i(0),i(1),i(0),i(0);const z=i([]),be=i([]),X=i([]),n=i(!1),ye=i(["Todos los repositorios"]),ae=i("Todos los repositorios"),$=i([]),g=i(null),he=i(!1),_e=i(""),c=i({message:"Datos guardados",type:"success",model:!1}),Ue=function(t){try{return t.map(l=>l.remoteUrl)}catch{return[]}},Re=function(t){try{return t.map(l=>{const d=l.remoteUrl.split(":"),a=d[1].split("/")[0],m=d[1].split("/")[1].split(".")[0],V=d[1].split("/")[1].split(".")[1];return`/${m}`})}catch{return[]}},Ve=function(t="all",l=""){try{const m=[];if(t=="all"){for(var d in z.value){const V=z.value[d].services;for(var a in V)V[a].pathPimary=z.value[d].remoteUrl.split(":")[1],m.push(V[a])}return m}else{for(var d in z.value)if(z.value[d].remoteUrl.includes(l)){const F=z.value[d].services;for(var a in F)F[a].pathPimary=z.value[d].remoteUrl.split(":")[1],m.push(F[a])}return m}}catch{return[]}},Te=ll(()=>X.value),ve=async()=>{n.value=!0;try{var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"};const a=await(await fetch(L+"/backoffice/list-services",l)).json();return z.value=JSON.parse(JSON.stringify(a.data.repos)),be.value=JSON.parse(JSON.stringify(a.data.repos)),ye.value=["Todos los repositorios",...Re(a.data.repos)],$.value=Ue(a.data.repos),X.value=Ve("all"),n.value=!1,await je(),!0}catch(d){return console.log(d),c.value={message:"No se pudo recuperar los servicios node, recargue de nuevo.",type:"error",model:!0},n.value=!1,null}},je=async()=>{try{const l=await(await fetch(L+"/backoffice/list-ports",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer 3CUAVISaNhWVCRNPofjXtWMk1D99LOoFzMf6LfoNlkiN8dGDkd"}})).json();return we.value=l.data,l}catch(t){return c.value={message:"Existe un error en la conexi\xF3n para listar los puertos."+t,type:"error",model:!0},null}};J(ae,async(t,l)=>t&&t=="Todos los repositorios"?(X.value=Ve("all"),!0):t?(X.value=Ve("remoteUrl",t),!0):(X.value=[],!0));const M=i(!1),A=i("main"),B=i(""),we=i([]),se=i(!0),U=i(""),O=i("api/index.js"),I=i(""),w=i(""),W=i(!1);i(null);const y=i([]),D=i(!1),_=i("Enviando..."),te=i(null);async function Pe(t){try{const d=(await fetch(L+"/backoffice/create-service-with-progress/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 3CUAVISaNhWVCRNPofjXtWMk1D99LOoFzMf6LfoNlkiN8dGDkd"},body:JSON.stringify(t)})).body.getReader(),a=new TextDecoder;for(;;){const{value:m,done:V}=await d.read();if(V){D.value=!0;break}const q=a.decode(m).split(`

`).filter(Boolean);for(const C of q)if(C.startsWith("data: "))try{const E=C.length<6?C:C.slice(6),r=E.trim()?JSON.parse(E):null;r.type=="info"?_.value=r.message:r.type=="progress"?r.stage=="start"||r.stage=="installing"?_.value=r.output:(_.value=`Ejecutando: [${r==null?void 0:r.command}]`,y.value.push({message:r==null?void 0:r.output})):r.type=="completed"?(_.value=r.output,y.value.push({message:r.output})):r.type=="success"?D.value=!0:r.type=="error"?(console.error("Error:",r),c.value={message:"Existe un error en las respuestas del servidor..."+JSON.stringify(r),type:"error",model:!0},y.value.push({message:r.message})):y.value.push({message:r.output})}catch(E){console.log("Error parsing message:",E),y.value.push({message:"Error parsing message:"+E})}}}catch(l){return console.error("Error en la conexi\xF3n:",l),c.value={message:"Existe un error en la conexi\xF3n."+l,type:"error",model:!0},null}}const De=async()=>B.value?A.value?I.value?w.value?O.value?U.value?(Y.value=="create"&&await Le(),Y.value=="update"&&await We(),!0):(c.value={message:"Error, el campo para el nombre del dominio es obligatorio.",type:"error",model:!0},!0):(c.value={message:"Error, el campo de Inicio de su application, es obligatorio.",type:"error",model:!0},!0):(c.value={message:"Error, el campo para el nombre de la carpeta principal es obligatorio.",type:"error",model:!0},!0):(c.value={message:"Error, el campo Nombre es obligatorio.",type:"error",model:!0},!0):(c.value={message:"Error, el campo Branch es obligatorio.",type:"error",model:!0},!0):(c.value={message:"Error, el campo Puerto es obligatorio.",type:"error",model:!0},!0),Le=async()=>{const t=g.value,l=A.value,d=I.value,a=w.value.replace(/^\/|\/$/g,""),m=O.value.replace(/^\/|\/$/g,""),V=U.value,F=se.value,q=B.value,C=ee.value;W.value=!0,n.value=!0,await Pe({remoteUrl:t,branch:l,name:d,path:a,init:m,domain:V,ssl:F,port:q,environmentVariables:C}),await ve(),n.value=!1,M.value=!1},$e=async()=>{Y.value="create",M.value=!0};J(w,t=>{t&&(w.value=t.replace(/\s+/g,"/"))});const Me=()=>{if(te.value){const t=te.value;t.scrollTop=t.scrollHeight}};J(()=>{var t;return(t=te.value)==null?void 0:t.innerHTML},()=>{al(()=>{Me()})});const oe=i(0),H=i(!1),Ae=async t=>{console.log(t),H.value=!0,oe.value=t},Be=async()=>{try{n.value=!0;var t=new Headers;t.append("Content-Type","application/json");const d=await(await fetch(L+"/backoffice/delete-service/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer 3CUAVISaNhWVCRNPofjXtWMk1D99LOoFzMf6LfoNlkiN8dGDkd"},body:JSON.stringify({serviceId:oe.value})})).json();await ve(),n.value=!1,H.value=!1}catch(l){return c.value={message:"Existe un error en la conexi\xF3n."+l,type:"error",model:!0},n.value=!1,console.error(l.message)}},xe=i(!1),Q=i(!1);function Oe(){Q.value=!1,W.value=!1,xe.value=!1,n.value=!1,g.value="",A.value="",I.value="",w.value="",O.value="api/index.js",U.value="",se.value=!1,B.value="",y.value=[],D.value=!1,_.value="Enviando...",oe.value=null,ee.value=[]}J(()=>M.value,t=>{t||Oe()});const K=i(!1);J(()=>K.value,t=>{t==!1&&(W.value=!1,n.value=!1,D.value=!1,_.value="Enviando...")});async function Ie(t){K.value=!0,n.value=!0;try{const d=(await fetch(L+"/backoffice/redeploy-service-with-progress/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 3CUAVISaNhWVCRNPofjXtWMk1D99LOoFzMf6LfoNlkiN8dGDkd"},body:JSON.stringify({id:t})})).body.getReader(),a=new TextDecoder;for(;;){const{value:m,done:V}=await d.read();if(V){D.value=!0;break}const q=a.decode(m).split(`

`).filter(Boolean);for(const C of q)if(C.startsWith("data: "))try{const E=C.length<6?C:C.slice(6),r=E.trim()?JSON.parse(E):null;r.type=="info"?_.value=r.message:r.type=="progress"?r.stage=="start"||r.stage=="installing"?_.value=r.output:(_.value=`Ejecutando: [${r==null?void 0:r.command}]`,y.value.push({message:r==null?void 0:r.output})):r.type=="completed"?(_.value=r.output,y.value.push({message:r.output})):r.type=="success"?D.value=!0:r.type=="error"?(console.error("Error:",r),c.value={message:"Existe un error en las respuestas del servidor..."+JSON.stringify(r),type:"error",model:!0},y.value.push({message:r.message})):y.value.push({message:r.output})}catch(E){console.log("Error parsing message:",E),y.value.push({message:"Error parsing message:"+E})}}c.value={message:"Redeploy completado.",type:"success",model:!0},n.value=!1}catch(l){return console.error("Error en la conexi\xF3n:",l),c.value={message:"Existe un error en la conexi\xF3n."+l,type:"error",model:!0},null}}function Fe(t){return/^(\d{1,3}\.){3}\d{1,3}$/.test(t)?t.split(".").every(d=>{const a=parseInt(d);return a>=0&&a<=255}):!1}const Y=i("create");i(!1);async function Je(t){Y.value="update";const l=z.value.flatMap(a=>a.services).find(a=>a.id==t),d=z.value.find(a=>a.services.some(m=>m.id==t));if(oe.value=t,g.value=d.remoteUrl,A.value=d.branch,I.value=l.name,w.value=l.path,O.value=l.init,U.value=l.domain.includes("https://")?l.domain.replace("https://","").split("/")[1]:l.domain.replace("http://",""),se.value=l.ssl,B.value=l.port,xe.value=!0,Q.value=!0,l.environmentVariables&&(ee.value=l.environmentVariables),!l)return c.value={message:"No existe servicio que modificar",type:"error",model:!0},!1;M.value=!0}async function We(){try{if(!B.value)return c.value={message:"Error, el campo Puerto es obligatorio.",type:"error",model:!0},!0;if(!A.value)return c.value={message:"Error, el campo Branch es obligatorio.",type:"error",model:!0},!0;if(!I.value)return c.value={message:"Error, el campo Nombre es obligatorio.",type:"error",model:!0},!0;if(!w.value)return c.value={message:"Error, el campo para el nombre de la carpeta principal es obligatorio.",type:"error",model:!0},!0;if(!O.value)return c.value={message:"Error, el campo de Inicio de su application, es obligatorio.",type:"error",model:!0},!0;if(!U.value)return c.value={message:"Error, el campo para el nombre del dominio es obligatorio.",type:"error",model:!0},!0;const t=oe.value,l=g.value,d=A.value,a=I.value,m=w.value.replace(/^\/|\/$/g,""),V=O.value.replace(/^\/|\/$/g,""),F=U.value,q=se.value,C=B.value,E=ee.value,r={remoteUrl:l,branch:d,name:a,path:m,init:V,domain:F,ssl:q,port:C,id:t,environmentVariables:E};n.value=!0,W.value=!0;const Xe=(await fetch(L+"/backoffice/update-service-with-progress/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 3CUAVISaNhWVCRNPofjXtWMk1D99LOoFzMf6LfoNlkiN8dGDkd"},body:JSON.stringify(r)})).body.getReader(),qe=new TextDecoder;for(;;){const{value:Qe,done:Ke}=await Xe.read();if(Ke){D.value=!0;break}const Ye=qe.decode(Qe).split(`

`).filter(Boolean);for(const fe of Ye)if(fe.startsWith("data: "))try{const ne=fe.length<6?fe:fe.slice(6),f=ne.trim()?JSON.parse(ne):null;f&&(f.type=="info"?_.value=f.message:f.type=="progress"?f.stage=="start"||f.stage=="installing"?_.value=f.output:(_.value=`Ejecutando: [${f==null?void 0:f.command}]`,y.value.push({message:f==null?void 0:f.output})):f.type=="completed"?(_.value=f.output,y.value.push({message:f.output})):f.type=="success"?D.value=!0:f.type=="error"?(console.error("Error:",f),c.value={message:"Existe un error en las respuestas del servidor..."+JSON.stringify(f),type:"error",model:!0},y.value.push({message:f.message})):y.value.push({message:f.output}))}catch(ne){console.log("Error parsing message:",ne),y.value.push({message:"Error parsing message:"+ne})}}await ve(),n.value=!0,M.value=!1}catch(t){return console.error("Error en la conexi\xF3n:",t),c.value={message:"Existe un error en la conexi\xF3n."+t,type:"error",model:!0},null}}J(w,t=>{t&&Y.value!="update"&&(U.value=t)}),J(U,t=>{if(t){const l=t.replace(/[^a-zA-Z0-9-.]/g,"").toLowerCase();l!=t.toLowerCase()&&(U.value=l),se.value=!Fe(t)}});const Z=i(!1),re=i([]),ke=i([]),Ce=async()=>{Q.value=!0;try{var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"};const a=await(await fetch(L+"/backoffice/list-services-status",l)).json();return re.value=a.data.services,Q.value=!1,!0}catch(d){return console.log(d),c.value={message:"No se pudo recuperar los servicios node, recargue de nuevo.",type:"error",model:!0},Q.value=!1,null}},He=async()=>{try{if(ke.value=[],g.value){Z.value=!0;const l=g.value.split("/")[1].split(".")[0];for(var t in re.value)re.value[t].relative_path.split("/")[0]===l&&re.value[t].information_service.status==!1&&ke.value.push(re.value[t])}}catch(l){return console.log(l),c.value={message:"No se pudo recuperar los servicios node, recargue de nuevo.",type:"error",model:!0},null}},Ge=t=>{w.value=t.name_path,Z.value=!1},ee=i([]);return sl(async()=>{await ve(),await Ce()}),(t,l)=>{const d=gl;return v(),N("section",null,[e(tl,{modelValue:o(c).model,"onUpdate:modelValue":l[0]||(l[0]=a=>o(c).model=a),location:"top end",variant:"flat",timeout:o(c).timeout||2e3,color:o(c).type},{default:s(()=>[p(R(o(c).message),1)]),_:1},8,["modelValue","timeout","color"]),e(ge,{modelValue:o(H),"onUpdate:modelValue":l[3]||(l[3]=a=>k(H)?H.value=a:null),persistent:"",class:"v-dialog-sm"},{default:s(()=>[e(d,{onClick:l[1]||(l[1]=a=>H.value=!o(H))}),e(ie,{title:"Eliminar registro"},{default:s(()=>[e(j,null,{default:s(()=>[p(" \xBFDesea eliminar el registro? ")]),_:1}),e(j,{class:"d-flex justify-end gap-3 flex-wrap"},{default:s(()=>[e(S,{color:"secondary",variant:"tonal",onClick:l[2]||(l[2]=a=>H.value=!1)},{default:s(()=>[p(" No, Cerrar ")]),_:1}),e(S,{onClick:Be,loading:o(n),disabled:o(n)},{default:s(()=>[p(" Si, eliminar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ge,{modelValue:o(M),"onUpdate:modelValue":l[16]||(l[16]=a=>k(M)?M.value=a:null),persistent:"",scrollable:"",class:"v-dialog-sm"},{default:s(()=>[e(ie,{title:o(Y)=="create"?"Agregar servicio":"Editar servicio"},{default:s(()=>[e(j,{class:"px-3"},{default:s(()=>[o(W)?de("",!0):(v(),T(ol,{key:0,class:"mb-4"},{default:s(()=>[e(P,null,{default:s(()=>[e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[xl,o(he)?(v(),T(G,{key:1,clearable:"",disabled:o(n),modelValue:o(g),"onUpdate:modelValue":l[6]||(l[6]=a=>k(g)?g.value=a:null),"prepend-inner-icon":"mdi-github",placeholder:"SSH(Remote URL)","append-icon":"tabler-arrow-back","onClick:append":l[7]||(l[7]=a=>he.value=!1)},null,8,["disabled","modelValue"])):(v(),T(ue,{key:0,style:{"min-width":"10rem"},disabled:o(n),class:"bg-white",modelValue:o(g),"onUpdate:modelValue":l[4]||(l[4]=a=>k(g)?g.value=a:null),density:"compact",variant:"outlined",items:o($),"append-icon":"tabler-circle-plus","onClick:append":l[5]||(l[5]=a=>he.value=!0)},null,8,["disabled","modelValue","items"]))]),_:1}),e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[kl,e(G,{disabled:o(n),clearable:"",placeholder:"Nombre del servicio",modelValue:o(I),"onUpdate:modelValue":l[8]||(l[8]=a=>k(I)?I.value=a:null)},null,8,["disabled","modelValue"])]),_:1}),e(b,{cols:"12",sm:"12",lg:"6"},{default:s(()=>[Sl,e(ue,{style:{"min-width":"10rem"},disabled:o(n),class:"bg-white",modelValue:o(A),"onUpdate:modelValue":l[9]||(l[9]=a=>k(A)?A.value=a:null),density:"compact",variant:"outlined","prepend-inner-icon":"mdi-source-branch",items:["main"]},null,8,["disabled","modelValue"])]),_:1}),e(b,{cols:"12",sm:"12",lg:"6"},{default:s(()=>[wl,e(ue,{style:{"min-width":"100%"},disabled:o(n)||o(xe),class:"bg-white",modelValue:o(B),"onUpdate:modelValue":l[10]||(l[10]=a=>k(B)?B.value=a:null),density:"compact",variant:"outlined",items:o(we)},null,8,["disabled","modelValue","items"])]),_:1}),e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[Cl,e(G,{disabled:o(n)||o(Q),class:"pl-0 classs-path",clearable:"",modelValue:o(w),"onUpdate:modelValue":l[11]||(l[11]=a=>k(w)?w.value=a:null),placeholder:""},{"prepend-inner":s(()=>[o(g)?(v(),N("div",El,[e(h,{size:17,icon:"tabler-folder-open",class:"mr-1"}),p(" "+R(o(g).split(":")[1].split("/")[1].split(".")[0])+"/ ",1)])):de("",!0)]),append:s(()=>[u("div",Nl,[e(S,{class:"px-0 py-0 mx-0 my-0",variant:"plain",color:"secondary",disabled:!o(g),icon:"tabler-folder-search",onClick:He},null,8,["disabled"]),e(S,{class:"px-0 py-0 mx-0 my-0",variant:"plain",color:"secondary",icon:"tabler-refresh",onClick:Ce})])]),_:1},8,["disabled","modelValue"])]),_:1}),e(b,{cols:"12",sm:"12",lg:"6"},{default:s(()=>[zl,e(G,{disabled:o(n),clearable:"",modelValue:o(O),"onUpdate:modelValue":l[12]||(l[12]=a=>k(O)?O.value=a:null),placeholder:" ejm.(api/index.js)"},null,8,["disabled","modelValue"])]),_:1}),e(b,{cols:"12",sm:"12",lg:"6"},{default:s(()=>[Ul,e(G,{disabled:o(n),clearable:"",modelValue:o(U),"onUpdate:modelValue":l[13]||(l[13]=a=>k(U)?U.value=a:null),placeholder:"ruta-servicio"},{"prepend-inner":s(()=>[Rl]),_:1},8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1})),o(W)?de("",!0):(v(),T(ze,{key:1})),o(W)?de("",!0):(v(),T(rl,{key:2,class:"mt-4"},{default:s(()=>[e(nl,{key:"1"},{default:s(()=>[e(il,null,{default:s(()=>[e(h,{size:22,icon:"tabler-settings",class:"mr-2"}),p(" Variables de entorno ")]),_:1}),e(ul,null,{default:s(()=>[e(Vl,{"initial-variables":o(ee),"onUpdate:variables":l[14]||(l[14]=a=>ee.value=a)},null,8,["initial-variables"])]),_:1})]),_:1})]),_:1}))]),_:1}),o(W)?(v(),T(j,{key:0},{default:s(()=>[e(P,null,{default:s(()=>[e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[o(D)?(v(),N("div",Ll,[e(h,{size:32,icon:"tabler-check",class:"mr-2",color:"success"}),$l])):(v(),N("div",Tl,[u("div",jl,[Pl,u("span",Dl,R(o(_)),1)]),u("small",null,[p(" Por favor, espera un momento, no cierre esta ventana. "),e(h,{size:22,icon:"tabler-alert-triangle",class:"ml-1",color:"warning"})])]))]),_:1})]),_:1}),u("div",{ref_key:"consoleRef",ref:te,class:"console-service v-theme--dark px-3 py-3"},[e(P,null,{default:s(()=>[(v(!0),N(le,null,pe(o(y),(a,m)=>(v(),T(b,{cols:"12",sm:"12",lg:"12",key:m},{default:s(()=>[u("div",Ml,R(a.message),1)]),_:2},1024))),128))]),_:1})],512)]),_:1})):de("",!0),e(j,{class:"d-flex justify-end gap-3 flex-wrap"},{default:s(()=>[e(S,{color:"secondary",variant:"tonal",disabled:o(n),onClick:l[15]||(l[15]=a=>M.value=!1)},{default:s(()=>[p(" No, Cerrar ")]),_:1},8,["disabled"]),e(S,{onClick:De,loading:o(n),disabled:o(n)},{default:s(()=>[p(" Si, guardar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),e(ge,{modelValue:o(K),"onUpdate:modelValue":l[18]||(l[18]=a=>k(K)?K.value=a:null),persistent:"",class:"v-dialog-sm"},{default:s(()=>[e(ie,{title:"Redeploy servicio"},{default:s(()=>[e(j,null,{default:s(()=>[e(P,null,{default:s(()=>[e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[o(D)?(v(),N("div",Fl,[e(h,{size:32,icon:"tabler-check",class:"mr-2",color:"success"}),Jl])):(v(),N("div",Al,[u("div",Bl,[Ol,u("span",Il,R(o(_)),1)]),u("small",null,[p(" Por favor, espera un momento, no cierre esta ventana. "),e(h,{size:22,icon:"tabler-alert-triangle",class:"ml-1",color:"warning"})])]))]),_:1})]),_:1}),u("div",{ref_key:"consoleRef",ref:te,class:"console-service v-theme--dark px-3 py-3"},[e(P,null,{default:s(()=>[(v(!0),N(le,null,pe(o(y),(a,m)=>(v(),T(b,{cols:"12",sm:"12",lg:"12",key:m},{default:s(()=>[u("div",Wl,R(a.message),1)]),_:2},1024))),128))]),_:1})],512)]),_:1}),e(j,{class:"d-flex justify-end gap-3 flex-wrap"},{default:s(()=>[e(S,{color:"secondary",variant:"tonal",disabled:o(n),onClick:l[17]||(l[17]=a=>K.value=!1)},{default:s(()=>[p(" Cerrar ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ge,{modelValue:o(Z),"onUpdate:modelValue":l[20]||(l[20]=a=>k(Z)?Z.value=a:null),persistent:"",scrollable:"",class:"v-dialog-sm"},{default:s(()=>[e(ie,{title:"Buscar servicio"},{default:s(()=>[e(j,{style:{height:"500px"}},{default:s(()=>[e(P,null,{default:s(()=>[e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[e(Ee,{lines:"two"},{default:s(()=>[e(dl,{inset:""},{default:s(()=>[p(R(o(g)),1)]),_:1}),(v(!0),N(le,null,pe(o(ke),(a,m)=>(v(),T(ce,{key:m,title:a.name_path,subtitle:a.relative_path},{prepend:s(()=>[e(cl,{color:"secondary",variant:"tonal"},{default:s(()=>[e(h,{size:26,icon:"tabler-folder"})]),_:1})]),append:s(()=>[e(S,{title:"Click para seleccionar carpeta",variant:"tonal",size:"small",color:"success",icon:"tabler-plus",onClick:V=>Ge(a)},null,8,["onClick"])]),_:2},1032,["title","subtitle"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(j,{class:"d-flex justify-end gap-3 flex-wrap"},{default:s(()=>[e(S,{color:"secondary",variant:"tonal",disabled:o(n),onClick:l[19]||(l[19]=a=>Z.value=!1)},{default:s(()=>[p(" Cerrar ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(P,null,{default:s(()=>[e(b,{cols:"12",sm:"12",lg:"12"},{default:s(()=>[Hl,e(j,{class:"d-flex py-4 gap-4 px-0 flex-wrap",style:{"align-items":"flex-start"}},{default:s(()=>[u("div",Gl,[e(ue,{disabled:o(n),class:"bg-white",modelValue:o(x),"onUpdate:modelValue":l[21]||(l[21]=a=>k(x)?x.value=a:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["disabled","modelValue"]),e(ue,{style:{"min-width":"10rem"},label:"Repositorios",disabled:o(n),class:"bg-white",modelValue:o(ae),"onUpdate:modelValue":l[22]||(l[22]=a=>k(ae)?ae.value=a:null),density:"compact",variant:"outlined",items:o(ye)},null,8,["disabled","modelValue","items"]),e(G,{clearable:"",title:"Buscar servicio",disabled:o(n),class:"bg-white",modelValue:o(_e),"onUpdate:modelValue":l[23]||(l[23]=a=>k(_e)?_e.value=a:null),label:"Buscar servicio","prepend-inner-icon":"mdi-magnify","single-line":"","hide-details":"",onInput:l[24]||(l[24]=()=>{}),"onClick:clear":l[25]||(l[25]=()=>{}),style:{"min-width":"26rem"}},null,8,["disabled","modelValue"])]),e(yl),u("div",Xl,[e(S,{disabled:o(n),variant:"tonal",color:"success","prepend-icon":"tabler-circle-plus",onClick:l[26]||(l[26]=a=>$e())},{default:s(()=>[ql]),_:1},8,["disabled"])])]),_:1}),e(P,{id:"card_services",class:"mt-1"},{default:s(()=>[(v(!0),N(le,null,pe(o(Te),(a,m)=>(v(),T(b,{key:m,cols:"12",sm:"6",lg:"4"},{default:s(()=>[e(ie,{class:"v-card--flat border border-1 rounded"},{default:s(()=>[e(pl,{class:"header_card_item align-start pb-2"},{append:s(()=>[u("div",Zl,[e(S,{icon:"",variant:"plain",color:"default",size:"x-small"},{default:s(()=>[e(h,{size:22,icon:"tabler-dots-vertical"}),e(ml,{activator:"parent"},{default:s(()=>[e(Ee,{density:"compact"},{default:s(()=>[e(ce,{href:"#",onClick:V=>Ie(a.id),disabled:a.name=="Backoffice"},{default:s(()=>[e(h,{size:"22",class:"mr-1",icon:"mdi-refresh"}),p(" Redeploy ")]),_:2},1032,["onClick","disabled"]),e(ce,{href:"#",onClick:V=>Je(a.id),disabled:a.name=="Backoffice"},{default:s(()=>[e(h,{size:"22",class:"mr-1",icon:"mdi-pencil"}),p(" Editar servicio ")]),_:2},1032,["onClick","disabled"]),e(ce,{href:a.domain.includes("https://")?a.domain:a.domain+":"+a.port,target:"_blank"},{default:s(()=>[e(h,{size:"22",class:"mr-1",icon:"tabler-link"}),p(" Visitar ")]),_:2},1032,["href"]),e(ce,{href:"#",onClick:V=>Ae(a.id),disabled:a.name=="Backoffice"},{default:s(()=>[e(h,{size:"22",class:"mr-1",icon:"mdi-trash",color:"error"}),p(" Eliminar servicio ")]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),default:s(()=>[u("div",Ql,[u("div",Kl,[e(h,{size:32,icon:"tabler-brand-nodejs",class:"mr-2",color:"success"})]),u("div",Yl,[e(vl,{class:"text-wrap lh-sm"},{default:s(()=>[p(R(a.name),1)]),_:2},1024),e(fl,{class:""},{default:s(()=>[p("/"+R(a.path),1)]),_:2},1024)])])]),_:2},1024),e(j,{class:"pb-3"},{default:s(()=>[u("div",ea,[e(Ne,null,{default:s(()=>[u("div",la,[e(h,{class:"",start:"",size:"22",icon:"mdi-github"})]),p(" "+R(a.pathPimary),1)]),_:2},1024)]),u("div",aa,[a.ssl?(v(),N("div",sa,[p(" SSL: "),e(Ne,{size:"x-small",color:a.ssl?"success":"error"},{default:s(()=>[p(R(a.ssl?"Activo":"Inactivo"),1)]),_:2},1032,["color"])])):(v(),T(S,{key:0,color:"secondary",size:"x-small",variant:"text",class:"px-0 py-0 text-decoration-underline text-capitalize",disabled:""},{default:s(()=>[p(" Activar certificado SSL "),e(h,{class:"",end:"",color:"success",size:"15",icon:"mdi-power-standby"})]),_:1}))]),u("div",ta,[u("div",oa,[u("div",ra,[e(h,{class:"",start:"",size:"20",icon:"mdi-console-line"})]),p(" :"+R(a.port),1)]),u("div",na,[u("div",ia,[e(h,{class:"",start:"",size:"19",icon:"mdi-source-branch"})]),p(" main ")])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])}}};export{va as default};
