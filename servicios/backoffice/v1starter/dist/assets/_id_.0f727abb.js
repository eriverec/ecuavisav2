import{M as v,cy as V,r as y,o as c,x as h,a as e,w as s,e as f,b7 as w,b8 as x,q as u,g as C,h as m,a3 as g,c as p,b9 as S,ba as k,b as t,aR as b,t as o,b2 as U,V as D,aQ as I,N as _,a2 as P}from"./index.88d3c7f5.js";import"./papaparse.min.b6588840.js";import{V as T}from"./VAlert.3e8ed100.js";V();y("tab-detalles");const L={setup(){return{id:V().params.id}},data(){return{datos:[],files_csv:[],isFlatSnackRespUserAddAndDelete:!1,isFlatSnackRespUserDelete:!1,isLoadingDialogUser:!1,isLoadingContent:!1,files_csv_mensaje:"",usuarios_traidos_del_csv:[],files_loading:!1,isDialogVisibleDelete:!1,searchQuery:"",dataUsers:[],isDialogSearchUser:!1,csvData:[],csvHeaders:[],switchOnDisabled:!1,disabledBtnDialog:!1,suggestion:{_id:"",frecuenciaDesafio:"",frecuenciaValor:"",tituloDesafio:"",descripcionDesafio:"",statusDesafio:"",tituloSticker:"",URLSticker:""},currentTab:"tab-detalles",currentPage:1,usersPerPage:10,labelError:{mensaje:"",visible:!1},currentUsers:"",timeoutId:null,timeoutId_2:null,cargandoData:!1,usuariosSearch:[],filter:"",userIdSelected:0}},watch:{},async mounted(){await this.obtenerDetalles();const a=this.suggestion._id;this.usuariosSearch=a,console.log(a.length),await this.getDetallesDesafio()},computed:{totalPages(){return Math.ceil(this.usuariosSearch.length/this.usersPerPage)},currentUsers(){const a=(this.currentPage-1)*this.usersPerPage,i=a+this.usersPerPage;return this.usuariosSearch.slice(a,i)},filteredDataUsers(){return this.dataUsers}},methods:{async getDetallesDesafio(){const i=await(await fetch(`https://servicio-desafios.vercel.app/desafios/${this.id}`)).json();return this.suggestion=i.data,this.isLoadingContent=!1,console.log(i),i[0]},async obtenerDetalles(){this.isLoadingContent=!0,this.cargandoData=!0;let a=1,i=2e4,n=[];for(;;){const r=await this.getDetallesDesafio({limit:i,page:a});if(r.userId.length===0)break;a==1?n.push(r):n[0].userId.push(...r.userId),this.suggestion=n[0],this.isLoadingContent=!1,a+=1}this.cargandoData=!1}}},R={key:0},A={class:"d-flex flex-wrap py-4 gap-4 align-items-center",style:{"justify-content":"space-between"}},j=["src"],B={class:"me-auto pe-4"},N={class:"d-flex align-center mb-2"},z=t("span",{class:"ms-3"},"Descripci\xF3n:",-1),F={class:"ms-4"},E={class:"d-flex align-center mb-2"},M=t("span",{class:"ms-3"},"Duraci\xF3n:",-1),Q={class:"ms-4"},W={class:"d-flex align-center mb-2"},q=t("span",{class:"ms-3"},"Status:",-1),H={class:"ms-4"};function O(a,i,n,r,l,G){return c(),h("section",null,[e(D,null,{default:s(()=>[e(f,{class:"mt-6",cols:"12",md:"12",lg:"12"},{default:s(()=>[e(w,{modelValue:l.currentTab,"onUpdate:modelValue":i[0]||(i[0]=d=>l.currentTab=d),class:"v-tabs-pill"},{default:s(()=>[e(x,{value:"tab-detalles"},{default:s(()=>[u("Detalles")]),_:1})]),_:1},8,["modelValue"]),e(C,{class:"mt-5"},{default:s(()=>[e(m,null,{default:s(()=>[l.isLoadingContent?(c(),h("div",R,"Cargando datos, espere...")):g("",!0),l.isLoadingContent?g("",!0):(c(),p(S,{key:1,modelValue:l.currentTab,"onUpdate:modelValue":i[1]||(i[1]=d=>l.currentTab=d)},{default:s(()=>[e(k,{value:"tab-detalles"},{default:s(()=>[t("div",A,[t("div",null,[e(b,null,{default:s(()=>[u("Informaci\xF3n sobre: "),t("b",null,'"'+o(l.suggestion.tituloDesafio)+'"',1)]),_:1}),e(U,null,{default:s(()=>[u(" A continuaci\xF3n encontrar\xE1s detalles sobre el desaf\xEDo ")]),_:1})])]),e(f,{md:"6",lg:"12",cols:"12"},{default:s(()=>[e(T,{color:"success",variant:"tonal"},{default:s(()=>[e(D,{"no-gutters":""},{default:s(()=>[e(f,{cols:"12",sm:"6",md:"12",lg:"12",order:"2","order-lg":"1"},{default:s(()=>[e(I,null,{default:s(()=>[t("img",{class:"ms-3",src:l.suggestion.URLSticker},null,8,j),e(b,null,{default:s(()=>[u(o(l.suggestion.tituloDesafio),1)]),_:1})]),_:1}),e(m,{class:"d-flex justify-center"},{default:s(()=>[t("div",B,[t("p",N,[e(_,{color:"primary",icon:"mdi-text-box-edit-outline",size:"35"}),z,t("span",F,o(l.suggestion.descripcionDesafio),1)]),t("p",E,[e(_,{color:"primary",icon:"mdi-calendar-clock",size:"35"}),M,t("span",Q,o(l.suggestion.frecuenciaValor)+" "+o(l.suggestion.frecuenciaDesafio),1)]),t("p",W,[e(_,{color:"primary",icon:"mdi-toggle-switch-outline",size:"35"}),q,t("span",H,o(l.suggestion.statusDesafio?"Activo":"Inactivo"),1)])]),a.$vuetify.display.smAndUp?(c(),p(P,{key:0,vertical:"",inset:""})):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))]),_:1})]),_:1})]),_:1})]),_:1})])}const Y=v(L,[["render",O]]);export{Y as default};
