import{R as ya,U as Va,r as s,I as wa,cy as xa,Q as R,bu as Dl,as as Ll,v as ye,o as h,x as te,a as l,w as o,a$ as Ia,a_ as Ua,g as q,h as J,bw as ka,b as i,t as g,b0 as Ge,p as I,q as f,f as Qe,e as u,aR as de,aM as ce,V as c,n as A,aT as Ve,L as W,c as U,a3 as ve,bC as je,c7 as Sa,aW as Tl,X as Ml,N as S,u as Y,Z as El,F as Xe,C as Ke,$ as Yl,a0 as Ol,a1 as Cl,bR as Da,cG as Pl,aX as La}from"./index.88d3c7f5.js";import{u as Ta}from"./useCategoriasListStore.d4fa8b94.js";import{d as Ma}from"./debounce.967b9882.js";import{M as oe}from"./index.50982b4e.js";/* empty css              */import{V as jl}from"./VTextarea.86fae113.js";import{V as $}from"./VCheckbox.50e352e3.js";import{V as Ea}from"./VSpacer.2a3e77c9.js";import{V as zl}from"./VAlert.3e8ed100.js";import{p as ze}from"./parseISO.d0bde0b5.js";const Ya={class:"position-relative"},Oa=i("div",{class:"text-center mb-2",style:{"line-height":"1.2"}}," No cierre la pesta\xF1a, espere por favor ",-1),Ca={class:"text-center mt-2",style:{"line-height":"1.2","font-size":"10px"}},Pa=i("label",{for:"nombreCampania"},"Nombre de la campa\xF1a",-1),ja=i("label",{for:"tipocontenido"},"Tipo de contenido",-1),za=i("label",{class:"mb-2 d-block"},"Per\xEDodo de la campa\xF1a",-1),Na=i("label",{for:"descripcionCampania"},"Descripci\xF3n de la campa\xF1a",-1),Ra=i("label",{for:"nombreCampania"},"Inserte el c\xF3digo",-1),Aa=i("label",{for:"nombreCampania"},"Link del ads",-1),$a=i("label",{for:""},"URL imagen de escritorio",-1),Fa=i("label",{for:""},"URL imagen de m\xF3vil",-1),Ha=i("label",{for:"tipocontenido"},"Escoge una secci\xF3n",-1),Ba=i("label",{for:"email"},"Posici\xF3n",-1),qa=i("label",null,"Tipo de visualizaci\xF3n",-1),Ja={class:"d-flex flex-column gap-2"},Wa={class:"d-flex align-center gap-4"},Ga={class:"d-flex justify-start mb-4"},Qa=i("h3",{class:"text-h5"},"Filtrar en la plataforma",-1),Xa=i("p",{class:"mb-5"},"usuarios registrados en ecuavisa.com",-1),Ka={class:"border-transparent"},Za={class:"border-transparent"},et={class:"border-transparent"},lt={class:"border-transparent"},at=i("label",{for:"metadatos"},"Metadatos",-1),tt=i("label",{for:"email"},"Pa\xEDses",-1),ot=i("label",{for:"email"},"Ciudades",-1),st=i("label",{for:"email"},"Dispositivos",-1),ut=i("label",{for:"navegador"},"Sistema operativo",-1),rt=i("label",{for:"navegador"},"Navegador",-1),it=i("h3",{class:"text-h6 mb-4"},"Total de usuarios",-1),nt={class:"d-flex align-center"},dt={class:"text-h4 font-weight-bold text-center"},ct={class:"d-flex gap-3 flex-wrap"},vt={key:0},mt={class:"text-xs text-disabled"},ft={class:"d-flex justify-center mt-4"},pt={key:1,class:"text-center pa-4"},bt=i("p",{class:"text-medium-emphasis mb-4"},"No hay usuarios cargados. Por favor, importa un archivo CSV para comenzar.",-1),ht=i("thead",null,[i("tr",null,[i("th",null,"Nombre"),i("th",null,"Correo"),i("th",null,"Acciones")])],-1),gt={class:"text-xs text-disabled"},Mt={__name:"[id]",setup(_t){const we=ya.exports.extendMoment(oe);we.locale("es",[Va]),we.tz.setDefault("America/Guayaquil");const xe=s(!1),Nl=wa(),Ze=xa();s(!1);const b=s(!1),Ie=s(!1),Ne=s("Procesando.."),Ue=s([]),se=s([]),Re=s([]),y=s(!1),D=s(null),me=3e3,G=s(""),ke=s(""),Se=s(""),De=s(""),Le=s(""),Rl=s(""),O=s([]),p=s([]),Q=s([]),C=s([]),V=s([]),_=s({}),el=s(null),ll=s([{title:"Otro",value:"Otro"},{title:"100",value:"100"}]),Ae=s(1),$e=s(100),al=s(null),L=s([]),tl=s([]),ol=s([]),sl=s([]),Al=s(null),$l=Ta(),Fl=async()=>{try{return(await $l.fetchCategorias()).data}catch(e){return console.error(e),e}},m=s([]),ue=s(""),ul=s(!1),Te=s(""),rl=e=>{ul.value=e&&!["all","other","Home"].includes(e),m.value=[],ue.value="",e!=="other"&&(Te.value="")},Hl=e=>{e?m.value=["enabled"]:(m.value=m.value.filter(a=>a!=="enabled"),ue.value="")},fe=s(""),P=s([]),Bl=s([{title:"Todo el sitio",value:"all",avatar:""},{title:"Lo-ultimo",value:"Lo-ultimo",avatar:""},{title:"Noticias",value:"Noticias",avatar:""},{title:"Mundo",value:"Mundo",avatar:""},{title:"Estadio",value:"Estadio",avatar:""},{title:"Entretenimiento",value:"Entretenimiento",avatar:""},{title:"Programas",value:"Programas",avatar:""},{title:"Tendencias",value:"Tendencias",avatar:""},{title:"La Noticia a Fondo",value:"la-noticia-a-fondo",avatar:""},{title:"Home",value:"Home",avatar:""},{title:"Otro",value:"other",avatar:""}]),F=s([]),ql=s([{title:"Escritorio",value:"desktop",avatar:"mdi-laptop-chromebook"},{title:"M\xF3vil",value:"movil",avatar:"mdi-cellphone-android"}]),H=s([]),Jl=s([{title:"Chrome",value:"Chrome",avatar:""},{title:"Safari",value:"Safari",avatar:""},{title:"Firefox",value:"Firefox",avatar:""},{title:"Otro",value:"Otro",avatar:""}]),X=s([]),Wl=s([{title:"Windows",value:"Windows",avatar:"tabler-brand-windows",navegador:[{title:"Chrome",value:"Chrome"},{title:"Firefox",value:"Firefox"}]},{title:"Mac OS",value:"Mac OS",avatar:"tabler-brand-apple",navegador:[{title:"Safari",value:"Safari"},{title:"Chrome",value:"Chrome"}]},{title:"Android",value:"Android",avatar:"tabler-brand-android",navegador:[{title:"Chrome",value:"Chrome"},{title:"Firefox",value:"Firefox"}]},{title:"Linux",value:"Linux",avatar:"mdi-linux",navegador:[{title:"Chrome",value:"Chrome"}]},{title:"Otro",value:"Otro",avatar:"mdi-account",navegador:[{title:"Chrome",value:"Chrome"}]}]),Gl=[e=>!!e||"El n\xFAmero es requerido",e=>/^\d+$/.test(e)||"Ingrese solo n\xFAmeros",e=>e>=Ae.value&&e<=$e.value||"Ingrese un n\xFAmero entre "+Ae.value+" y "+$e.value],Ql=[{title:"Im\xE1genes locales",value:"imagen"},{title:"C\xF3digo HTML",value:"html"},{title:"C\xF3digos ADS",value:"script"}],B=[{title:"Geolocalizaci\xF3n",value:"trazabilidads"},{title:"Dispositivos",value:"dispositivos"},{title:"Metadatos",value:"metadatos"},{title:"Plataforma",value:"plataforma"}],Xl=["RDTop1","RDTop2","RDTop3","RDFloating"];R(Q,e=>{e.length>1&&Dl(()=>Q.value.pop())}),R(L,e=>{e.length>5&&Dl(()=>L.value.pop())}),Ll(async()=>{await Kl(),await la()});async function Kl(){try{b.value=!0;const e=await fetch("https://ecuavisa-suscripciones.vercel.app/otros/obtener-paises-ciudades",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Error al obtener pa\xEDses");const a=await e.json();Ue.value=a;const r=a.map(t=>t.country);Re.value=r,console.log("Pa\xEDses cargados:",Re.value)}catch(e){console.error("Error al cargar pa\xEDses:",e),alert("Error al cargar la lista de pa\xEDses")}finally{b.value=!1}}function Zl(){k.value="",j.value=[],xe.value=!0}function Fe(e){return M.value.some(a=>a.wylexId===e.wylexId)}function ea(){const e=`id,firstname,last_name,email
  107407,monica del rocio,torres guallpa,torresguallpa.1234@gmail.com
  100931,Amanda,Alvarado,electroautosgye@gmail.com
  76804,Sergio,Chacon,juvenalchacon72@gmail.com`,a=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(a),t=document.createElement("a");t.href=r,t.download="ejemplo_usuarios.csv",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(r),document.body.removeChild(t)}async function la(){try{var e=await Fl(),a=[],r=[];for(var t in e)a.push({title:e[t].__text,value:e[t].__text}),r.push(e[t].__text);Al.value=a,r.slice().sort();const n=r.filter((d,w,x)=>x.indexOf(d)===w);tl.value=n}catch{console.error("Error al listar todos los metadatos")}}async function pe(){var e=-1,a=-1,r=p.value,t=null,n=null,d=null,w=null;(r.includes("metadatos")||r.includes("trazabilidads"))&&(a=C.value.length>0?C.value:-1,e=V.value.length>0?V.value:-1,e=e=="Todas las ciudades"?-1:e),r.includes("metadatos")&&(w=L.value||null),r.includes("dispositivos")&&(n=F.value||null),r.includes("plataforma")&&(t=X.value||null,d=H.value||null);var x=new Headers;x.append("Content-Type","application/json");var Z=JSON.stringify({metadato:w,criterio:r,pais:a,ciudad:e,navegador:d,os:t,dispositivo:n}),ee={method:"POST",headers:x,body:Z,redirect:"follow"};const le=await(await fetch("https://ads-service.vercel.app/campaign/v2/usuarios/get/user/total",ee)).json();_.value=le,console.log("data total",_.value),b.value=!1}const aa=ye(()=>{var a;const e=((a=_.value)==null?void 0:a.total)||0;return new Intl.NumberFormat("es-ES").format(e)});s(!1);function il(e){return e.toString().toLowerCase().replace(/[áàâä]/g,"a").replace(/[éèêë]/g,"e").replace(/[íìîï]/g,"i").replace(/[óòôö]/g,"o").replace(/[úùûü]/g,"u").replace(/[ñ]/g,"n").replace(/[^a-z0-9\-]+/g,"-").replace(/\s+/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function ta(){var e,a;try{return G.value?fe.value?O.value?(e=Q.value)!=null&&e.length?(a=p.value)!=null&&a.length&&y.value&&ie.value.length<1?(alert("No hay usuarios que guardar, suba un archivo"),!1):!0:(alert("Debe seleccionar al menos una posici\xF3n"),!1):(alert("El tipo de contenido es obligatorio"),!1):(alert("La descripci\xF3n de la campa\xF1a es obligatoria"),!1):(alert("El nombre de la campa\xF1a es obligatorio"),!1)}catch(r){return console.error(r),null}}function oa(e,a){const r=[];for(let t=0;t<e.length;t+=a){const n=e.slice(t,t+a);r.push(n)}return r}async function He(e){try{const a=await fetch("https://ads-service.vercel.app/campaign/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return a.ok?await a.json():null}catch(a){return console.error("Error al crear la campa\xF1a:",a),null}}const nl=s(oe().startOf("month").format("YYYY-MM-DD")),dl=s(oe().format("YYYY-MM-DD")),Be=s([ze(nl.value),ze(dl.value)]),re=s({start:nl.value,end:dl.value}),sa=e=>{e&&e.length===2&&(re.value={start:oe(e[0]).format("YYYY-MM-DD"),end:oe(e[1]).format("YYYY-MM-DD")})};async function ua(){var t,n,d,w,x,Z,ee,ne,le;if(!!ta())try{Ie.value=!0,Ne.value="Procesando..";let E;P.value==="other"?E={name:"other",params:{},specificUrl:{enabled:!0,url:Te.value}}:P.value==="Home"?E={name:"Home",params:{},specificUrl:{enabled:!0,url:"https://www.ecuavisa.com"}}:P.value==="all"?E="all":E={name:P.value,params:{landing:m.value.includes("landing"),root:m.value.includes("root"),subsection:m.value.includes("subsection"),all:m.value.includes("all")},specificUrl:{enabled:m.value.includes("enabled"),url:m.value.includes("enabled")?ue.value:""}};const z={campaignTitle:G.value,description:fe.value,fechai:re.value.start,fechaf:re.value.end,type:O.value,criterial:{visibilitySection:E,country:C.value||-1,city:(t=V.value)!=null&&t.includes("Todas las ciudades")?-1:((n=V.value)==null?void 0:n.length)>0?V.value.join(","):-1,so:((d=X.value)==null?void 0:d.length)>0?X.value.join(","):null,dispositivo:((w=F.value)==null?void 0:w.length)>0?F.value.join(","):null,metadato:((x=L.value)==null?void 0:x.length)>0?L.value.join(","):null,navegador:((Z=H.value)==null?void 0:Z.length)>0?H.value.join(","):null},coleccion:p.value.join(","),position:Q.value.join(","),participantes:y.value?"personalizado":"filtrado",otroValor:((ee=_.value)==null?void 0:ee.total)||0,userId:y.value?ie.value:((ne=_.value)==null?void 0:ne.userIds)||[],userIdRemove:[],userIdAdd:[],statusCampaign:!0,urls:{url:Se.value||"#",img:{escritorio:De.value||"",mobile:Le.value||""},html:ke.value||""},campaignSlug:il(G.value)},ge=y.value?ie.value:((le=_.value)==null?void 0:le.userIds)||[];if(y.value&&!T.value||y.value&&T.value||!y.value&&!T.value){const ae=oa(ge,7e3),Oe=ge.length;z.userId=[],z.userIdCompress=hl(ae[0]);var e=await He(z),a=1,r=ae[0].length;if(e)for(;a<ae.length;){if(e){const _e=ae[a],Ce={_id:e._id,userId:[],userIdCompress:y.value?"":hl(_e)};r+=_e.length,e=await He(Ce),Ne.value=`Procesando ${r} de ${Oe} usuarios..`}else v.value={show:!0,text:"Error al crear la campa\xF1a",color:"error"};a++}else v.value={show:!0,text:"Error al crear la campa\xF1a.",color:"error"}}else{z.userId=[],z.userIdCompress="";var e=await He(z)}return v.value={show:!0,text:"Campa\xF1a creada exitosamente",color:"success"},ga(),setTimeout(()=>{Nl.push("/apps/campaigns/list"),Ie.value=!1},1e3),!0}catch(E){return console.error(E),null}}ye(()=>Gl.map(e=>e(Rl.value)).filter(Boolean));function ra(e,a){return e.title==="Todas las ciudades"?-1:a.title==="Todas las ciudades"?1:e.title<a.title?-1:e.title>a.title?1:0}function ia(e){const a={};for(const t of e){const n=t.title;a[n]||(a[n]=[]),a[n].push(t.value)}const r=[];for(const t in a)a.hasOwnProperty(t)&&r.push({title:t,value:a[t][0]});return r}function na(e,a,r){const t=[];for(let n=0;n<r;n++){let d=Math.floor(Math.random()*(a-e+1))+e;d%10!==0&&(d+=10-d%10),t.push(d)}return t}async function be(){if($e.value=_.value.total,Ae.value=1,_.value.total<100)ll.value=[{title:"Todos",value:"Todos"},{title:"Otro valor",value:"Otro"}];else{var e=na(100,_.value.total,3),a=[];if(a.push({title:"Otro valor",value:"Otro"}),_.value.total>110)for(var r in e)a.push({title:e[r],value:e[r]});a.push({title:"Todos",value:"Todos"}),ll.value=a}return!0}function cl(e){V.value=[],el.value=[];var a=[];a.push({title:"Todas las ciudades",value:"0"});for(var r in Ue.value){var t=Ue.value[r];if(t.country==e)for(var n in t.data){var d=t.data[n];a.push({title:d.city,value:d.city})}}a.sort(ra);var w=Object.values(ia(a)),x=[];for(var r in w)x.push(w[r].title);se.value=x}var K=!0;const T=s(!1);R(y,(e,a)=>{T.value=!0}),R(()=>C.value,(e,a)=>{if(K)return!0;T.value=!0,C.value!=null?(cl(e),console.log(se.value)):(se.value=[],el.value=[])}),R(async()=>V.value,async(e,a)=>{if(K)return!0;T.value=!0,se.value.length>1&&(V.value!=null?(b.value=!0,clearTimeout(D.value),D.value=setTimeout(async()=>{await pe()},me),await be()):_.value={})}),R(async()=>F.value,async(e,a)=>{if(K)return!0;T.value=!0,F.value!=null?(b.value=!0,clearTimeout(D.value),D.value=setTimeout(async()=>{await pe()},me),await be()):_.value={}}),R(async()=>X.value,async(e,a)=>{if(K)return!0;T.value=!0,b.value=!0,clearTimeout(D.value),D.value=setTimeout(async()=>{await pe()},me),await be()}),R(async()=>H.value,async(e,a)=>{if(K)return!0;T.value=!0,H.value!=null?(b.value=!0,clearTimeout(D.value),D.value=setTimeout(async()=>{await pe()},me),await be()):_.value={}}),R(async()=>L.value,async(e,a)=>{if(K)return!0;T.value=!0,L.value!=null?(b.value=!0,clearTimeout(D.value),D.value=setTimeout(async()=>{await pe()},me),await be()):_.value={}});const qe=s(""),he=s(1),M=s([]),ie=s([]),vl=s(!1),k=s(""),j=s([]),Je=s(!1);s(null);const da=s(!1),v=s({show:!1,text:"",color:"success"}),ca=s(!1),Me=s(null);async function va(e){if(!(e.length<4)){b.value=!0;try{const r=await(await fetch(`https://ads-service.vercel.app/busqueda/user/?s=${encodeURIComponent(e)}`)).json();r.resp?(j.value=r.data,v.value={show:!0,text:`Se encontraron ${r.data.length} resultados`,color:"info"}):(j.value=[],v.value={show:!0,text:"No se encontraron resultados",color:"warning"})}catch(a){console.error("Error en b\xFAsqueda:",a),j.value=[],v.value={show:!0,text:"Error al realizar la b\xFAsqueda",color:"error"}}finally{b.value=!1}}}const Ee=Ma(async()=>{var e;try{const a=(e=k.value)==null?void 0:e.toLowerCase();await va(a)}catch(a){return console.error("Error en buscarUsuarios:",a),null}},500);function ml(e){M.value.some(a=>a.wylexId===e.wylexId)||(M.value.push(e),ie.value.push(e.wylexId),v.value={show:!0,text:"Usuario agregado exitosamente",color:"success"})}const ma=ye(()=>Math.ceil(M.value.length/10)),fa=ye(()=>{const e=qe.value.toLowerCase();let a=M.value;e&&(a=a.filter(t=>{const n=`${t.first_name||""} ${t.last_name||""}`.toLowerCase(),d=(t.email||"").toLowerCase();return n.includes(e)||d.includes(e)}));const r=(he.value-1)*10;return a.slice(r,r+10)}),Ye=ye(()=>M.value&&M.value.length>0);function pa(){Me.value&&Me.value.click()}async function fl(e){const a=e.target.files[0];if(!!a){if(!a.name.endsWith(".csv")){v.value={show:!0,text:"Por favor, selecciona un archivo CSV",color:"error"},e.target.value="";return}b.value=!0;try{(await Pl(()=>import("./papaparse.min.b6588840.js").then(t=>t.p),["assets/papaparse.min.b6588840.js","assets/index.88d3c7f5.js","assets/index.7a3da0b8.css"])).default.parse(a,{header:!0,complete:t=>{try{if(!t.data||!t.data.length)throw new Error("El archivo est\xE1 vac\xEDo");const n=t.data.filter(d=>d.id&&d.id.trim()!=="").map(d=>({wylexId:parseInt(d.id),firstname:d.firstname||"",last_name:d.last_name||"",email:d.email||""})).filter(d=>!isNaN(d.wylexId));if(n.length===0)throw new Error("No se encontraron usuarios v\xE1lidos");M.value=n,ie.value=n.map(d=>d.wylexId),v.value={show:!0,text:`${n.length} usuarios cargados exitosamente`,color:"success"}}catch(n){v.value={show:!0,text:n.message,color:"error"}}}})}catch(r){v.value={show:!0,text:`Error: ${r.message}`,color:"error"}}finally{b.value=!1,e.target.value=""}}}async function ba(){if(!!Ye.value)try{b.value=!0;const a=(await Pl(()=>import("./papaparse.min.b6588840.js").then(d=>d.p),["assets/papaparse.min.b6588840.js","assets/index.88d3c7f5.js","assets/index.7a3da0b8.css"])).default.unparse({fields:["id","firstname","last_name","email"],data:M.value.map(d=>({id:d.wylexId,firstname:d.firstname||d.first_name||"",last_name:d.lastname||d.last_name||"",email:d.email||""}))}),r=new Blob([a],{type:"text/csv"}),t=window.URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=`usuarios_campana_${il(G.value)}_${new Date().toISOString()}.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(t),document.body.removeChild(n),v.value={show:!0,text:"Usuarios exportados exitosamente",color:"success"}}catch{v.value={show:!0,text:"Error al exportar usuarios",color:"error"}}finally{b.value=!1}}s(!1);const pl="crudCampaign";async function ha(){const e=Ze.params.id,a=`${pl}|${e}`,r=JSON.parse(localStorage.getItem(a))||{};return r||null}async function ga(){const e=Ze.params.id,a=`${pl}|${e}`;return localStorage.getItem(a)&&localStorage.removeItem(a),!0}function bl(e=50,a){return new Promise(t=>{let n=0;const d=setInterval(()=>{if(n++,console.log(`Segundo ${n}: Verificando condici\xF3n...`),a){console.log("Condici\xF3n cumplida. Ciclo detenido."),clearInterval(d),t(!0);return}n>=e&&(console.log("Tiempo agotado. Ciclo detenido."),clearInterval(d),t(!1))},1e3)})}function _a(e){return e instanceof Object&&e.constructor===Object}const hl=e=>e.join(","),We=e=>e.split(",").map(Number);return Ll(async()=>{var a,r,t,n,d,w,x,Z,ee,ne,le,E,z,ge,ae,Oe,_e,Ce,gl,_l,yl,Vl,wl,xl,Il,Ul,kl,Sl;const e=await ha();if(G.value=e==null?void 0:e.campaignTitle,O.value=e==null?void 0:e.type,fe.value=e==null?void 0:e.description,((e==null?void 0:e.type)=="html"||(e==null?void 0:e.type)=="script")&&(ke.value=(a=e==null?void 0:e.urls)==null?void 0:a.html),(e==null?void 0:e.type)=="imagen"&&(Se.value=(r=e==null?void 0:e.urls)==null?void 0:r.url,De.value=(t=e==null?void 0:e.urls)==null?void 0:t.img.escritorio,Le.value=(n=e==null?void 0:e.urls)==null?void 0:n.img.mobile),e!=null&&e.fechai&&(Be.value=[ze(we(e==null?void 0:e.fechai,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD")),ze(we(e==null?void 0:e.fechaf,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"))],re.value={start:oe(e==null?void 0:e.fechai,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"),end:oe(e==null?void 0:e.fechaf,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD")}),_a((d=e==null?void 0:e.criterial)==null?void 0:d.visibilitySection)&&(P.value=(x=(w=e==null?void 0:e.criterial)==null?void 0:w.visibilitySection)==null?void 0:x.name,rl(P.value),m.value.push((ee=(Z=e==null?void 0:e.criterial)==null?void 0:Z.visibilitySection)!=null&&ee.params.landing?"landing":""),m.value.push((le=(ne=e==null?void 0:e.criterial)==null?void 0:ne.visibilitySection)!=null&&le.params.root?"root":""),m.value.push((z=(E=e==null?void 0:e.criterial)==null?void 0:E.visibilitySection)!=null&&z.params.subsection?"subsection":""),m.value.push((ae=(ge=e==null?void 0:e.criterial)==null?void 0:ge.visibilitySection)!=null&&ae.params.all?"all":""),m.value.push((_e=(Oe=e==null?void 0:e.criterial)==null?void 0:Oe.visibilitySection)!=null&&_e.specificUrl.enabled?"enabled":""),m.value.includes("enabled")&&(ue.value=(gl=(Ce=e==null?void 0:e.criterial)==null?void 0:Ce.visibilitySection)==null?void 0:gl.specificUrl.url)),Q.value=e.position?e==null?void 0:e.position.split(","):[],y.value=(e==null?void 0:e.participantes)=="personalizado",y.value){const Pe=We(e==null?void 0:e.userId).filter(N=>N).map(N=>({wylexId:parseInt(N),firstname:"UserId: "+N,last_name:"",email:""})).filter(N=>!isNaN(N.wylexId));if(Pe.length===0)throw new Error("No se encontraron usuarios v\xE1lidos");M.value=Pe,ie.value=Pe.map(N=>N.wylexId)}else _.value={total:We(e==null?void 0:e.userId).length,userIds:We(e==null?void 0:e.userId)};p.value=((_l=e==null?void 0:e.coleccion)==null?void 0:_l.split(","))||[],p.value.includes("metadatos")&&(L.value=((yl=e==null?void 0:e.criterial)==null?void 0:yl.metadato.split(","))||[]),p.value.includes("trazabilidads")&&(C.value=((Vl=e==null?void 0:e.criterial)==null?void 0:Vl.country)||"",await bl(50,()=>Ue.value.length>1)&&cl(C.value),await bl(50,()=>se.value.length>1)&&((wl=e==null?void 0:e.criterial)!=null&&wl.city?((xl=e==null?void 0:e.criterial)==null?void 0:xl.city)==-1?V.value="Todas las ciudades":V.value=(Il=e==null?void 0:e.criterial)==null?void 0:Il.city.split(","):V.value="Todas las ciudades")),p.value.includes("dispositivos")&&(F.value=((Ul=e==null?void 0:e.criterial)==null?void 0:Ul.dispositivo.split(","))||[]),p.value.includes("plataforma")&&(X.value=((kl=e==null?void 0:e.criterial)==null?void 0:kl.so.split(","))||[],H.value=((Sl=e==null?void 0:e.criterial)==null?void 0:Sl.navegador.split(","))||[]),setTimeout(function(){K=!1},1e3)}),(e,a)=>{const r=La;return h(),te("div",Ya,[l(Ua,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=t=>b.value=t),class:"align-center justify-center",persistent:"",opacity:.8},{default:o(()=>[l(Ia,{indeterminate:"",color:"primary",size:"64"})]),_:1},8,["modelValue","opacity"]),l(Ge,{persistent:"",modelValue:Ie.value,"onUpdate:modelValue":a[1]||(a[1]=t=>Ie.value=t),width:"300"},{default:o(()=>[l(q,{color:"primary",width:"300"},{default:o(()=>[l(J,{class:"pt-3"},{default:o(()=>[Oa,l(ka,{indeterminate:"",color:"white",class:"mb-0"}),i("div",Ca,g(Ne.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Qe,{modelValue:v.value.show,"onUpdate:modelValue":a[3]||(a[3]=t=>v.value.show=t),color:v.value.color,timeout:2e3,location:v.value.location||"top"},{actions:o(()=>[l(I,{color:"white",text:"",onClick:a[2]||(a[2]=t=>v.value.show=!1)},{default:o(()=>[f(" Cerrar ")]),_:1})]),default:o(()=>[f(g(v.value.text)+" ",1)]),_:1},8,["modelValue","color","location"]),l(c,null,{default:o(()=>[l(u,{cols:"12",md:"6"},{default:o(()=>[l(q,{class:"h-100"},{default:o(()=>[l(de,{class:"pa-4"},{default:o(()=>[l(ce,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:o(()=>[f(" Detalles de Campa\xF1a ")]),_:1})]),_:1}),l(J,null,{default:o(()=>[l(c,null,{default:o(()=>[l(u,{cols:"6"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[Pa]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(A,{id:"nombreCampania",modelValue:G.value,"onUpdate:modelValue":a[4]||(a[4]=t=>G.value=t),placeholder:"Nombre de la campa\xF1a","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[ja]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(Ve,{modelValue:O.value,"onUpdate:modelValue":a[5]||(a[5]=t=>O.value=t),items:Ql,chips:"",clearable:"",label:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[za]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(r,{"prepend-inner-icon":"tabler-calendar",density:"compact","show-current":!0,modelValue:Be.value,"onUpdate:modelValue":a[6]||(a[6]=t=>Be.value=t),onOnChange:sa,config:{position:"auto right",mode:"range",altFormat:"F j, Y",dateFormat:"Y-m-d",defaultDate:[re.value.start,re.value.end],maxDate:"2025-12-31",showMonths:2,locale:{rangeSeparator:" al ",firstDayOfWeek:1,months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}},noCalendar:!1,enableTime:!1,wrap:!0}},null,8,["modelValue","config"])]),_:1})]),_:1})]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[Na]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(jl,{id:"descripcionCampania",modelValue:fe.value,"onUpdate:modelValue":a[7]||(a[7]=t=>fe.value=t),placeholder:"Ingrese una descripci\xF3n para la campa\xF1a","persistent-placeholder":"",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(u,{cols:"12",md:"6"},{default:o(()=>[l(q,{class:"h-100"},{default:o(()=>[l(de,{class:"pa-4"},{default:o(()=>[l(ce,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:o(()=>[f(" Configuraci\xF3n de Contenido ")]),_:1})]),_:1}),l(J,null,{default:o(()=>[l(c,{class:"pb-5"},{default:o(()=>[l(u,{cols:"12",class:W(O.value=="imagen"?"d-none":"")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[Ra]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(jl,{label:"C\xF3digo",modelValue:ke.value,"onUpdate:modelValue":a[8]||(a[8]=t=>ke.value=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"]),l(u,{cols:"12",class:W(O.value!="imagen"?"d-none":"")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[Aa]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(A,{id:"link",modelValue:Se.value,"onUpdate:modelValue":a[9]||(a[9]=t=>Se.value=t),placeholder:"Link del ads","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"]),l(u,{cols:"6",class:W(O.value!="imagen"?"d-none":"")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"6",md:"12"},{default:o(()=>[$a]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(A,{id:"linkImageEscritorio",modelValue:De.value,"onUpdate:modelValue":a[10]||(a[10]=t=>De.value=t),placeholder:"Link imagen de escritorio","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"]),l(u,{cols:"6",class:W(O.value!="imagen"?"d-none":"")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"6",md:"12"},{default:o(()=>[Fa]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(A,{id:"linkImageEscritorio",modelValue:Le.value,"onUpdate:modelValue":a[11]||(a[11]=t=>Le.value=t),placeholder:"Link imagen de m\xF3vil","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1})]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(q,null,{default:o(()=>[l(de,{class:"pa-4"},{default:o(()=>[l(ce,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:o(()=>[f(" Visibilidad en la web ")]),_:1})]),_:1}),l(J,null,{default:o(()=>[l(c,null,{default:o(()=>[l(u,{cols:"6"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[Ha]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(Ve,{modelValue:P.value,"onUpdate:modelValue":[a[12]||(a[12]=t=>P.value=t),rl],items:Bl.value,chips:"",clearable:"",label:""},null,8,["modelValue","items"])]),_:1}),P.value==="other"?(h(),U(u,{key:0,cols:"12",md:"12",class:"mt-2"},{default:o(()=>[l(A,{modelValue:Te.value,"onUpdate:modelValue":a[13]||(a[13]=t=>Te.value=t),label:"URL espec\xEDfico",placeholder:"https://www.ecuavisa.com/mi-url","hide-details":""},null,8,["modelValue"])]),_:1})):ve("",!0)]),_:1})]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[Ba]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(je,{modelValue:Q.value,"onUpdate:modelValue":a[14]||(a[14]=t=>Q.value=t),multiple:"",chips:"",items:Xl,variant:"outlined",label:"","persistent-hint":"","search-input":al.value,"onUpdate:search-input":a[15]||(a[15]=t=>al.value=t),"hide-selected":"","hide-no-data":!1,hint:""},null,8,["modelValue","search-input"])]),_:1})]),_:1})]),_:1}),ul.value?(h(),U(u,{key:0,cols:"12"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[qa]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[i("div",Ja,[l($,{modelValue:m.value,"onUpdate:modelValue":a[16]||(a[16]=t=>m.value=t),label:"Solo p\xE1gina de categor\xEDa",value:"landing",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),l($,{modelValue:m.value,"onUpdate:modelValue":a[17]||(a[17]=t=>m.value=t),label:"Notas en ra\xEDz",value:"root",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),l($,{modelValue:m.value,"onUpdate:modelValue":a[18]||(a[18]=t=>m.value=t),label:"Notas con subsecci\xF3n",value:"subsection",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),l($,{modelValue:m.value,"onUpdate:modelValue":a[19]||(a[19]=t=>m.value=t),label:"Toda la categor\xEDa",value:"all",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),i("div",Wa,[l($,{modelValue:e.urlEnabled,"onUpdate:modelValue":[a[20]||(a[20]=t=>e.urlEnabled=t),Hl],label:"URL espec\xEDfica"},null,8,["modelValue"]),e.urlEnabled?(h(),U(A,{key:0,modelValue:ue.value,"onUpdate:modelValue":a[21]||(a[21]=t=>ue.value=t),label:"URL espec\xEDfica",placeholder:"https://ejemplo.com/seccion/subseccion",class:"flex-grow-1","hide-details":""},null,8,["modelValue"])):ve("",!0)])])]),_:1})]),_:1})]),_:1})):ve("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(q,null,{default:o(()=>[l(de,{class:"pa-4"},{default:o(()=>[l(ce,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:o(()=>[f(" Target / Usuarios ")]),_:1})]),_:1}),l(J,null,{default:o(()=>[i("div",Ga,[l(Sa,{modelValue:y.value,"onUpdate:modelValue":a[22]||(a[22]=t=>y.value=t),color:"primary",label:"Modo Personalizado","hide-details":""},null,8,["modelValue"])]),y.value?(h(),U(c,{key:1},{default:o(()=>[l(u,{cols:"12"},{default:o(()=>[l(Qe,{modelValue:v.value.show,"onUpdate:modelValue":a[35]||(a[35]=t=>v.value.show=t),color:v.value.color,timeout:2e3,location:"top"},{default:o(()=>[f(g(v.value.text),1)]),_:1},8,["modelValue","color"]),l(c,{justify:"space-between",class:"mb-4"},{default:o(()=>[l(u,{cols:"4"},{default:o(()=>[l(A,{"append-inner-icon":"tabler-user-search",onInput:e.filtrarUsuarios,modelValue:qe.value,"onUpdate:modelValue":a[36]||(a[36]=t=>qe.value=t),label:"Buscar usuarios dentro del listado",density:"compact",disabled:!Y(Ye)},null,8,["onInput","modelValue","disabled"])]),_:1}),l(u,{cols:"auto"},{default:o(()=>[i("div",ct,[l(I,{color:"info",onClick:ba,size:"small",disabled:!Y(Ye)},{default:o(()=>[f(" Descargar Usuarios"),l(S,{end:"",icon:"tabler-download"})]),_:1},8,["disabled"]),l(I,{color:"success",onClick:Zl,size:"small"},{default:o(()=>[f(" A\xF1adir usuarios"),l(S,{end:"",icon:"mdi-account-plus"})]),_:1}),l(I,{color:"primary",onClick:pa,size:"small",loading:ca.value},{default:o(()=>[f(" Importar CSV"),l(S,{end:"",icon:"mdi-file-upload"})]),_:1},8,["loading"]),i("input",{ref_key:"fileInput",ref:Me,type:"file",accept:".csv",style:{display:"none"},onChange:fl},null,544)])]),_:1})]),_:1}),Y(Ye)?(h(),te("div",vt,[l(El,{lines:"two"},{default:o(()=>[(h(!0),te(Xe,null,Ke(Y(fa),t=>(h(),U(Yl,{key:t.wylexId,border:""},{append:o(()=>[l(I,{icon:"",size:"x-small",color:"error",variant:"text",onClick:n=>e.handleDeleteUser(t.wylexId)},{default:o(()=>[l(S,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])]),default:o(()=>[l(Ol,null,{default:o(()=>[f(g(t.firstname||t.first_name)+" "+g(t.lastname||t.last_name),1)]),_:2},1024),l(Cl,{class:"mt-1"},{default:o(()=>[i("span",mt,g(t.email),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),i("div",ft,[l(I,{variant:"tonal",onClick:a[37]||(a[37]=t=>he.value--),disabled:he.value<=1,size:"small",color:"primary"},{default:o(()=>[l(S,{start:"",icon:"tabler-arrow-left"}),f(" Anterior ")]),_:1},8,["disabled"]),l(I,{variant:"tonal",onClick:a[38]||(a[38]=t=>he.value++),disabled:he.value>=Y(ma),size:"small",color:"primary",class:"ms-3"},{default:o(()=>[f(" Siguiente "),l(S,{end:"",icon:"tabler-arrow-right"})]),_:1},8,["disabled"])])])):(h(),te("div",pt,[bt,l(I,{color:"info",variant:"outlined",size:"small",onClick:ea,"prepend-icon":"mdi-file-download"},{default:o(()=>[f(" Descargar CSV de ejemplo ")]),_:1})])),l(Ge,{modelValue:vl.value,"onUpdate:modelValue":a[40]||(a[40]=t=>vl.value=t),"max-width":"800px"},{default:o(()=>[l(q,null,{default:o(()=>[l(de,null,{default:o(()=>[f("Buscar Usuarios")]),_:1}),l(J,null,{default:o(()=>[l(A,{modelValue:k.value,"onUpdate:modelValue":a[39]||(a[39]=t=>k.value=t),disabled:b.value,onInput:Y(Ee),"onClick:clear":Y(Ee),label:"Buscar por nombre, correo o tel\xE9fono (m\xEDnimo 4 caracteres).","append-inner-icon":"tabler-search",loading:Je.value},null,8,["modelValue","disabled","onInput","onClick:clear","loading"]),j.value.length>0?(h(),U(Tl,{key:0},{default:o(()=>[ht,i("tbody",null,[(h(!0),te(Xe,null,Ke(j.value,t=>(h(),te("tr",{key:t.wylexId},[i("td",null,g(t.first_name)+" "+g(t.last_name),1),i("td",null,g(t.email),1),i("td",null,[l(I,{size:"small",color:"primary",onClick:n=>ml(t),loading:da.value},{default:o(()=>[f(" Agregar ")]),_:2},1032,["onClick","loading"])])]))),128))])]),_:1})):ve("",!0)]),_:1}),l(Da,null,{default:o(()=>[l(Ea),l(I,{color:"primary",text:"",onClick:e.closeSearchDialog},{default:o(()=>[f(" Cerrar ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(h(),U(c,{key:0},{default:o(()=>[l(u,{cols:"9"},{default:o(()=>[Qa,Xa,l(Tl,{density:"compact",class:"border-transparent mb-4"},{default:o(()=>[i("tbody",null,[i("tr",null,[i("td",Ka,[l($,{modelValue:p.value,"onUpdate:modelValue":a[23]||(a[23]=t=>p.value=t),label:B[0].title,value:B[0].value},null,8,["modelValue","label","value"])]),i("td",Za,[l($,{modelValue:p.value,"onUpdate:modelValue":a[24]||(a[24]=t=>p.value=t),label:B[1].title,value:B[1].value},null,8,["modelValue","label","value"])])]),i("tr",null,[i("td",et,[l($,{modelValue:p.value,"onUpdate:modelValue":a[25]||(a[25]=t=>p.value=t),label:B[2].title,value:B[2].value},null,8,["modelValue","label","value"])]),i("td",lt,[l($,{modelValue:p.value,"onUpdate:modelValue":a[26]||(a[26]=t=>p.value=t),label:B[3].title,value:B[3].value},null,8,["modelValue","label","value"])])])])]),_:1}),l(u,{cols:"12",class:W(p.value.includes("metadatos")?"":"d-none")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[at]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(je,{modelValue:L.value,"onUpdate:modelValue":a[27]||(a[27]=t=>L.value=t),multiple:"",chips:"",items:tl.value,variant:"outlined",label:"","persistent-hint":"","menu-props":{maxHeight:"300"},"search-input":ol.value,"onUpdate:search-input":a[28]||(a[28]=t=>ol.value=t),"hide-selected":"","hide-no-data":!1,hint:""},null,8,["modelValue","items","search-input"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),l(u,{cols:"12",class:W(p.value.includes("trazabilidads")?"":"d-none")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"6"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[tt]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(je,{modelValue:C.value,"onUpdate:modelValue":a[29]||(a[29]=t=>C.value=t),items:Re.value,class:"pr-1",chips:"",clearable:"","menu-props":{maxHeight:"300"}},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[ot]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(je,{modelValue:V.value,"onUpdate:modelValue":a[30]||(a[30]=t=>V.value=t),multiple:"",chips:"",items:se.value,"search-input":sl.value,"onUpdate:search-input":a[31]||(a[31]=t=>sl.value=t),"hide-no-data":!1,"menu-props":{maxHeight:"300"},class:"custom-combobox-ciudad",disabled:b.value},null,8,["modelValue","items","search-input","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),l(u,{cols:"12",class:W(p.value.includes("dispositivos")?"":"d-none")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[st]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(Ve,{modelValue:F.value,"onUpdate:modelValue":a[32]||(a[32]=t=>F.value=t),items:ql.value,"item-title":"title","item-value":"value",class:"pr-1",multiple:"",clearable:""},{selection:o(({item:t})=>[l(ce,null,{default:o(()=>[l(Ml,null,{default:o(()=>[l(S,{color:"",icon:t.raw.avatar},null,8,["icon"])]),_:2},1024),i("span",null,g(t.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),l(u,{cols:"12",class:W(p.value.includes("plataforma")?"":"d-none")},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"6 pt-2"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[ut]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(Ve,{modelValue:X.value,"onUpdate:modelValue":a[33]||(a[33]=t=>X.value=t),items:Wl.value,"item-title":"title","item-value":"value",class:"pr-1",multiple:"",clearable:""},{selection:o(({item:t})=>[l(ce,null,{default:o(()=>[l(Ml,null,{default:o(()=>[l(S,{color:"",icon:t.raw.avatar},null,8,["icon"])]),_:2},1024),i("span",null,g(t.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),l(u,{cols:"6 pt-2"},{default:o(()=>[l(c,{"no-gutters":""},{default:o(()=>[l(u,{cols:"12",md:"12"},{default:o(()=>[rt]),_:1}),l(u,{cols:"12",md:"12"},{default:o(()=>[l(Ve,{modelValue:H.value,"onUpdate:modelValue":a[34]||(a[34]=t=>H.value=t),items:Jl.value,"item-title":"title","item-value":"value",class:"pr-1",chips:"",multiple:"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1}),l(u,{cols:"3"},{default:o(()=>[l(q,{class:"bg-light-success"},{default:o(()=>[l(J,null,{default:o(()=>[it,i("div",nt,[l(S,{size:"32",icon:"mdi-account-group",color:"success",class:"me-2"}),i("div",null,[i("div",dt,g(Y(aa)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),l(I,{class:"save-button",color:"success",icon:"mdi-check",size:"large",onClick:ua,style:{position:"fixed",bottom:"2rem",right:"2rem"}},{default:o(()=>[l(S,{icon:"tabler-device-floppy"})]),_:1}),l(Ge,{modelValue:xe.value,"onUpdate:modelValue":[a[43]||(a[43]=t=>xe.value=t),a[44]||(a[44]=t=>t===!1&&(k.value="",j.value=[]))],"max-width":"800",persistent:!1},{default:o(()=>[l(q,null,{default:o(()=>[l(de,{class:"d-flex justify-space-between align-center pa-4"},{default:o(()=>[f(" Buscar usuarios "),l(I,{icon:"mdi-close",variant:"text",onClick:a[41]||(a[41]=t=>xe.value=!1)})]),_:1}),l(J,null,{default:o(()=>[l(A,{clearable:"",modelValue:k.value,"onUpdate:modelValue":a[42]||(a[42]=t=>k.value=t),disabled:b.value,onInput:Y(Ee),"onClick:clear":Y(Ee),label:"Buscar por nombre o email (m\xEDnimo 4 caracteres)","append-inner-icon":"tabler-search",loading:Je.value},null,8,["modelValue","disabled","onInput","onClick:clear","loading"]),j.value.length>0?(h(),U(El,{key:0,lines:"two"},{default:o(()=>[(h(!0),te(Xe,null,Ke(j.value,t=>(h(),U(Yl,{key:t.wylexId,border:""},{append:o(()=>[l(I,{color:"primary",size:"small",onClick:n=>ml(t),disabled:Fe(t)},{default:o(()=>[f(g(Fe(t)?"Agregado":"Agregar"),1)]),_:2},1032,["onClick","disabled"])]),default:o(()=>[l(Ol,null,{default:o(()=>[f(g(t.first_name)+" "+g(t.last_name)+" ",1),Fe(t)?(h(),U(S,{key:0,color:"success",class:"ms-2",icon:"mdi-check-circle",size:"small"})):ve("",!0)]),_:2},1024),l(Cl,{class:"mt-1"},{default:o(()=>[i("span",gt,g(t.email),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):k.value&&!Je.value&&k.value.length>=4?(h(),U(zl,{key:1,type:"info",class:"mt-4"},{default:o(()=>[f(" No se encontraron resultados ")]),_:1})):k.value&&k.value.length<4?(h(),U(zl,{key:2,type:"info",class:"mt-4"},{default:o(()=>[f(" Ingresa al menos 4 caracteres para buscar ")]),_:1})):ve("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),i("input",{ref_key:"fileInput",ref:Me,type:"file",accept:".csv",style:{display:"none"},onChange:fl},null,544),l(Qe,{modelValue:v.value.show,"onUpdate:modelValue":a[45]||(a[45]=t=>v.value.show=t),color:v.value.color,timeout:2e3,location:"top"},{default:o(()=>[f(g(v.value.text),1)]),_:1},8,["modelValue","color"])])}}};export{Mt as default};
