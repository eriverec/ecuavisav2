import{M as Ma,R as ka,S as Ya,U as Da,r as i,as as Ea,v as Ia,Q as le,z as ja,o as w,x as $,a as e,w as t,q as f,t as _,u as s,f as Ta,g as Q,i as p,b0 as te,b as d,h as oe,p as h,e as g,b9 as La,ba as za,aR as Je,b2 as Fa,N as y,c as W,Z as Le,$ as J,a0 as ze,a3 as se,F as pe,C as Ke,aM as Qe,a2 as ge,aQ as Ua,l as Ra,m as We,V as ne,c7 as Sa,n as X,bC as Xe,b1 as $a,aT as Ze,aU as ea,aV as aa,a1 as Fe,bc as qa,aX as Na,bd as Oa,be as Pa}from"./index.88d3c7f5.js";import{m as la}from"./moduloTemplate.976c75f0.js";import{V as Aa}from"./VFileInput.692026a8.js";import{V as Ba}from"./VBadge.0df54a63.js";import{p as M}from"./parseISO.d0bde0b5.js";import"./moduloTemplate.7adf9c65.js";const q=ie=>(Oa("data-v-e93f90ef"),ie=ie(),Pa(),ie),Ga=["title","src"],Ha={class:"d-flex flex-wrap py-4 gap-4 align-items-center",style:{"justify-content":"space-between"}},Ja={class:"px-4"},Ka=q(()=>d("div",{class:"loading"},null,-1)),Qa={class:"nombre-desafio d-flex flex-column"},Wa={class:"d-flex"},Xa=q(()=>d("small",null,"Curso",-1)),Za={class:"text-disabled"},el={class:"p-0"},al=q(()=>d("b",null,"_id:",-1)),ll={class:"content-items d-flex"},tl={class:"content-curso"},ol=["href"],sl={class:"content-time pl-3"},nl=q(()=>d("b",null,"Duraci\xF3n: ",-1)),il={class:"content-time pl-3"},ul=q(()=>d("b",null,"Categor\xEDa: ",-1)),rl={class:"d-flex flex-nowrap pl-3"},dl=q(()=>d("b",null,"Estado: ",-1)),cl={key:0,class:"ml-2"},fl={key:1,class:"ml-2"},ml={class:"espacio-right-2"},vl={class:"d-flex align-center justify-space-between botonescurrentPage"},pl={key:0},gl=["src"],hl=q(()=>d("small",{class:"text-disabled"},"El tama\xF1o m\xE1x de imagen es 1MB.",-1)),_l=q(()=>d("span",{class:"ms-4"},"M\xF3dulo",-1)),Vl={class:"text-xs text-disabled"},bl={class:"content-order"},wl={class:"content-edit"},yl={class:"btn-order",style:{}},Cl={__name:"index",setup(ie){const k=ka.exports.extendMoment(Ya);k.locale("es",[Da]);const I=i(!1),j=i(!1),he=i(!1),_e=i(!1),Ve=i(!1),Z=i(!1),ue=i(!1);let N=[];const be=i("tab-lista");i(1);const K=i([]),ta=i(1);i(1),i(""),i(!1);const oa=i(!1);i(!1);const O=i(!1),re=i(null),C=k().format("YYYY-MM-DD"),Ue=k().subtract(1,"days").format("YYYY-MM-DD"),m=i({fechasModel:[M(Ue),M(C)],fechasVModel:[M(C)],fechasVConfig:{position:"auto right",mode:"single",minDate:M(C),altFormat:"d F j, Y",dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0},fechai:C,fechaV:C,fechaf:C}),P=i(!1),T=i(""),sa=i(""),x=i([]),A=i([]),V=i([]),de=i(null),we=i(!1),L=i(null),ye=i([]),z=i([]),ee=i([]),ce=i(null),Ce=i(!1),F=i(null),xe=i([]),U=i(""),Y=i("");i(""),i(!0),i(""),i("");const D=i(""),B=i(""),G=i(null),R=i(null),ae=i(null),H=i(!0),Me=i(""),c=i({message:"Datos guardados",type:"success",model:!1}),Re=i([]),Se=i([]);Ea(async()=>{await ke(),await Ye(),await fe(),await De(),await $e()});async function ke(o=1,l=10){try{Ve.value=!0;var u=new Headers;u.append("Content-Type","application/json");var n={method:"GET",headers:u,redirect:"follow"},r=await fetch("https://estadisticas.ecuavisa.com/sites/gestor/Tools/elearning/etiqueta/listar.php",n);const a=await r.json();Re.value=a,Ve.value=!1}catch(a){return c.value={message:"No se pudo recuperar las etiquetas, recargue de nuevo.",type:"error",model:!0},console.error(a.message)}}async function Ye(o=1,l=10){try{_e.value=!0;var u=new Headers;u.append("Content-Type","application/json");var n={method:"GET",headers:u,redirect:"follow"},r=await fetch("https://estadisticas.ecuavisa.com/sites/gestor/Tools/elearning/categoria/listar.php",n);const a=await r.json();Se.value=a,_e.value=!1}catch(a){return c.value={message:"No se pudo recuperar las categor\xEDas, recargue de nuevo.",type:"error",model:!0},console.error(a.message)}}async function De(o=1,l=10){try{E.value=1;var u=new Headers;u.append("Content-Type","application/json");var n={method:"GET",headers:u,redirect:"follow"},r=await fetch("https://servicio-elearning.vercel.app/curso/all?limit=200&page=1",n);const a=await r.json();K.value=a.data,ta.value=Math.ceil(a.total/a.limit)}catch(a){return c.value={message:"No se pudo recuperar los cursos, recargue de nuevo.",type:"error",model:!0},console.error(a.message)}}async function fe(o=1,l=10){try{we.value=!0;var u=new Headers;u.append("Content-Type","application/json");var n={method:"GET",headers:u,redirect:"follow"},r=await fetch("https://servicio-elearning.vercel.app/modulo/select?limit=200&page=1",n);const a=await r.json();A.value=a.data.reduce((v,b)=>(v.push({title:`${b.titulo}`,value:b._id}),v),[]),ye.value=A.value,we.value=!1}catch(a){return c.value={message:"No se pudo recuperar los m\xF3dulos, recargue de nuevo.",type:"error",model:!0},console.error(a.message)}}async function $e(o=1,l=10){try{Ce.value=!0;var u=new Headers;u.append("Content-Type","application/json");var n={method:"GET",headers:u,redirect:"follow"},r=await fetch("https://e-learning-cuestionario.vercel.app/cuestionarios/all/get",n);const a=await r.json();ee.value=a.data.reduce((v,b)=>(v.push({title:`${b.titulo}`,value:b._id}),v),[]),xe.value=ee.value,Ce.value=!1}catch(a){return c.value={message:"No se pudo recuperar los cuestionarios, recargue de nuevo.",type:"error",model:!0},console.error(a.message)}}const me=8,E=i(1),qe=Ia(()=>{const o=(E.value-1)*me,l=o+me;return K.value.slice(o,l)}),na=()=>{E.value*me<K.value.length&&E.value++},ia=()=>{E.value>1&&E.value--};function Ee(){Me.value="",G.value="",U.value="",Y.value="",R.value="",ae.value="",Y.value="",B.value="",D.value="",V.value=[],x.value=[],z.value=null,H.value=!0,ve.value=!1,Z.value=!1,ue.value=!1,ae.value=[],N.value=null,m.value={fechasModel:[M(Ue),M(C)],fechasVModel:[M(C)],fechasVConfig:m.value.fechasVConfig,fechai:C,fechaV:C,fechaf:C}}function Ne(){Ee(),P.value=!1}async function ua(){Ee(),T.value="add",P.value=!0}function ra(o,l){l.sort((n,r)=>n.posicion-r.posicion);let u=[];for(let n=0;n<l.length;n++){let r=o.find(a=>a===l[n]._id);r&&u.push({title:l[n].titulo,value:r})}return u}function da(o,l){return o.filter(n=>l.includes(n.value)).map(n=>n.value)}async function ca(o){try{Ee(),T.value="edit";const n=(await(await fetch("https://servicio-elearning.vercel.app/curso/get/"+o)).json()).data;if(Me.value=n._id,G.value=n.titulo,U.value=n.idRudo,Y.value=n.duracion,R.value=n.descripcion,ya(n.thumbnail),B.value=n.etiquetas,D.value=n.categoria,H.value=n.estado,n.cuestionario&&(z.value=n.cuestionario._id),x.value=da(A.value,n.modulos.reduce((r,a)=>(r.push(a._id),r),[])),n.fechai){const r={fechai:k(n.fechai,"DD-MM-YYYY").format("YYYY-MM-DD"),fechaf:k(n.fechaf,"DD-MM-YYYY").format("YYYY-MM-DD"),fechav:k(n.fechaVencimiento,"DD-MM-YYYY").format("YYYY-MM-DD")};m.value={fechasModel:[M(r.fechai),M(r.fechaf)],fechasVModel:[M(r.fechav)],fechasVConfig:m.value.fechasVConfig,fechai:n.fechai,fechaV:n.fechaVencimiento,fechaf:n.fechaf},m.value.fechasVConfig.minDate=M(r.fechav)}P.value=!0,V.value=ra(x.value,n.modulos)}catch(l){return c.value={message:"No se pudo recuperar los datos para editar, recargue de nuevo.",type:"error",model:!0},console.error(l.message)}}async function fa(){if(!je.value)return c.value={message:"La imagen supera el tama\xF1o m\xE1ximo de 1MB",type:"error",model:!0},!1;if(T.value=="add"&&!N.value)return c.value={message:"Llenar todos los campos para crear",type:"error",model:!0},!1;if(T.value=="edit"&&ue.value&&Z.value&&!N.value)return c.value={message:"Llenar todos los campos para editar",type:"error",model:!0},!1;if(!D.value||!U.value||!R.value||!z.value||!Y.value)return c.value={message:"Llenar todos los campos",type:"error",model:!0},!1;var o=new Headers;if(o.append("Content-Type","application/json"),T.value==="add"){let n={titulo:G.value,descripcion:R.value,idRudo:U.value,duracion:Y.value,categoria:D.value,etiquetas:B.value,idCuestionario:z.value,fechai:m.value.fechai,fechaf:m.value.fechaf,fechaVencimiento:m.value.fechaV,estado:H.value,modulos:Pe()};var l=JSON.stringify(n);const r=new FormData;r.append("raw",l),N.forEach(b=>{r.append("files",b)});var u={method:"POST",body:r};console.log(N);const v=await(await fetch("https://servicio-elearning.vercel.app/curso/create/file",u)).json();if(v.resp)c.value={message:"Registro creado correctamente",type:"success",model:!0};else return c.value={message:v.mensaje,type:"error",model:!0},console.error(v.error),!1}else if(T.value==="edit"){let n={titulo:G.value,descripcion:R.value,idRudo:U.value,duracion:Y.value,idCuestionario:z.value,categoria:D.value,etiquetas:B.value,fechai:m.value.fechai,fechaf:m.value.fechaf,editImage:ve.value,fechaVencimiento:m.value.fechaV,estado:H.value,modulos:Pe()};var l=JSON.stringify(n);const a=new FormData;a.append("raw",l),ve.value?N.value.forEach(xa=>{a.append("files",xa)}):a.append("files","");var u={method:"POST",body:a};const Te=await(await fetch("https://servicio-elearning.vercel.app/curso/update-file/"+Me.value,u)).json();if(Te.resp)c.value={message:"Registro actualizado correctamente",type:"success",model:!0};else return c.value={message:Te.mensaje,type:"error",model:!0},console.error(Te.error),!1}await De(),await ke(),await Ye(),P.value=!1}const S=i(!1),Oe=i("");function ma(o){S.value=!0,Oe.value=o}function va(o){re.value={_id:o._id,idRudoModel:o.idRudo,urlContent:o.urlRudo},O.value=!0}function Ie(){const o=A.value,l=x.value;if(l){if(V.value.length<l.length)for(var u in o)l[l.length-1]==o[u].value&&V.value.push(o[u]);if(V.value.length>l.length){const r=V.value.filter(a=>!l.includes(a.value));for(var n in r)for(var u in V.value)if(r[n].value==V.value[u].value){V.value.splice(u,1);break}}}}le(async()=>x.value,async()=>{x.value&&Ie()});function Pe(){const o=V.value,l=[];return o.forEach((u,n)=>{l.push({value:u.value,posicion:n})}),l}function Ae(o,l){const u=V.value,n=u.findIndex(r=>r.value===o);if(n===-1){console.log("El valor especificado no se encontr\xF3 en la lista.");return}if(l==="arriba"&&n>0)[u[n],u[n-1]]=[u[n-1],u[n]];else if(l==="abajo"&&n<u.length-1)[u[n],u[n+1]]=[u[n+1],u[n]];else{console.log("La direcci\xF3n especificada es inv\xE1lida o el elemento est\xE1 en el extremo de la lista.");return}}async function pa(){he.value=!0;var o={method:"DELETE",redirect:"follow"};const u=await(await fetch("https://servicio-elearning.vercel.app/curso/delete/"+Oe.value,o)).json();u.resp?c.value={message:"Desaf\xEDo eliminado correctamente",type:"success",model:!0}:c.value={message:u.mensaje,type:"error",model:!0},await De(),S.value=!1,he.value=!1}const Be=async o=>{o.action=="modal"&&(I.value=o.modalShow,j.value=o.modalShow),o.action=="add"&&(await fe(),I.value=o.modalShow,x.value.push(o.id),Ie()),o.action=="edit"&&(await fe(),j.value=o.modalShow,Ie())};function ga(o,l,u){o.length>1&&(m.value.fechai=k(o[0]).format("DD-MM-YYYY"),m.value.fechaf=k(o[1]).format("DD-MM-YYYY")),o.length==2&&(m.value.fechasVConfig.minDate=o[1],m.value.fechasVModel=[o[1]])}function ha(o,l,u){o.length>0&&(m.value.fechaV=k(o[0]).format("DD-MM-YYYY"))}le(async()=>F.value,async()=>{F.value?ee.value=xe.value.filter(o=>o.title.toLowerCase().indexOf(F.value.toLowerCase())>-1||o.value.indexOf(F.value)>-1):ee.value=xe.value}),le(ce,o=>{o||setTimeout(()=>{F.value=""},1e3)}),le(async()=>L.value,async()=>{L.value?A.value=ye.value.filter(o=>o.title.toLowerCase().indexOf(L.value.toLowerCase())>-1||o.value.indexOf(L.value)>-1):A.value=ye.value}),le(de,o=>{o||setTimeout(()=>{L.value=""},1e3)});const _a=()=>{Z.value=!0},Ge=i(""),ve=i(!1),Va=i(null),je=i(!0),ba=[o=>!o||!o.length||o[0].size<=1e6||"La imagen no debe superar a 1 MB!"],wa=o=>{const l=o.target.files;je.value=!0;const u=1,n=u*1024*1024;for(let r of l)if(r.size>n)return c.value={message:`El archivo ${r.name} excede el tama\xF1o m\xE1ximo de ${u}MB.`,type:"error",model:!0},je.value=!1,!1;N.value=Array.from(l),ve.value=!0},ya=o=>{Ge.value=o,ue.value=!0,Z.value=!1},He=i(""),Ca=o=>{He.value=o,j.value=!0};return(o,l)=>{const u=qa,n=Na,r=ja("v-list-item-content");return w(),$("section",null,[e(Ta,{modelValue:s(c).model,"onUpdate:modelValue":l[0]||(l[0]=a=>s(c).model=a),location:"top end",variant:"flat",timeout:s(c).timeout||2e3,color:s(c).type},{default:t(()=>[f(_(s(c).message),1)]),_:1},8,["modelValue","timeout","color"]),e(te,{modelValue:s(j),"onUpdate:modelValue":l[2]||(l[2]=a=>p(j)?j.value=a:null),width:"700",persistent:""},{default:t(()=>[e(u,{onClick:l[1]||(l[1]=a=>j.value=!s(j))}),e(Q,null,{default:t(()=>[e(la,{action:"edit",idModulo:s(He),"onGet:eventModalCR":Be},null,8,["idModulo"])]),_:1})]),_:1},8,["modelValue"]),e(te,{modelValue:s(I),"onUpdate:modelValue":l[4]||(l[4]=a=>p(I)?I.value=a:null),width:"700",persistent:""},{default:t(()=>[e(u,{onClick:l[3]||(l[3]=a=>I.value=!s(I))}),e(Q,null,{default:t(()=>[e(la,{action:"add","onGet:eventModalCR":Be})]),_:1})]),_:1},8,["modelValue"]),e(te,{modelValue:s(O),"onUpdate:modelValue":l[7]||(l[7]=a=>p(O)?O.value=a:null),width:"500",persistent:""},{activator:t(({props:a})=>[]),default:t(()=>[e(u,{onClick:l[5]||(l[5]=a=>O.value=!s(O))}),e(Q,{title:s(re).idRudoModel},{default:t(()=>[d("iframe",{class:"mt-3",title:"Video "+s(re).idRudoModel,width:"100%",height:"300",src:s(re).urlContent},null,8,Ga),e(oe,{class:"d-flex justify-end"},{default:t(()=>[e(h,{onClick:l[6]||(l[6]=a=>O.value=!1)},{default:t(()=>[f(" Aceptar ")]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),e(te,{modelValue:s(S),"onUpdate:modelValue":l[10]||(l[10]=a=>p(S)?S.value=a:null),persistent:"",class:"v-dialog-sm"},{default:t(()=>[e(u,{onClick:l[8]||(l[8]=a=>S.value=!s(S))}),e(Q,{title:"Eliminar registro"},{default:t(()=>[e(oe,null,{default:t(()=>[f(" \xBFDesea eliminar el registro? ")]),_:1}),e(oe,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[e(h,{color:"secondary",variant:"tonal",onClick:l[9]||(l[9]=a=>S.value=!1)},{default:t(()=>[f(" No, cerrar ")]),_:1}),e(h,{disabled:s(he),onClick:pa},{default:t(()=>[f(" Si, eliminar ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ne,null,{default:t(()=>[e(g,{class:"mt-0",cols:"12",md:"12",lg:"12"},{default:t(()=>[e(Q,{class:"mt-5"},{default:t(()=>[e(oe,null,{default:t(()=>[e(La,{modelValue:s(be),"onUpdate:modelValue":l[29]||(l[29]=a=>p(be)?be.value=a:null)},{default:t(()=>[e(za,{value:"tab-lista"},{default:t(()=>[d("div",Ha,[d("div",null,[e(Je,null,{default:t(()=>[f(" Listado de cursos E-Learning ")]),_:1}),e(Fa,null,{default:t(()=>[f(" Mantenimiento de cursos E-Learning ")]),_:1})])]),d("div",Ja,[e(h,{color:"primary",class:"mb-4",onClick:ua},{default:t(()=>[f(" Crear registro "),e(y,{size:22,icon:"tabler-plus"})]),_:1}),s(K).length<1?(w(),W(Le,{key:0,lines:"two",border:""},{default:t(()=>[e(J,null,{default:t(()=>[e(ze,null,{default:t(()=>[Ka]),_:1})]),_:1})]),_:1})):se("",!0),s(K).length>0?(w(),W(Le,{key:1,lines:"two",border:""},{default:t(()=>[(w(!0),$(pe,null,Ke(s(qe),(a,v)=>(w(),$(pe,{key:v},[e(J,{disabled:s(oa)},{append:t(()=>[d("div",ml,[e(h,{title:"Ver vista previa del curso",icon:"",size:"x-small",color:"warning",variant:"text",onClick:b=>va(a)},{default:t(()=>[e(y,{size:"22",icon:"tabler-movie"})]),_:2},1032,["onClick"]),e(h,{title:"Editar registro",color:"success",variant:"text",icon:"",onClick:b=>ca(a._id)},{default:t(()=>[e(y,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(h,{title:"Eliminar el registro",icon:"",size:"x-small",color:"error",variant:"text",onClick:b=>ma(a._id)},{default:t(()=>[e(y,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(h,{icon:"",variant:"text",color:"default",size:"x-small",to:{name:"apps-elearning-gestion-cursos-view-id",params:{id:a._id}}},{default:t(()=>[e(y,{size:22,icon:"tabler-eye"})]),_:2},1032,["to"])])]),default:t(()=>[e(ze,null,{default:t(()=>[d("div",Qa,[d("div",Wa,[Xa,d("small",Za,[d("code",el,[al,f(_(a._id),1)])])]),d("label",null,_(a.titulo),1),d("div",ll,[d("div",tl,[e(y,{size:"20",icon:"tabler-video"}),d("a",{class:"pl-2",target:"_blank",href:a.urlRudo},_(a.idRudo),9,ol)]),d("div",sl,[e(y,{size:"20",icon:"tabler-clock"}),nl,f(" "+_(a.duracion)+" min ",1)]),d("div",il,[e(y,{size:"20",icon:"mdi-animation"}),ul,f(" "+_(a.categoria),1)]),d("div",rl,[e(y,{size:"20",icon:"tabler-power"}),dl,a.estado?(w(),$("div",cl,[e(Qe,{color:"success"},{default:t(()=>[f(" Activo ")]),_:1})])):(w(),$("div",fl,[e(Qe,{color:"error"},{default:t(()=>[f(" Inactivo ")]),_:1})]))])])])]),_:2},1024)]),_:2},1032,["disabled"]),v!==s(qe).length-1?(w(),W(ge,{key:0})):se("",!0)],64))),128))]),_:1})):se("",!0),d("div",vl,[e(h,{icon:"tabler-arrow-big-left-lines",onClick:ia,disabled:s(E)===1},null,8,["disabled"]),f(" P\xE1gina "+_(s(E))+" ",1),e(h,{icon:"tabler-arrow-big-right-lines",onClick:na,disabled:s(E)*me>=s(K).length},null,8,["disabled"])])]),e(te,{modelValue:s(P),"onUpdate:modelValue":l[28]||(l[28]=a=>p(P)?P.value=a:null),persistent:"","no-click-animation":"","max-width":"800"},{default:t(()=>[e(u,{onClick:Ne}),e(Q,{class:"pa-sm-4 pa-4"},{default:t(()=>[e(Ua,{class:"text-center"},{default:t(()=>[e(Je,{class:"text-h5 mb-3"},{default:t(()=>[f(_(s(T)==="add"||s(T)==="duplicate"?"Crear registro":"Editar registro "+s(sa)),1)]),_:1})]),_:1}),e(oe,null,{default:t(()=>[e(Ra,{class:"mt-6",onSubmit:We(fa,["prevent"])},{default:t(()=>[e(ne,{class:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(n,{label:"Fecha de inicio y fin del curso","prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:s(m).fechasModel,"onUpdate:modelValue":l[11]||(l[11]=a=>s(m).fechasModel=a),"show-current":"true",onOnChange:ga,config:{position:"auto right",mode:"range",altFormat:"d F j, Y",dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0}},null,8,["modelValue"])]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(n,{label:"Fecha de vencimiento","prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:s(m).fechasVModel,"onUpdate:modelValue":l[12]||(l[12]=a=>s(m).fechasVModel=a),"show-current":"true",onOnChange:ha,config:s(m).fechasVConfig},null,8,["modelValue","config"])]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(Sa,{modelValue:s(H),"onUpdate:modelValue":l[13]||(l[13]=a=>p(H)?H.value=a:null),label:"Estado del curso"},null,8,["modelValue"])]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(X,{modelValue:s(G),"onUpdate:modelValue":l[14]||(l[14]=a=>p(G)?G.value=a:null),label:"T\xEDtulo del curso"},null,8,["modelValue"])]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(X,{modelValue:s(R),"onUpdate:modelValue":l[15]||(l[15]=a=>p(R)?R.value=a:null),label:"Descripci\xF3n"},null,8,["modelValue"])]),_:1}),e(g,{class:"img-preview-container",cols:"6"},{default:t(()=>[s(ue)&&!s(Z)?(w(),$("div",pl,[d("img",{src:s(Ge),alt:"Imagen actual",class:"image-preview"},null,8,gl),e(h,{onClick:_a},{default:t(()=>[f("Cambiar imagen")]),_:1})])):(w(),W(Aa,{key:1,ref_key:"fileInputRef",ref:Va,modelValue:s(ae),"onUpdate:modelValue":l[16]||(l[16]=a=>p(ae)?ae.value=a:null),rules:ba,onChange:wa,required:"",label:"Subir una imagen principal",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an avatar","prepend-icon":"tabler-camera"},null,8,["modelValue"])),hl]),_:1}),e(g,{cols:"6"},{default:t(()=>[e(X,{modelValue:s(U),"onUpdate:modelValue":l[17]||(l[17]=a=>p(U)?U.value=a:null),label:"Id video de RUDO"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(X,{modelValue:s(Y),"onUpdate:modelValue":l[18]||(l[18]=a=>p(Y)?Y.value=a:null),label:"Tiempo que dura el curso",suffix:"minutos","append-inner-icon":"tabler-clock",type:"number"},null,8,["modelValue"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(Xe,{modelValue:s(D),"onUpdate:modelValue":l[19]||(l[19]=a=>p(D)?D.value=a:null),items:s(Se),chips:"",label:"Seleccione la categor\xEDa del curso","menu-props":{maxHeight:"300"},onKeydown:$a(We(s(D),["prevent"]),["enter"]),disabled:s(_e),"append-icon":"mdi-refresh","onClick:append":Ye},null,8,["modelValue","items","onKeydown","disabled"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(Xe,{"item-text":"title","item-value":"value",modelValue:s(B),"onUpdate:modelValue":l[20]||(l[20]=a=>p(B)?B.value=a:null),items:s(Re),chips:"",multiple:"",label:"Etiquetas del curso","menu-props":{maxHeight:"300"},disabled:s(Ve),"append-icon":"mdi-refresh","onClick:append":ke},null,8,["modelValue","items","disabled"])]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(ne,null,{default:t(()=>[e(g,{cols:"9"},{default:t(()=>[e(Ze,{menu:s(ce),"onUpdate:menu":l[22]||(l[22]=a=>p(ce)?ce.value=a:null),"no-data-text":"No existen cuestionario que mostrar","append-icon":"mdi-refresh","onClick:append":$e,disabled:s(Ce),"item-text":"title","item-value":"value",modelValue:s(z),"onUpdate:modelValue":l[23]||(l[23]=a=>p(z)?z.value=a:null),items:s(ee),label:"Cuestionario para al final del curso","menu-props":{maxHeight:"400"}},{"prepend-item":t(()=>[e(J,null,{default:t(()=>[e(r,null,{default:t(()=>[e(X,{modelValue:s(F),"onUpdate:modelValue":l[21]||(l[21]=a=>p(F)?F.value=a:null),clearable:"",placeholder:"Buscar cuestionario"},null,8,["modelValue"])]),_:1})]),_:1}),e(ge,{class:"mt-2"})]),selection:t(({item:a})=>[d("div",null,_(a.title)+" - "+_(a.value),1)]),item:t(({item:a,props:v})=>[e(J,ea(aa(v)),{default:t(()=>[e(r,null,{default:t(()=>[e(Fe,null,{default:t(()=>[d("p",null,"_id: "+_(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["menu","disabled","modelValue","items"])]),_:1}),e(g,{cols:"3"},{default:t(()=>[e(h,{title:"Agregar cuestionario",block:"",target:"_blank",to:{name:"apps-cuestionarios",params:{id:0}}},{default:t(()=>[f(" Agregar ")]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(ne,null,{default:t(()=>[e(g,{cols:"9"},{default:t(()=>[e(Ze,{menu:s(de),"onUpdate:menu":l[25]||(l[25]=a=>p(de)?de.value=a:null),"no-data-text":"No existen m\xF3dulo que mostrar","append-icon":"mdi-refresh","onClick:append":fe,disabled:s(we),"item-text":"title","item-value":"value",modelValue:s(x),"onUpdate:modelValue":l[26]||(l[26]=a=>p(x)?x.value=a:null),items:s(A),chips:"",multiple:"",label:"Seleccionar el m\xF3dulo para el curso","menu-props":{maxHeight:"400"}},{"prepend-item":t(()=>[e(J,null,{default:t(()=>[e(r,null,{default:t(()=>[e(X,{modelValue:s(L),"onUpdate:modelValue":l[24]||(l[24]=a=>p(L)?L.value=a:null),clearable:"",placeholder:"Buscar m\xF3dulo"},null,8,["modelValue"])]),_:1})]),_:1}),e(ge,{class:"mt-2"})]),selection:t(({item:a})=>[d("div",null,_(a.title)+" - "+_(a.value),1)]),item:t(({item:a,props:v})=>[e(J,ea(aa(v)),{default:t(()=>[e(r,null,{default:t(()=>[e(Fe,null,{default:t(()=>[d("p",null,"_id: "+_(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["menu","disabled","modelValue","items"])]),_:1}),e(g,{cols:"3"},{default:t(()=>[e(h,{title:"Agregar m\xF3dulo",block:"",onClick:l[27]||(l[27]=a=>I.value=!0)},{default:t(()=>[f(" Agregar ")]),_:1})]),_:1})]),_:1})]),_:1}),s(x).length>0?(w(),W(g,{key:0,cols:"12"},{default:t(()=>[e(Le,{lines:"two",border:""},{default:t(()=>[(w(!0),$(pe,null,Ke(s(V),(a,v)=>(w(),$(pe,{key:a.value},[e(J,null,{prepend:t(()=>[e(y,{size:35,icon:"mdi-sale",color:"success"})]),append:t(()=>[d("div",bl,[d("div",wl,[e(h,{class:"px-0 btn-editar",size:"x-small",variant:"text",onClick:b=>Ca(a.value)},{default:t(()=>[e(y,{top:"",size:25,icon:"tabler-edit"}),f(" Editar ")]),_:2},1032,["onClick"])]),d("div",yl,[e(h,{class:"px-1",size:"x-small",disabled:v==0,variant:"text",onClick:b=>Ae(a.value,"arriba")},{default:t(()=>[e(y,{size:25,icon:"mdi-arrow-up-bold-box"})]),_:2},1032,["disabled","onClick"]),e(h,{class:"px-1",size:"x-small",disabled:v==s(V).length-1,variant:"text",onClick:b=>Ae(a.value,"abajo")},{default:t(()=>[e(y,{size:25,icon:"mdi-arrow-down-bold-box"})]),_:2},1032,["disabled","onClick"])])])]),default:t(()=>[e(ze,null,{default:t(()=>[f(_(a.title),1)]),_:2},1024),e(Fe,{class:"mt-1"},{default:t(()=>[e(Ba,{dot:"",location:"start center","offset-x":"2",color:"success",class:"me-3"},{default:t(()=>[_l]),_:1}),d("span",Vl,_(a.value),1)]),_:2},1024)]),_:2},1024),v!==s(V).length-1?(w(),W(ge,{key:0})):se("",!0)],64))),128))]),_:1})]),_:1})):se("",!0)]),_:1}),e(g,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:t(()=>[e(h,{type:"submit"},{default:t(()=>[f(" Guardar ")]),_:1}),e(h,{color:"secondary",variant:"tonal",onClick:Ne},{default:t(()=>[f(" Cancelar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})])}}},Il=Ma(Cl,[["__scopeId","data-v-e93f90ef"]]);export{Il as default};
