import{M as pl,R as vl,S as fl,U as hl,r as d,as as gl,Q as ie,o as S,x as q,a,w as o,q as c,t as w,u as t,f as bl,g as le,h as A,p as g,i as f,b0 as ne,b3 as Ml,b4 as De,b5 as ze,b6 as Ue,V as be,e as b,n as G,b as i,N as V,a3 as I,c as de,b9 as _l,ba as Vl,aR as wl,b2 as yl,Z as Te,$ as Ne,a0 as $e,F as Ae,C as xl,L as He,a1 as Sl,c7 as jl,aM as Fe,a2 as El,bc as kl,bd as Cl,be as Dl}from"./index.88d3c7f5.js";import{V as M}from"./VAutocomplete.bb0d71fb.js";import{V as zl}from"./VCheckbox.50e352e3.js";import{V as re,a as ue}from"./VRadioGroup.4905b4ef.js";import{V as Ul}from"./VAlert.3e8ed100.js";import{V as Tl,a as Nl}from"./VToolbar.19b789c8.js";import{V as Le}from"./VSpacer.2a3e77c9.js";import{V as $l}from"./VToolbarItems.56927371.js";import{V as Al}from"./VTooltip.2d0a8708.js";import{V as Hl}from"./VPagination.9412c3b8.js";const h=ae=>(Cl("data-v-d9b63d48"),ae=ae(),Dl(),ae),Fl={style:{"line-height":"1.2",display:"block","font-size":"10px","padding-top":"4px","padding-left":"4px"}},Ll={key:0,title:"Usuarios afectados",style:{"line-height":"1.2",display:"block","font-size":"10px","padding-top":"4px","padding-left":"4px"}},Ol={key:0,title:"Ver vista previa",style:{"line-height":"1.2",display:"block","font-size":"10px","padding-top":"4px","padding-left":"4px"}},Pl=["href"],Jl={class:"d-flex justify-init align-items-center gap-3 flex-wrap active-items-cr"},Il={style:{width:"60px"},title:"Seleccione la hora"},Bl=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Horas",-1)),Yl=h(()=>i("span",null,":",-1)),Rl={style:{width:"60px"},title:"Seleccione el minuto"},ql=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Minutos",-1)),Gl={class:"d-flex justify-init align-items-center gap-3 flex-wrap pt-2 no-active-items-cr"},Wl={style:{width:"60px"},title:"Seleccione el d\xEDa"},Ql=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"D\xEDa",-1)),Zl=h(()=>i("span",null,"del mes, a las",-1)),Kl={class:"d-flex justify-init align-items-center gap-3 flex-wrap"},Xl={style:{width:"60px"},title:"Seleccione la hora"},ea=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Hora",-1)),la=h(()=>i("span",null,":",-1)),aa={style:{width:"60px"},title:"Seleccione el minuto"},oa=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Minuto",-1)),ta={class:"active-items-cr"},sa={class:"d-flex justify-init align-items-center gap-3 flex-wrap pl-7 pt-2"},ia={style:{width:"60px"},title:"Seleccione el d\xEDa"},na=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"D\xEDa",-1)),da=h(()=>i("span",null,"de",-1)),ra={style:{"min-width":"60px"},title:"Seleccione el mes"},ua=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Mes",-1)),ma=h(()=>i("span",null,"a las",-1)),ca={class:"d-flex justify-init align-items-center gap-3 flex-wrap"},pa={style:{width:"60px"},title:"Seleccione la hora"},va=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Hora",-1)),fa=h(()=>i("span",null,":",-1)),ha={style:{width:"60px"},title:"Seleccione el minuto"},ga=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Minuto",-1)),ba={key:0,class:"d-flex justify-init align-items-center gap-3 flex-wrap pl-7 pt-4"},Ma={style:{"min-width":"45%","max-width":"45%"},title:"Seleccione el d\xEDa de la semana"},_a=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"D\xEDas de la semana",-1)),Va={style:{"min-width":"45%","max-width":"45%"},title:"Seleccione el mes"},wa=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Meses",-1)),ya={class:"d-flex justify-init align-items-center gap-3 flex-wrap pt-3",style:{width:"100%"}},xa={style:{"min-width":"30%","max-width":"45%"},title:"Seleccione la hora"},Sa=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Horas",-1)),ja=h(()=>i("span",null,":",-1)),Ea={style:{"min-width":"30%","max-width":"45%"},title:"Seleccione el minuto"},ka=h(()=>i("label",{class:"label-radio",style:{"margin-top":"-12px"}},"Minutos",-1)),Ca=["src"],Da={class:"demo-space-x"},za={class:"d-flex flex-wrap py-4 gap-4 align-items-center",style:{"justify-content":"space-between"}},Ua={class:"px-4"},Ta={lass:"d-flex"},Na={class:"d-flex align-center flex-wrap gap-4 d-none"},$a={class:"invoice-list-filter d-flex align-center flex-wrap"},Aa=h(()=>i("div",{class:"loading"},null,-1)),Ha={class:"text-base",style:{cursor:"pointer"}},Fa=["onClick"],La={class:"nombre-campania"},Oa={variant:"text",style:{"padding-bottom":"2px"}},Pa={class:"switch-estatus"},Ja={style:{"font-weight":"medium"}},Ia={class:"text-xs text-disabled",style:{"padding-left":"5px"}},Ba={class:"d-bloc"},Ya={class:"text-xs text-disabled"},Ra={class:"text-xs text-disabled mt-1"},qa={class:"text-xs text-disabled mt-1"},Ga={class:"espacio-right-2"},Wa={class:"text-sm text-disabled"},Qa={__name:"index",setup(ae){const me=vl.exports.extendMoment(fl);me.locale("es",[hl]);const _=d({message:"Datos guardados",type:"success",model:!1}),H=d("https://services.ecuavisa.com/sendpulse"),ce=d("tab-lista"),U=d(!1),B=d(!1);d("");const Me=d("");d(1);const F=d([]),Y=d(1),_e=d(1),Ve=d(1),we=d(""),L=d(""),pe=d(!1),x=d(!1),oe=d(!1),O=d(!1),te=d([]),Oe=d([]),T=d([]),ve=d(""),se=d([]),Pe=d([]),N=d([]),fe=d(""),he=d([]),Je=d([]),P=d([]),$=d(!1);d(null);const Ie=d(!1),ye=d(!1),Be=d([{id:"66146103d6d9f2e80323e95e",name:"\xDAltima hora",forzado:H.value+"/boletin-ultimahora/forzado.php"},{id:"660f09cc2a53044cbb5c3495",name:"Estadio",forzado:H.value+"/boletin-estadio/forzado.php"},{id:"66043d5421c9f3dc3c353987",name:"Gente",forzado:H.value+"/boletin-entretenimiento/forzado.php"},{id:"64f9f5225c4a279b69ff2ac8",name:"Bolet\xEDn diario 7am",forzado:H.value+"/boletin-diario/forzado.php"},{id:"64f9f5455c4a279b69ff2aca",name:"Newsletter Opini\xF3n",forzado:H.value+"/opinion/forzado.php"},{id:"655e5a43de6d5e1206632e25",name:"Bolet\xEDn diario 5pm",forzado:H.value+"/boletin-diario-5pm/forzado.php"}]),j=d([]),J=d(""),p=d("2"),W=d(0),u=d([{value:1,minutoModel:null},{value:2,horaModel:10,minutoModel:10},{value:3,diaModel:null,horaModel:null,minutoModel:null},{value:4,diaModel:null,horaModel:null,mesModel:null,minutoModel:null},{value:5,diaModel:null,horaModel:null,mesModel:null,minutoModel:null}]);d("12:00"),d(!0),d(!1);const Ye=d([]);Ye.value=["2","3","4","5","6"],d([{title:"Lunes",value:"2",modelTime:null},{title:"Martes",value:"3",modelTime:null},{title:"Mi\xE9rcoles",value:"4",modelTime:null},{title:"Jueves",value:"5",modelTime:null},{title:"Viernes",value:"6",modelTime:null},{title:"S\xE1bado",value:"7",modelTime:null},{title:"Domingo",value:"1",modelTime:null}]);const y=d(!1),ge=d("Crear newsletter"),E=d(""),k=d(""),C=d(""),D=d("asdfg12345"),z=d(""),Q=d(""),xe=d("");d([]),gl(async()=>{await R(),await ll(),await al(),await ol(),await tl()});async function R(n=null,e=10){try{n==null&&(n=Y.value);var r=new Headers;r.append("Content-Type","application/json");var l={method:"GET",headers:r,redirect:"follow"},s=await fetch(`https://ads-service.vercel.app/newsletter/all?page=${n}&limit=${e}`,l);const m=await s.json();var v=m.total,e=m.limit;F.value=m.data,Ve.value=v,_e.value=Math.ceil(v/e)}catch(m){return console.error(m.message)}}const Re=async()=>{pe.value=!0,await R(Y.value),pe.value=!1},qe=async n=>{U.value=!0,we.value=n},Ge=async n=>{B.value=!0,Me.value=H.value+n},We=async()=>{try{U.value=!1,x.value=!0;var n=new Headers;n.append("Content-Type","application/json");var e={method:"DELETE",headers:n,redirect:"follow"},r=await fetch(`https://ads-service.vercel.app/newsletter/delete/${we.value}`,e);const l=await r.json();x.value=!1,await R(Y.value)}catch(l){return console.error(l.message)}},Qe=async n=>{const e=F.value[n],r=e._id,l=e.estado;oe.value=!0;var s={estado:l},v=new Headers;v.append("Content-Type","application/json");var m={method:"POST",headers:v,body:JSON.stringify(s),redirect:"follow"},K=await fetch(`https://ads-service.vercel.app/newsletter/update/status/${r}`,m);const X=await K.json();X.resp?(_.value.message="Dato editado",_.value.model=!0):(alert("Un error se present\xF3: "+X.error),e.estado=!e.estado),oe.value=!1},Ze=async()=>{y.value=!0,ge.value="Crear newsletter",Q.value="add",T.value=574818,N.value=148832,P.value="ecuavisainforma@ecuavisa.com",W.value=0,E.value="",k.value="",C.value="",j.value="",D.value="",z.value="",O.value=!1,p.value="2"},Se=async n=>{await R(),y.value=!0,Q.value="edit",W.value=0;const e=F.value.find(r=>r._id===n);ge.value="Editar | "+e.nombre,xe.value=e._id,E.value=e.nombre,k.value=e.descripcion,C.value=e.subject,D.value=e.pass,z.value=e.preview,O.value=e.estado,T.value=e.config.addressbook,N.value=e.config.template,j.value=e.sender_name||"",P.value=e.sender_email||"ecuavisainforma@ecuavisa.com",e.config.horarioEjecucion&&(p.value=e.config.horarioEjecucion.method,u.value=[{value:1,minutoModel:e.config.horarioEjecucion.horario[0].minutoModel},{value:2,horaModel:e.config.horarioEjecucion.horario[1].horaModel,minutoModel:e.config.horarioEjecucion.horario[1].minutoModel},{value:3,diaModel:e.config.horarioEjecucion.horario[2].diaModel,horaModel:e.config.horarioEjecucion.horario[2].horaModel,minutoModel:e.config.horarioEjecucion.horario[2].minutoModel},{value:4,diaModel:e.config.horarioEjecucion.horario[3].diaModel,horaModel:e.config.horarioEjecucion.horario[3].horaModel,mesModel:e.config.horarioEjecucion.horario[3].mesModel,minutoModel:e.config.horarioEjecucion.horario[3].minutoModel},{value:5,diaModel:e.config.horarioEjecucion.horario.length>4?e.config.horarioEjecucion.horario[4].diaModel:null,horaModel:e.config.horarioEjecucion.horario.length>4?e.config.horarioEjecucion.horario[4].horaModel:null,mesModel:e.config.horarioEjecucion.horario.length>4?e.config.horarioEjecucion.horario[4].mesModel:null,minutoModel:e.config.horarioEjecucion.horario.length>4?e.config.horarioEjecucion.horario[4].minutoModel:null}])},Ke=async()=>{if(y.value=!0,E.value==""||E.value.length<1)return alert("Debe ingresar un nombre"),!1;if(k.value==""||k.value.length<1)return alert("Debe ingresar una descripci\xF3n"),!1;if(C.value==""||C.value.length<1)return alert("Debe ingresar un subject"),!1;if(j.value==""||j.value.length<1)return alert("Debe ingresar un nombre del remitente"),!1;if(D.value==""||D.value.length<1)return alert("Debe ingresar una contrase\xF1a de seguridad"),!1;if(z.value==""||z.value.length<1)return alert("Debe ingresar un preview"),!1;var n=await je(),e=n.method-1,r=n.horario[e];Object.keys(r).forEach(l=>{if(l!="value"&&r[l]==null)return alert(`No hay valor para: ${l}`),!1}),Q.value=="edit"&&await el({nombre:E.value,descripcion:k.value,subject:C.value,pass:D.value,preview:z.value,estado:O.value,sender_email:P.value,sender_name:j.value,config:{addressbook:T.value,template:N.value,horarioEjecucion:n}},xe.value),Q.value=="add"&&await Xe({nombre:E.value,descripcion:k.value,subject:C.value,pass:D.value,preview:z.value,estado:O.value,sender_email:P.value,sender_name:j.value,config:{addressbook:T.value,template:N.value,horarioEjecucion:n}})},Xe=async n=>{x.value=!0;var e=n,r=new Headers;r.append("Content-Type","application/json");var l={method:"POST",headers:r,body:JSON.stringify(e),redirect:"follow"},s=await fetch("https://ads-service.vercel.app/newsletter/create/",l);const v=await s.json();v.resp?_.value={message:"Dato guardado",type:"success",model:!0}:_.value={message:"Un error se present\xF3"+v.error,type:"error",model:!0},await R(),x.value=!1,y.value=!1},el=async(n,e)=>{x.value=!0;var r=n,l=new Headers;l.append("Content-Type","application/json");var s={method:"POST",headers:l,body:JSON.stringify(r),redirect:"follow"},v=await fetch("https://ads-service.vercel.app/newsletter/update/"+e,s);const m=await v.json();m.resp?_.value={message:"Dato editado",type:"success",model:!0}:_.value={message:"Un error se present\xF3"+m.error,type:"error",model:!0},await R(),x.value=!1,y.value=!1};async function ll(){var n=JSON.stringify({grant_type:"client_credentials",client_id:"c79f7382012df0ea4c6fa37afec6374e",client_secret:"164551af334e1ec93e1b3099afd93a88"}),e={method:"POST",headers:{"Content-Type":"application/json"},body:n,redirect:"follow"};const l=await(await fetch("https://api.sendpulse.com/oauth/access_token",e)).json();J.value=l.access_token}async function al(){try{if(!J.value)return!1;var n=new Headers;n.append("Authorization","Bearer "+J.value);var e={method:"GET",headers:n,redirect:"follow"};const s=await(await fetch("https://api.sendpulse.com/addressbooks",e)).json();Oe.value=s;for(var r in s)te.value.push({title:`${s[r].name} - ${s[r].id}`,value:s[r].id,all_email_qty:s[r].all_email_qty});te.value.sort((v,m)=>v.title.localeCompare(m.title))}catch(l){console.error(l.message)}}async function ol(){try{if(!J.value)return!1;var n=new Headers;n.append("Authorization","Bearer "+J.value);var e={method:"GET",headers:n,redirect:"follow"};const s=await(await fetch("https://api.sendpulse.com/templates/?owner=me",e)).json();Pe.value=s;for(var r in s)se.value.push({title:`${s[r].name}`,value:s[r].real_id,preview:s[r].preview});se.value.sort((v,m)=>v.title.localeCompare(m.title))}catch(l){console.error(l.message)}}async function tl(){try{if(!J.value)return!1;var n=new Headers;n.append("Authorization","Bearer "+J.value);var e={method:"GET",headers:n,redirect:"follow"};const s=await(await fetch("https://api.sendpulse.com/senders",e)).json();Je.value=s;for(var r in s)he.value.push({title:`${s[r].email}`,value:s[r].email});he.value.sort((v,m)=>v.title.localeCompare(m.title))}catch(l){console.error(l.message)}}d([]);async function je(){var n=p.value||2,e={method:n,horario:[{value:1,minutoModel:null},{value:2,horaModel:null,minutoModel:null},{value:3,diaModel:null,horaModel:null,minutoModel:null},{value:4,diaModel:null,horaModel:null,mesModel:null,minutoModel:null},{value:5,diaModel:null,horaModel:null,mesModel:null,minutoModel:null}]};return u.value.forEach((r,l)=>{l!=n-1&&(u.value[l]=e.horario[l])}),e={method:n,horario:[{value:1,minutoModel:u.value[0].minutoModel},{value:2,horaModel:u.value[1].horaModel,minutoModel:u.value[1].minutoModel},{value:3,diaModel:u.value[2].diaModel,horaModel:u.value[2].horaModel,minutoModel:u.value[2].minutoModel},{value:4,diaModel:u.value[3].diaModel,horaModel:u.value[3].horaModel,mesModel:u.value[3].mesModel,minutoModel:u.value[3].minutoModel},{value:5,diaModel:u.value[4].diaModel,horaModel:u.value[4].horaModel,mesModel:u.value[4].mesModel,minutoModel:u.value[4].minutoModel}]},e}function Z(n,e){if(n==2)return"El newsletter se enviar\xE1 todos los d\xEDas a las "+e.horaModel.toString().padStart(2,"0")+":"+e.minutoModel.toString().padStart(2,"0");if(n==3)return"El newsletter se enviar\xE1 el "+e.diaModel.toString().padStart(2,"0")+" de cada mes, a las  "+e.horaModel.toString().padStart(2,"0")+":"+e.minutoModel.toString().padStart(2,"0");if(n==4)return"El newsletter se enviar\xE1 cada a\xF1o, el "+e.diaModel.toString().padStart(2,"0")+" de "+e.mesModel.toString().padStart(2,"0")+" a las "+e.horaModel.toString().padStart(2,"0")+":"+e.minutoModel.toString().padStart(2,"0");if(n==5)return"El newsletter se enviar\xE1 en los d\xEDas de la semana: "+e.diaModel.join(",")+" para los meses:  "+e.mesModel.join(",")+" a las "+e.horaModel.toString().padStart(2,"0")+":"+e.minutoModel.toString().padStart(2,"0")}function sl(n){const e=new Date;e.getDate(),e.getMonth();const r=e.getHours(),l=e.getMinutes();let s=new Date;var v=n.method-1,m=n.horario[v];switch(parseInt(n.method)){case 1:s=new Date(s.getTime()+24*60*60*1e3);break;case 2:r>m.horaModel||r===m.horaModel&&l>=m.minutoModel?s=new Date(s.getTime()+((m.horaModel-r+24)%24*60+m.minutoModel-l)*60*1e3):s.setHours(m.horaModel,m.minutoModel);break;case 3:var K=m.diaModel;s.setDate(K),s<=e&&(s.setMonth(s.getMonth()+1),s.setHours(m.horaModel,m.minutoModel));break;case 4:var K=m.diaModel;const ml=m.mesModel;s.setDate(K),s.setMonth(ml),s<=e&&s.setFullYear(s.getFullYear()+1);break;case 5:const Ee=m.diaModel.map(ee=>il(ee)),ke=m.mesModel.map(ee=>nl(ee));let Ce=!1;var X=!1;if(Ee.includes(e.getDay())&&ke.includes(e.getMonth())&&m.horaModel>=e.getHours()&&m.minutoModel>=e.getMinutes()&&(s.setDate(s.getDate()),X=!0),!X)for(;!Ce;){s.setDate(s.getDate()+1);const ee=s.getDay(),cl=s.getMonth();Ee.includes(ee)&&ke.includes(cl)&&(Ce=!0)}s.setHours(m.horaModel,m.minutoModel);break}const ul=`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")} ${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}`;return me(ul,"YYYY-MM-DD HH:mm:ss").locale("es").format("Do MMM YYYY, HH:mm a")}function il(n){return["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"].indexOf(n)}function nl(n){return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].indexOf(n)}ie(p,async n=>{L.value=null,ie(u.value[p.value-1],async e=>{p.value==2&&e.horaModel&&e.minutoModel&&(L.value=Z(p.value,e)),p.value==3&&e.diaModel&&e.horaModel&&e.minutoModel&&(L.value=Z(p.value,e)),p.value==4&&e.diaModel&&e.mesModel&&e.horaModel&&e.minutoModel&&(L.value=Z(p.value,e)),p.value==5&&e.diaModel&&e.mesModel&&e.horaModel&&e.minutoModel&&(L.value=Z(p.value,e))}),await je()}),ie(T,async n=>{const e=te.value.find(r=>r.value===n);ve.value=e.all_email_qty}),ie(N,async n=>{const e=se.value.find(r=>r.value===n);fe.value=e.preview});const dl=async()=>{try{$.value=!1,x.value=!0;var n=new Headers;n.append("Content-Type","application/json");var e={method:"POST",headers:n,redirect:"follow"},r=await fetch(ye.value,e);const l=await r.json();l.hasOwnProperty("resp")?l.resp?_.value={message:"Newsletter creado y enviado",type:"success",model:!0}:_.value={message:"Un error se present\xF3: "+l.message,type:"error",model:!0}:_.value={message:"Un error se present\xF3: "+JSON.stringify(l),type:"error",model:!0},x.value=!1}catch(l){return console.error(l.message)}},rl=async n=>{const e=Be.value.find(r=>r.id===n);e?e.forzado!=""&&($.value=!0,Q.value="forzado",ye.value=e.forzado):alert("El forzado no est\xE1 configurado")};return(n,e)=>{const r=kl;return S(),q("section",null,[a(bl,{modelValue:t(_).model,"onUpdate:modelValue":e[0]||(e[0]=l=>t(_).model=l),location:"top end",variant:"flat",color:t(_).type},{default:o(()=>[c(w(t(_).message),1)]),_:1},8,["modelValue","color"]),a(ne,{modelValue:t(U),"onUpdate:modelValue":e[3]||(e[3]=l=>f(U)?U.value=l:null),persistent:"",class:"v-dialog-sm"},{default:o(()=>[a(r,{onClick:e[1]||(e[1]=l=>U.value=!t(U))}),a(le,{title:"Eliminar registro"},{default:o(()=>[a(A,null,{default:o(()=>[c(" \xBFDesea eliminar el registro? ")]),_:1}),a(A,{class:"d-flex justify-end gap-3 flex-wrap"},{default:o(()=>[a(g,{color:"secondary",variant:"tonal",onClick:e[2]||(e[2]=l=>U.value=!1)},{default:o(()=>[c(" No, Cerrar ")]),_:1}),a(g,{onClick:We},{default:o(()=>[c(" Si, eliminar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ne,{modelValue:t($),"onUpdate:modelValue":e[6]||(e[6]=l=>f($)?$.value=l:null),persistent:"",class:"v-dialog-sm"},{default:o(()=>[a(r,{onClick:e[4]||(e[4]=l=>$.value=!t($))}),a(le,{title:"Forzado"},{default:o(()=>[a(A,null,{default:o(()=>[c(" \xBFDesea enviar el Newsletter ahora? ")]),_:1}),a(A,{class:"d-flex justify-end gap-3 flex-wrap"},{default:o(()=>[a(g,{color:"secondary",variant:"tonal",onClick:e[5]||(e[5]=l=>$.value=!1)},{default:o(()=>[c(" No, enviar ")]),_:1}),a(g,{onClick:dl},{default:o(()=>[c(" Si, enviar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ne,{modelValue:t(y),"onUpdate:modelValue":e[37]||(e[37]=l=>f(y)?y.value=l:null),persistent:"","max-width":"600"},{default:o(()=>[a(r,{onClick:e[7]||(e[7]=l=>y.value=!t(y))}),a(le,{title:t(ge),disabled:t(x)},{default:o(()=>[a(A,null,{default:o(()=>[a(Ml,{modelValue:t(W),"onUpdate:modelValue":e[35]||(e[35]=l=>f(W)?W.value=l:null)},{default:o(()=>[a(De,null,{default:o(()=>[a(ze,null,{default:o(()=>[c("Formulario")]),_:1}),a(Ue,null,{default:o(()=>[a(be,null,{default:o(()=>[a(b,{cols:"12",sm:"6",md:"6"},{default:o(()=>[a(G,{modelValue:t(E),"onUpdate:modelValue":e[8]||(e[8]=l=>f(E)?E.value=l:null),label:"Nombre del Newsletter para SendPulse",autocomplete:"off"},null,8,["modelValue"]),i("small",Fl,[a(V,{icon:"mdi-information-outline",size:"13px"}),c(" Nombre como se va a guardar en SendPulse")])]),_:1}),a(b,{cols:"12",sm:"6",md:"6"},{default:o(()=>[a(G,{modelValue:t(k),"onUpdate:modelValue":e[9]||(e[9]=l=>f(k)?k.value=l:null),label:"Escribir descripci\xF3n corta",placeholder:"Ayuda dar al correo una descripci\xF3n breve",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[a(G,{modelValue:t(C),"onUpdate:modelValue":e[10]||(e[10]=l=>f(C)?C.value=l:null),label:"Escribir el asunto","persistent-hint":"",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",class:"d-none"},{default:o(()=>[a(G,{modelValue:t(D),"onUpdate:modelValue":e[11]||(e[11]=l=>f(D)?D.value=l:null),label:"Escribe una contrase\xF1a",type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"12"},{default:o(()=>[a(G,{modelValue:t(z),"onUpdate:modelValue":e[12]||(e[12]=l=>f(z)?z.value=l:null),label:"Link de vista previa",type:"Ingrese el link de la vista previa",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"6"},{default:o(()=>[a(M,{modelValue:t(T),"onUpdate:modelValue":e[13]||(e[13]=l=>f(T)?T.value=l:null),items:t(te),label:"Lista de usuarios"},null,8,["modelValue","items"]),t(ve)?(S(),q("small",Ll,[a(V,{icon:"mdi-account-multiple-outline",size:"13px"}),c(" "+w(t(ve)),1)])):I("",!0)]),_:1}),a(b,{cols:"12",sm:"6"},{default:o(()=>[a(M,{modelValue:t(N),"onUpdate:modelValue":e[14]||(e[14]=l=>f(N)?N.value=l:null),items:t(se),label:"Lista de plantillas del sendpulse"},null,8,["modelValue","items"]),t(fe)?(S(),q("small",Ol,[i("a",{href:t(fe),target:"_blank"},[a(V,{icon:"mdi-image-search-outline",size:"13px"}),c(" vista previa de la plantilla seleccionada")],8,Pl)])):I("",!0)]),_:1}),a(b,{cols:"12",sm:"6",md:"5"},{default:o(()=>[a(G,{modelValue:t(j),"onUpdate:modelValue":e[15]||(e[15]=l=>f(j)?j.value=l:null),label:"Nombre del remitente","persistent-hint":"",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"7"},{default:o(()=>[a(M,{modelValue:t(P),"onUpdate:modelValue":e[16]||(e[16]=l=>f(P)?P.value=l:null),items:t(he),label:"Lista de remitentes disponible"},null,8,["modelValue","items"])]),_:1}),a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[a(zl,{modelValue:t(O),"onUpdate:modelValue":e[17]||(e[17]=l=>f(O)?O.value=l:null),label:"Estado del Newsletter"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"6",md:"12"})]),_:1})]),_:1})]),_:1}),a(De,null,{default:o(()=>[a(ze,null,{default:o(()=>[a(V,{icon:"mdi-clock-edit-outline",style:{"margin-right":"10px"}}),c(" Frecuencia de ejecuci\xF3n ")]),_:1}),a(Ue,null,{default:o(()=>[a(be,{class:"horario-ejecucion"},{default:o(()=>[a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[i("div",Jl,[a(re,{modelValue:t(p),"onUpdate:modelValue":e[18]||(e[18]=l=>f(p)?p.value=l:null),inline:""},{default:o(()=>[a(ue,{label:"Todos los d\xEDas a las",value:"2"})]),_:1},8,["modelValue"]),i("div",Il,[Bl,a(M,{modelValue:t(u)[1].horaModel,"onUpdate:modelValue":e[19]||(e[19]=l=>t(u)[1].horaModel=l),variant:"underlined",items:Array.from({length:23-0+1},(l,s)=>0+s),label:""},null,8,["modelValue","items"])]),Yl,i("div",Rl,[ql,a(M,{modelValue:t(u)[1].minutoModel,"onUpdate:modelValue":e[20]||(e[20]=l=>t(u)[1].minutoModel=l),variant:"underlined",items:Array.from({length:61-1+0},(l,s)=>0+s),label:""},null,8,["modelValue","items"])])])]),_:1}),a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[i("div",Gl,[a(re,{modelValue:t(p),"onUpdate:modelValue":e[21]||(e[21]=l=>f(p)?p.value=l:null),inline:""},{default:o(()=>[a(ue,{label:"Cada",value:"3"})]),_:1},8,["modelValue"]),i("div",Wl,[Ql,a(M,{modelValue:t(u)[2].diaModel,"onUpdate:modelValue":e[22]||(e[22]=l=>t(u)[2].diaModel=l),variant:"underlined",items:Array.from({length:31-1+1},(l,s)=>1+s),label:""},null,8,["modelValue","items"])]),Zl,i("div",Kl,[i("div",Xl,[ea,a(M,{modelValue:t(u)[2].horaModel,"onUpdate:modelValue":e[23]||(e[23]=l=>t(u)[2].horaModel=l),variant:"underlined",items:Array.from({length:23-0+1},(l,s)=>0+s),label:""},null,8,["modelValue","items"])]),la,i("div",aa,[oa,a(M,{modelValue:t(u)[2].minutoModel,"onUpdate:modelValue":e[24]||(e[24]=l=>t(u)[2].minutoModel=l),variant:"underlined",items:Array.from({length:61-1+0},(l,s)=>0+s),label:""},null,8,["modelValue","items"])])])])]),_:1}),a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[i("div",ta,[a(re,{modelValue:t(p),"onUpdate:modelValue":e[25]||(e[25]=l=>f(p)?p.value=l:null),inline:""},{default:o(()=>[a(ue,{label:"Cada a\xF1o el:",value:"4"})]),_:1},8,["modelValue"]),i("div",sa,[i("div",ia,[na,a(M,{modelValue:t(u)[3].diaModel,"onUpdate:modelValue":e[26]||(e[26]=l=>t(u)[3].diaModel=l),variant:"underlined",items:Array.from({length:31-1+1},(l,s)=>1+s),label:""},null,8,["modelValue","items"])]),da,i("div",ra,[ua,a(M,{modelValue:t(u)[3].mesModel,"onUpdate:modelValue":e[27]||(e[27]=l=>t(u)[3].mesModel=l),variant:"underlined",items:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],label:""},null,8,["modelValue"])]),ma,i("div",ca,[i("div",pa,[va,a(M,{modelValue:t(u)[3].horaModel,"onUpdate:modelValue":e[28]||(e[28]=l=>t(u)[3].horaModel=l),variant:"underlined",items:Array.from({length:23-0+1},(l,s)=>0+s),label:""},null,8,["modelValue","items"])]),fa,i("div",ha,[ga,a(M,{modelValue:t(u)[3].minutoModel,"onUpdate:modelValue":e[29]||(e[29]=l=>t(u)[3].minutoModel=l),variant:"underlined",items:Array.from({length:61-1+0},(l,s)=>0+s),label:""},null,8,["modelValue","items"])])])])])]),_:1}),a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[a(re,{modelValue:t(p),"onUpdate:modelValue":e[30]||(e[30]=l=>f(p)?p.value=l:null),inline:""},{default:o(()=>[a(ue,{label:"Personalizado",value:"5"})]),_:1},8,["modelValue"]),t(p)=="5"?(S(),q("div",ba,[i("div",Ma,[_a,a(M,{modelValue:t(u)[4].diaModel,"onUpdate:modelValue":e[31]||(e[31]=l=>t(u)[4].diaModel=l),variant:"underlined",multiple:"",chips:"",items:["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"],label:""},null,8,["modelValue"])]),i("div",Va,[wa,a(M,{modelValue:t(u)[4].mesModel,"onUpdate:modelValue":e[32]||(e[32]=l=>t(u)[4].mesModel=l),variant:"underlined",multiple:"",chips:"",items:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],label:""},null,8,["modelValue"])]),i("div",ya,[i("div",xa,[Sa,a(M,{modelValue:t(u)[4].horaModel,"onUpdate:modelValue":e[33]||(e[33]=l=>t(u)[4].horaModel=l),variant:"underlined",items:Array.from({length:23-0+1},(l,s)=>0+s),label:""},null,8,["modelValue","items"])]),ja,i("div",Ea,[ka,a(M,{modelValue:t(u)[4].minutoModel,"onUpdate:modelValue":e[34]||(e[34]=l=>t(u)[4].minutoModel=l),variant:"underlined",items:Array.from({length:61-1+0},(l,s)=>0+s),label:""},null,8,["modelValue","items"])])])])):I("",!0)]),_:1}),a(b,{cols:"12",sm:"6",md:"12"},{default:o(()=>[t(L)?(S(),de(Ul,{key:0,density:"default",color:"success",variant:"tonal"},{default:o(()=>[a(V,{icon:"mdi-clock-time-eight-outline"}),c(" "+w(t(L)),1)]),_:1})):I("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(A,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[a(g,{variant:"tonal",color:"secondary",onClick:e[36]||(e[36]=l=>y.value=!1)},{default:o(()=>[c(" Cerrar ")]),_:1}),a(g,{onClick:Ke},{default:o(()=>[c(" Guardar ")]),_:1})]),_:1})]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"]),a(ne,{modelValue:t(B),"onUpdate:modelValue":e[40]||(e[40]=l=>f(B)?B.value=l:null),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:o(()=>[a(le,null,{default:o(()=>[i("div",null,[a(Tl,{color:"primary"},{default:o(()=>[a(g,{icon:"",variant:"plain",onClick:e[38]||(e[38]=l=>B.value=!1)},{default:o(()=>[a(V,{color:"white",icon:"tabler-x"})]),_:1}),a(Nl,null,{default:o(()=>[c("Vista previa del Newsletter")]),_:1}),a(Le),a($l,null,{default:o(()=>[a(g,{variant:"text",onClick:e[39]||(e[39]=l=>B.value=!1)},{default:o(()=>[c(" Cerrar ")]),_:1})]),_:1})]),_:1})]),i("iframe",{loading:"lazy",width:"100%",height:"2000px",src:t(Me),frameborder:"0"},null,8,Ca)]),_:1})]),_:1},8,["modelValue"]),a(be,null,{default:o(()=>[a(b,{class:"mt-0",cols:"12",md:"12",lg:"12"},{default:o(()=>[i("div",Da,[a(g,{color:"primary",class:"mb-4 d-none",to:{name:"apps-mailing-list"}},{default:o(()=>[c(" Lista de Newsletter ")]),_:1}),a(g,{color:"primary",variant:"text",class:"mb-4",to:{name:"apps-mailing-forzado"}},{default:o(()=>[c(" Enviar Forzado ")]),_:1}),a(g,{color:"primary",variant:"text",class:"mb-4",to:{name:"apps-mailing-tabs-edit"}},{default:o(()=>[c(" Editar newsletter ")]),_:1})]),a(le,{class:"mt-5"},{default:o(()=>[a(A,null,{default:o(()=>[a(_l,{modelValue:t(ce),"onUpdate:modelValue":e[42]||(e[42]=l=>f(ce)?ce.value=l:null)},{default:o(()=>[a(Vl,{value:"tab-lista"},{default:o(()=>[i("div",za,[i("div",null,[a(wl,null,{default:o(()=>[c(" Listado de Newsletters ")]),_:1}),a(yl,null,{default:o(()=>[c(" Es una herramienta que le permite a los usuarios explorar y gestionar una colecci\xF3n de boletines informativos de manera eficiente. ")]),_:1})])]),i("div",Ua,[a(A,{class:"d-flex align-center flex-wrap gap-4 px-0 pb-0 pt-2"},{default:o(()=>[i("div",Ta,[a(g,{color:"primary",class:"mb-4",onClick:Ze},{default:o(()=>[c(" Crear newsletter "),a(V,{size:22,icon:"tabler-plus"})]),_:1})]),a(Le),i("div",Na,[i("div",$a,[a(g,{variant:"text",icon:"mdi-format-list-bulleted",color:"primary",class:"mb-4",to:{name:"apps-mailing-list"}}),a(g,{color:"secondary",variant:"text",icon:"mdi-view-comfy",class:"mb-4",to:{name:"apps-mailing-tabs-edit"}})])])]),_:1}),t(F).length<1?(S(),de(Te,{key:0,lines:"two",border:""},{default:o(()=>[a(Ne,null,{default:o(()=>[a($e,null,{default:o(()=>[Aa]),_:1})]),_:1})]),_:1})):I("",!0),t(F).length>0?(S(),de(Te,{key:1,lines:"two",border:""},{default:o(()=>[(S(!0),q(Ae,null,xl(t(F),(l,s)=>(S(),q(Ae,{key:`item-${s}`},[a(Ne,{disabled:t(x),class:He(`item-${l._id}`)},{append:o(()=>[i("div",Ga,[a(g,{class:"",onClick:v=>Se(l._id),variant:"text",icon:"tabler-edit",size:"22"},null,8,["onClick"]),a(g,{icon:"",size:"x-small",color:"error",variant:"text",onClick:v=>qe(l._id)},{default:o(()=>[a(V,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(g,{title:"Vista previa del Newsletter",class:"",variant:"text",onClick:v=>Ge(l.preview),color:"success",icon:"mdi-file-eye-outline",size:"22"},null,8,["onClick"]),a(g,{disabled:t(Ie),title:"Env\xEDo forzado: "+l.nombre,class:"",onClick:v=>rl(l._id),color:"success",icon:"mdi-email-fast-outline",size:"37"},null,8,["disabled","title","onClick"])])]),default:o(()=>[a($e,null,{default:o(()=>[i("h6",Ha,[i("div",{onClick:v=>Se(l._id),class:"font-weight-medium user-list-name d-flex gap-1 align-items-center",style:{color:"rgba(var(--v-theme-on-background), var(--v-high-emphasis-opacity))"}},[i("div",La,[a(V,{size:"22",icon:"mdi-email-open-outline"}),c(" "+w(l.nombre),1)]),i("div",Oa,[a(V,{size:"small",color:"primary",icon:"mdi-information-outline"}),a(Al,{"open-delay":"500",location:"top",activator:"parent"},{default:o(()=>[i("span",null,w(Z(l.config.horarioEjecucion.method,l.config.horarioEjecucion.horario[l.config.horarioEjecucion.method-1])),1)]),_:2},1024)])],8,Fa)])]),_:2},1024),a(Sl,{class:"mt-0",title:"Estado de campa\xF1a"},{default:o(()=>[i("div",Pa,[a(jl,{disabled:t(oe),loading:t(oe)?"warning":!1,color:l.estado?"success":"error",modelValue:l.estado,"onUpdate:modelValue":v=>l.estado=v,size:"x-small",class:"custom-vswitch",onChange:v=>Qe(s)},null,8,["disabled","loading","color","modelValue","onUpdate:modelValue","onChange"]),a(Fe,{title:"Newsletter pausado",size:"x-small",label:"",color:l.estado==!0?"success":"error"},{default:o(()=>[i("span",Ja,w(l.estado==!0?"Activo":"Inactivo"),1)]),_:2},1032,["color"]),i("span",Ia,[i("i",null," - \xDAltima modificaci\xF3n: "+w(t(me)(l.update_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),i("div",Ba,[i("span",Ya,[i("b",null,[a(V,{icon:"mdi-account-group"}),c(" Subject: ")]),c(" "+w(l.subject),1)]),i("span",Ra,[i("b",null,[a(V,{size:"15",icon:"mdi-email-open-multiple-outline"}),c(" Sender Name: ")]),c(" "+w(l.sender_name)+", "+w(l.sender_email),1)]),i("span",qa,[a(Fe,{color:"success"},{default:o(()=>[i("b",null,[a(V,{style:{"margin-top":"-2px"},icon:"mdi-email-fast-outline"}),c(" Pr\xF3ximo env\xEDo: ")]),c(" "+w(sl(l.config.horarioEjecucion)),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1032,["disabled","class"]),s!==t(F).length-1?(S(),de(El,{key:0,class:He(`xyz-${l._id}`)},null,8,["class"])):I("",!0)],64))),128))]),_:1})):I("",!0),i("span",Wa," Total de registros "+w(t(Ve)),1),a(Hl,{disabled:t(pe),modelValue:t(Y),"onUpdate:modelValue":e[41]||(e[41]=l=>f(Y)?Y.value=l:null),length:t(_e),class:"mt-4",onClick:Re},null,8,["disabled","modelValue","length"])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})])}}},no=pl(Qa,[["__scopeId","data-v-d9b63d48"]]);export{no as default};
