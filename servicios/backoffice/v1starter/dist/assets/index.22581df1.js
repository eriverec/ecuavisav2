import{r as p,as as Ke,v as el,o as r,x as f,a as l,w as a,q as g,t as V,u as i,f as ll,h as X,a$ as al,i as y,b0 as ce,e as n,g as K,aR as se,b as d,p as b,c as _,aQ as Z,aW as pe,F as U,C as P,c7 as me,N as Y,a3 as w,V as A,l as tl,m as ol,n as H,aT as M,Y as sl,aq as ul,Z as nl,$ as il,a2 as we,aM as ke,bC as dl,bc as rl,aX as cl}from"./index.88d3c7f5.js";/* empty css              */import{V as Q}from"./VCheckbox.50e352e3.js";const pl={class:"d-flex flex-wrap gap-4 mt-10"},ml=d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Tipo"),d("th",{scope:"col"},"T\xEDtulo"),d("th",{scope:"col"},"Tipo de descuento"),d("th",{scope:"col"},"Fecha inicio"),d("th",{scope:"col"},"Fecha fin"),d("th",{scope:"col"},"Estado"),d("th",{scope:"col"},"Acciones")])],-1),vl={class:"text-medium-emphasis"},fl={class:"text-medium-emphasis"},gl={class:"text-medium-emphasis"},_l={class:"text-medium-emphasis"},hl={class:"text-medium-emphasis"},Vl={class:"text-medium-emphasis"},yl={class:"text-medium-emphasis"},bl={class:"d-flex align-center justify-space-between botonescurrentPage"},Cl=d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Id"),d("th",{scope:"col"},"Nombre")])],-1),wl={class:"text-medium-emphasis"},kl={class:"text-medium-emphasis"},xl=d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Id"),d("th",{scope:"col"},"Nombre")])],-1),Ul={class:"text-medium-emphasis"},Pl={class:"text-medium-emphasis"},zl=d("div",null,[d("p",null,[g("Activa esta regla si coincide"),d("br"),g(" e ignora todas las dem\xE1s")])],-1),Tl=d("div",{class:"mb-6"},"Asignar excepciones",-1),jl=d("div",{class:"d-flex align-content-end flex-wrap"},"Condiciones",-1),Il={cols:"12",class:"w-100 my-4 item-cards"},ql={key:0,style:{"margin-top":"-1.5rem"}},El=d("span",null,"Ciudades seleccionadas: ",-1),Dl=d("span",null,"Ciudades",-1),Nl={style:{"margin-top":"-0.5rem"}},Fl={key:0,style:{"margin-top":"-1.5rem"}},$l=d("span",null,"Pa\xEDses seleccionadas: ",-1),Sl=d("span",null,"Pa\xEDses",-1),Ol={style:{"margin-top":"-0.5rem"}},Al=d("span",null,"Validez de regla",-1),Yl={__name:"index",setup(Jl){const ee=p([]),ue=p(!1),h=p(!1),xe=p([]),ve=p([]),le=p(!1),fe=p(""),ne=p([]);p("tab-cupones");async function ae(){try{ue.value=!0;const t=await(await fetch("https://ecuavisa-cupones.vercel.app/get/all")).json();ee.value=t.data,ue.value=!1}catch(s){console.error(s.message)}}async function ie(){try{const t=await(await fetch("https://ecuavisa-modulos.vercel.app/paquete")).json();let v=Array.from(t.data),o=[];for(const e of v){let u={title:e.nombre,value:e._id};o.push(u)}ne.value=o}catch(s){console.error(s.message)}}Ke(async()=>{h.value=!0,await ae(),await Te(),h.value=!1});const te=8,J=p(1),Ue=el(()=>{const s=(J.value-1)*te,t=s+te;return ee.value.slice(s,t)}),Pe=()=>{J.value*te<ee.value.length&&J.value++},ze=()=>{J.value>1&&J.value--},ge=p([]),_e=p([]);async function Te(){try{const t=await(await fetch("https://ecuavisa-suscripciones.vercel.app/otros/obtener-paises-ciudades")).json();let v=[],o=[];for(let u=0;u<t.length;u++){let c=t[u].country;v.push(c);let k=t[u].data.map(function(re){return re.city});o=o.concat(k)}let e=[...new Set(o)];e.sort(),_e.value=v,ge.value=e}catch(s){console.error(s.message)}}const je=[{title:"Porcentaje",value:"percent"},{title:"D\xF3lares",value:"dollars"}],Ie=[{title:"Coinciden todas",value:"all"}],qe=[{title:"Ciudad",value:"ciudad"},{title:"Pa\xEDs",value:"pais"}],de=[{title:"Incluir",value:"incluir"},{title:"Excluir",value:"excluir"}],Ee=[{title:"Todos",value:"todos"}],De=["apple","google","facebook","email"],Ne=[{title:"Todas las ciudades",value:"full"},{title:"Personalizado",value:"personalizado"}],Fe=[{title:"Todos los pa\xEDses",value:"full"},{title:"Personalizado",value:"personalizado"}],L=p(!1),R=p(""),T=p(""),z=p([]),I=p([]),q=p(0),E=p(""),G=p(""),D=p(""),N=p(""),F=p(!1),$=p(!1),m=p([]),S=p("all"),j=p("Regla"),O=p(""),C=p({message:"Datos guardados",type:"success",model:!1}),$e=s=>{if(m.value[s].search!==""){const v=m.value[s].search.normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim(),o=ge.value.filter(e=>e.normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim().includes(v));m.value[s].items=o.slice(0,10),m.value[s].asign=!0}};function Se(s){m.value[s].search="",m.value[s].asign=!1,m.value[s].items=[]}const Oe=s=>{if(m.value[s].search!==""){const v=m.value[s].search.normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim(),o=_e.value.filter(e=>e.normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim().includes(v));m.value[s].items=o.slice(0,10),m.value[s].asign=!0}};function Ae(s){m.value[s].search="",m.value[s].asign=!1,m.value[s].items=[]}const Je=p("");function he(s){m.value[s].opcion=="personalizado"?m.value[s].valor=[]:m.value[s].valor="full"}function Le(s){Je.value=s;let t;s=="grupo_usuarios"?t={tipo:s,condicion:"incluir",valor:"",opcion:"full",search:"",items:[],asign:!1}:t={tipo:s,condicion:"incluir",valor:[],opcion:"full",search:"",items:[],asign:!1},m.value.push(t)}function Re(s){m.value.splice(s,1)}const x=p("Todos los productos"),Ve=p(!1),Be=["Personalizado","Todos los productos"];function Ye(){I.value=[],x.value==="Personalizado"?(z.value=[],Ve.value=!0):x.value==="Todos los productos"&&(z.value="full",Ve.value=!1)}function oe(){T.value="",z.value=[],I.value=[],q.value=0,E.value="",G.value="",D.value="",N.value="",j.value="Regla",O.value="",F.value=!1,$.value=!1,m.value=[],S.value="all",x.value="Todos los productos"}function ye(){oe(),L.value=!1}async function He(s,t){let v={id:s,activo:t};var o=new Headers;o.append("Content-Type","application/json");var e=JSON.stringify(v),u={method:"PUT",headers:o,body:e,redirect:"follow"};const k=await(await fetch("https://ecuavisa-cupones.vercel.app/update",u)).json();k.resp?(C.value={message:"Cup\xF3n editado correctamente",type:"success",model:!0},h.value=!0,await ae(),h.value=!1):C.value={message:k.mensaje,type:"error",model:!0}}async function Me(){h.value=!0,oe(),await ie(),R.value="add",L.value=!0,h.value=!1}const be=p("");async function Qe(s){h.value=!0,oe(),await ie(),R.value="edit";const o=(await(await fetch("https://ecuavisa-cupones.vercel.app/get/id/"+s)).json()).data;be.value=o._id,T.value=o.nombre,j.value=o.tipo,O.value=o.codigo,o.paquetes!=="full"&&o.paquetes.length>0?x.value="Personalizado":o.paquetes=="full"&&(x.value="Todos los productos"),z.value=o.paquetes,I.value=o.excepciones;for(let e of o.condiciones){let u={tipo:e.tipo,condicion:e.condicion,valor:e.valor,opcion:e.valor=="full"?"full":"personalizado",search:"",items:[],asign:!1};m.value.push(u)}q.value=o.discount,E.value=o.type,G.value=o.helper,D.value=o.dateIni,N.value=o.dateEnd,F.value=o.activo,$.value=o.aplica,S.value=o.match,h.value=!1,L.value=!0}async function Ge(s){h.value=!0,oe(),await ie(),R.value="duplicate";const o=(await(await fetch("https://ecuavisa-cupones.vercel.app/get/id/"+s)).json()).data;T.value=o.nombre,j.value=o.tipo,O.value=o.codigo,o.paquetes!=="full"&&o.paquetes.length>0?x.value="Personalizado":o.paquetes=="full"&&(x.value="Todos los productos"),z.value=o.paquetes,I.value=o.excepciones;for(let e of o.condiciones){let u={tipo:e.tipo,condicion:e.condicion,valor:e.valor,opcion:e.valor=="full"?"full":"personalizado",search:"",items:[],asign:!1};m.value.push(u)}q.value=o.discount,E.value=o.type,G.value=o.helper,D.value=o.dateIni,N.value=o.dateEnd,F.value=o.activo,$.value=o.aplica,S.value=o.match,h.value=!1,L.value=!0}async function We(){let s=T.value;if(!s||s=="")return C.value={message:"Debe a\xF1adir un nombre",type:"error",model:!0},!1;var t=new Headers;t.append("Content-Type","application/json"),x.value=="Todos los productos"&&(z.value="full");for(let u of m.value)(u.tipo=="pais"||u.tipo=="ciudad")&&u.opcion=="full"&&(u.valor="full");let v=m.value.map(u=>({tipo:u.tipo,condicion:u.condicion,valor:u.valor}));if(R.value==="add"){let u={nombre:T.value,tipo:j.value,codigo:O.value,paquetes:z.value,excepciones:I.value,discount:q.value,type:E.value,helper:G.value,dateIni:D.value,dateEnd:N.value,condiciones:v,activo:F.value,aplica:$.value,match:S.value};var o=JSON.stringify(u),e={method:"POST",headers:t,body:o,redirect:"follow"};const k=await(await fetch("https://ecuavisa-cupones.vercel.app/create",e)).json();if(k.resp)C.value={message:"Cup\xF3n creado correctamente",type:"success",model:!0};else return C.value={message:k.mensaje,type:"error",model:!0},console.error(k.error),!1}else if(R.value==="edit"){let u={id:be.value,nombre:T.value,tipo:j.value,codigo:O.value,paquetes:z.value,excepciones:I.value,discount:q.value,type:E.value,helper:G.value,dateIni:D.value,dateEnd:N.value,condiciones:v,activo:F.value,aplica:$.value,match:S.value};var o=JSON.stringify(u),e={method:"PUT",headers:t,body:o,redirect:"follow"};const W=await(await fetch("https://ecuavisa-cupones.vercel.app/update",e)).json();W.resp?C.value={message:"Cup\xF3n editado correctamente",type:"success",model:!0}:C.value={message:W.mensaje,type:"error",model:!0}}else if(R.value==="duplicate"){let u={nombre:T.value,tipo:j.value,codigo:O.value,paquetes:z.value,excepciones:I.value,discount:q.value,type:E.value,helper:G.value,dateIni:D.value,dateEnd:N.value,condiciones:v,activo:F.value,aplica:$.value,match:S.value};var o=JSON.stringify(u);console.log(u);var e={method:"POST",headers:t,body:o,redirect:"follow"};const W=await(await fetch("https://ecuavisa-cupones.vercel.app/create",e)).json();if(W.resp)C.value={message:"Cup\xF3n creado correctamente",type:"success",model:!0};else return C.value={message:W.mensaje,type:"error",model:!0},console.error(W.error),!1}await ae(),le.value=!1,L.value=!1}const B=p(!1),Ce=p("");function Xe(s){h.value=!0,B.value=!0,Ce.value=s,h.value=!1}async function Ze(){h.value=!0;var s={method:"DELETE",redirect:"follow"};const v=await(await fetch("https://ecuavisa-cupones.vercel.app/delete/"+Ce.value,s)).json();v.resp?C.value={message:"Cup\xF3n eliminado correctamente",type:"success",model:!0}:C.value={message:v.mensaje,type:"error",model:!0},await ae(),le.value=!1,B.value=!1,h.value=!1}return(s,t)=>{const v=rl,o=cl;return r(),f("section",null,[l(ll,{modelValue:i(C).model,"onUpdate:modelValue":t[0]||(t[0]=e=>i(C).model=e),location:"top end",variant:"flat",color:i(C).type},{default:a(()=>[g(V(i(C).message),1)]),_:1},8,["modelValue","color"]),l(ce,{modelValue:i(h),"onUpdate:modelValue":t[1]||(t[1]=e=>y(h)?h.value=e:null),persistent:"","no-click-animation":"",width:"300"},{default:a(()=>[l(X,{class:"pt-3 text-center"},{default:a(()=>[l(al,{indeterminate:"",color:"primary"})]),_:1})]),_:1},8,["modelValue"]),l(A,null,{default:a(()=>[l(n,{cols:"12",sm:"12",lg:"12"},{default:a(()=>[l(K,null,{default:a(()=>[l(se,{class:"pt-4 pl-6"},{default:a(()=>[g("Reglas de descuento")]),_:1}),l(X,{style:{"margin-bottom":"-2rem"}},{default:a(()=>[d("div",pl,[l(b,{"prepend-icon":"tabler-user-plus",color:"success",variant:"tonal",class:"ml-auto",onClick:Me},{default:a(()=>[g(" Nueva regla ")]),_:1})])]),_:1}),i(ue)?(r(),_(Z,{key:0},{default:a(()=>[g(" Cargando datos... ")]),_:1})):(r(),_(Z,{key:1},{default:a(()=>[l(pe,{class:"text-no-wrap tableNavegacion mb-5",hover:"true"},{default:a(()=>[ml,d("tbody",null,[(r(!0),f(U,null,P(i(Ue),e=>(r(),f("tr",{onClick:t[2]||(t[2]=()=>{}),class:"clickable"},[d("td",vl,V(e.tipo),1),d("td",fl,V(e.nombre),1),d("td",gl,V(e.type=="percent"?"Porcentaje de descuento":"Descuento fijo"),1),d("td",_l,V(e.dateIni),1),d("td",hl,V(e.dateEnd),1),d("td",Vl,[l(me,{modelValue:e.activo,"onUpdate:modelValue":[u=>e.activo=u,u=>He(e._id,e.activo)],color:"success",label:e.activo==!0?"Activo":"Inactivo"},null,8,["modelValue","onUpdate:modelValue","label"])]),d("td",yl,[l(b,{color:"success",variant:"text",icon:"",onClick:u=>Qe(e._id)},{default:a(()=>[l(Y,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),l(b,{color:"primary",variant:"text",icon:"",onClick:u=>Ge(e._id)},{default:a(()=>[l(Y,{size:"22",icon:"tabler-copy"})]),_:2},1032,["onClick"]),l(b,{icon:"",color:"error",variant:"text",onClick:u=>Xe(e._id)},{default:a(()=>[l(Y,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]))),256))])]),_:1}),d("div",bl,[l(b,{icon:"tabler-arrow-big-left-lines",onClick:ze,disabled:i(J)===1},null,8,["disabled"]),g(" P\xE1gina "+V(i(J))+" ",1),l(b,{icon:"tabler-arrow-big-right-lines",onClick:Pe,disabled:i(J)*te>=i(ee).length},null,8,["disabled"])])]),_:1}))]),_:1})]),_:1}),i(le)?(r(),_(n,{key:0,cols:"6",sm:"12",lg:"6",class:"container"},{default:a(()=>[l(K,null,{default:a(()=>[l(se,{class:"pt-4 pl-6"},{default:a(()=>[g("Paquetes de "+V(i(fe)),1)]),_:1}),l(Z,null,{default:a(()=>[l(pe,{class:"text-no-wrap tableNavegacion mb-5"},{default:a(()=>[Cl,d("tbody",null,[(r(!0),f(U,null,P(i(xe),e=>(r(),f("tr",null,[d("td",wl,V(e._id),1),d("td",kl,V(e.nombre),1)]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})):w("",!0),i(le)?(r(),_(n,{key:1,cols:"6",sm:"12",lg:"6",class:"container"},{default:a(()=>[l(K,null,{default:a(()=>[l(se,{class:"pt-4 pl-6"},{default:a(()=>[g("Excepciones de "+V(i(fe)),1)]),_:1}),i(ve).length===0?(r(),_(Z,{key:0},{default:a(()=>[g(" No existen excepciones para mostrar. ")]),_:1})):(r(),_(Z,{key:1},{default:a(()=>[l(pe,{class:"text-no-wrap tableNavegacion mb-5"},{default:a(()=>[xl,d("tbody",null,[(r(!0),f(U,null,P(i(ve),e=>(r(),f("tr",null,[d("td",Ul,V(e._id),1),d("td",Pl,V(e.nombre),1)]))),256))])]),_:1})]),_:1}))]),_:1})]),_:1})):w("",!0)]),_:1}),l(ce,{modelValue:i(L),"onUpdate:modelValue":t[16]||(t[16]=e=>y(L)?L.value=e:null),persistent:"","no-click-animation":"","max-width":"800"},{default:a(()=>[l(v,{onClick:ye}),l(K,{class:"pa-sm-14 pa-5"},{default:a(()=>[l(Z,{class:"text-center"},{default:a(()=>[l(se,{class:"text-h5 mb-3"},{default:a(()=>[g(V(i(R)==="add"||i(R)==="duplicate"?"Nueva regla de descuento":"Editar "+i(T)),1)]),_:1})]),_:1}),l(X,null,{default:a(()=>[l(tl,{class:"mt-6",onSubmit:ol(We,["prevent"])},{default:a(()=>[l(A,{class:"d-flex flex-wrap justify-center gap-4"},{default:a(()=>[l(A,null,{default:a(()=>[l(n,{cols:"6"},{default:a(()=>[l(me,{modelValue:i(F),"onUpdate:modelValue":t[3]||(t[3]=e=>y(F)?F.value=e:null),color:"success",label:"Estado de publicaci\xF3n"},null,8,["modelValue"])]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(me,{modelValue:i(j),"onUpdate:modelValue":t[4]||(t[4]=e=>y(j)?j.value=e:null),color:"success",label:"El descuento es un cup\xF3n?","true-value":"Cupon","false-value":"Regla"},null,8,["modelValue"])]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(H,{modelValue:i(T),"onUpdate:modelValue":t[5]||(t[5]=e=>y(T)?T.value=e:null),label:"T\xEDtulo descriptivo",placeholder:i(j)=="Cupon"?"T\xEDtulo del cup\xF3n":"T\xEDtulo de la regla"},null,8,["modelValue","placeholder"])]),_:1}),l(n,{cols:"6",class:"d-flex"},{default:a(()=>[d("div",null,[l(Q,{modelValue:i($),"onUpdate:modelValue":t[6]||(t[6]=e=>y($)?$.value=e:null)},null,8,["modelValue"])]),zl]),_:1}),i(j)=="Cupon"?(r(),_(n,{key:0,cols:"12",style:{"margin-top":"-1.5rem"}},{default:a(()=>[l(H,{modelValue:i(O),"onUpdate:modelValue":t[7]||(t[7]=e=>y(O)?O.value=e:null),label:"C\xF3digo del cup\xF3n",placeholder:"Escriba el c\xF3digo con el que canjear\xE1 el cup\xF3n"},null,8,["modelValue"])]),_:1})):w("",!0),l(n,{cols:"12"},{default:a(()=>[l(H,{modelValue:i(q),"onUpdate:modelValue":t[8]||(t[8]=e=>y(q)?q.value=e:null),label:"Descuento",typer:"number"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12"},{default:a(()=>[l(M,{modelValue:i(E),"onUpdate:modelValue":t[9]||(t[9]=e=>y(E)?E.value=e:null),label:"Tipo",items:je},null,8,["modelValue"])]),_:1}),l(n,{cols:"12"},{default:a(()=>[l(M,{class:"mb-6",modelValue:i(x),"onUpdate:modelValue":[t[10]||(t[10]=e=>y(x)?x.value=e:null),Ye],label:"Escoge productos",items:Be},null,8,["modelValue"]),i(x)=="Personalizado"?(r(!0),f(U,{key:0},P(i(ne),e=>(r(),_(n,{style:{"margin-top":"-1.5rem"},cols:"6"},{default:a(()=>[l(Q,{modelValue:i(z),"onUpdate:modelValue":t[11]||(t[11]=u=>y(z)?z.value=u:null),label:e.title,value:e.value},null,8,["modelValue","label","value"])]),_:2},1024))),256)):w("",!0)]),_:1}),i(x)=="Full"?(r(),_(n,{key:1,style:{"margin-top":"-2rem"},cols:"12"},{default:a(()=>[Tl,(r(!0),f(U,null,P(i(ne),e=>(r(),_(n,{style:{"margin-top":"-1.5rem"},cols:"6"},{default:a(()=>[l(Q,{modelValue:i(I),"onUpdate:modelValue":t[12]||(t[12]=u=>y(I)?I.value=u:null),label:e.title,value:e.value},null,8,["modelValue","label","value"])]),_:2},1024))),256))]),_:1})):w("",!0),l(n,{cols:"12",class:"d-flex"},{default:a(()=>[jl,l(sl,{location:"bottom"},{activator:a(({props:e})=>[l(b,ul({class:"ml-auto",color:"primary","prepend-icon":"tabler-plus",variant:"tonal"},e),{default:a(()=>[g(" A\xF1adir condici\xF3n ")]),_:2},1040)]),default:a(()=>[l(nl,null,{default:a(()=>[(r(),f(U,null,P(qe,(e,u)=>l(il,{key:u,value:e.value,title:e.title,onClick:c=>Le(e.value)},null,8,["value","title","onClick"])),64))]),_:1})]),_:1})]),_:1}),l(we),(r(),f(U,null,P(Ie,e=>l(n,{cols:"4"},{default:a(()=>[l(Q,{modelValue:i(S),"onUpdate:modelValue":t[13]||(t[13]=u=>y(S)?S.value=u:null),label:e.title,value:e.value},null,8,["modelValue","label","value"])]),_:2},1024)),64)),(r(!0),f(U,null,P(i(m),(e,u)=>(r(),f("div",Il,[l(b,{class:"ml-auto boton-eleminar-itemsCards",size:"38",color:"error",onClick:c=>Re(u)},{default:a(()=>[l(Y,{icon:"tabler-x",size:"22"})]),_:2},1032,["onClick"]),l(X,null,{default:a(()=>[e.tipo=="ciudad"?(r(),_(n,{key:0,cols:"12"},{default:a(()=>[l(A,null,{default:a(()=>[l(n,{cols:"8"},{default:a(()=>[l(M,{class:"mb-6",modelValue:e.opcion,"onUpdate:modelValue":[c=>e.opcion=c,c=>he(u)],label:"Asignar ciudades",items:Ne},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e.opcion!=="full"?(r(),_(A,{key:0},{default:a(()=>[l(n,{cols:"3",style:{"margin-right":"-1rem"}},{default:a(()=>[l(H,{value:"Ciudad",readonly:""})]),_:1}),l(n,{cols:"3",style:{"margin-right":"-1rem"}},{default:a(()=>[l(M,{class:"mb-6",modelValue:e.condicion,"onUpdate:modelValue":c=>e.condicion=c,label:"Condici\xF3n",items:de},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{cols:"4",style:{"margin-right":"-1rem"}},{default:a(()=>[l(H,{modelValue:e.search,"onUpdate:modelValue":c=>e.search=c,placeholder:"Buscar ciudad...",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{cols:"2",style:{"margin-right":"-1rem"},class:"d-flex gap-1"},{default:a(()=>[l(b,{onClick:c=>$e(u),size:"38"},{default:a(()=>[l(Y,{icon:"tabler-search",size:"22"})]),_:2},1032,["onClick"]),l(b,{onClick:c=>Se(u),size:"38"},{default:a(()=>[l(Y,{icon:"tabler-refresh",size:"22"})]),_:2},1032,["onClick"])]),_:2},1024),e.valor.length>0?(r(),f("div",ql,[l(n,{cols:"12"},{default:a(()=>[El]),_:1}),l(n,{cols:"12",style:{"margin-top":"-1rem"}},{default:a(()=>[(r(!0),f(U,null,P(e.valor,c=>(r(),_(ke,{color:"primary"},{default:a(()=>[g(V(c),1)]),_:2},1024))),256))]),_:2},1024)])):w("",!0),e.asign?(r(),_(n,{key:1,cols:"12"},{default:a(()=>[Dl,(r(!0),f(U,null,P(e.items,c=>(r(),f("div",Nl,[l(Q,{modelValue:e.valor,"onUpdate:modelValue":k=>e.valor=k,label:c,value:c},null,8,["modelValue","onUpdate:modelValue","label","value"])]))),256))]),_:2},1024)):w("",!0)]),_:2},1024)):w("",!0)]),_:2},1024)):w("",!0),e.tipo=="pais"?(r(),_(n,{key:1,cols:"12"},{default:a(()=>[l(A,null,{default:a(()=>[l(n,{cols:"8"},{default:a(()=>[l(M,{class:"mb-6",modelValue:e.opcion,"onUpdate:modelValue":[c=>e.opcion=c,c=>he(u)],label:"Asignar pa\xEDses",items:Fe},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{cols:"4"})]),_:2},1024),e.opcion!=="full"?(r(),_(A,{key:0},{default:a(()=>[l(n,{cols:"3",style:{"margin-right":"-1rem"}},{default:a(()=>[l(H,{value:"Pa\xEDs",readonly:""})]),_:1}),l(n,{cols:"3",style:{"margin-right":"-1rem"}},{default:a(()=>[l(M,{class:"mb-6",modelValue:e.condicion,"onUpdate:modelValue":c=>e.condicion=c,label:"Condici\xF3n",items:de},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{cols:"4",style:{"margin-right":"-1rem"}},{default:a(()=>[l(H,{modelValue:e.search,"onUpdate:modelValue":c=>e.search=c,placeholder:"Buscar pa\xEDs...",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{cols:"2",style:{"margin-right":"-1rem"},class:"d-flex gap-1"},{default:a(()=>[l(b,{onClick:c=>Oe(u),size:"38"},{default:a(()=>[l(Y,{icon:"tabler-search",size:"22"})]),_:2},1032,["onClick"]),l(b,{onClick:c=>Ae(u),size:"38"},{default:a(()=>[l(Y,{icon:"tabler-refresh",size:"22"})]),_:2},1032,["onClick"])]),_:2},1024),e.valor.length>0?(r(),f("div",Fl,[l(n,{cols:"12"},{default:a(()=>[$l]),_:1}),l(n,{cols:"12",style:{"margin-top":"-1rem"}},{default:a(()=>[(r(!0),f(U,null,P(e.valor,c=>(r(),_(ke,{color:"primary"},{default:a(()=>[g(V(c),1)]),_:2},1024))),256))]),_:2},1024)])):w("",!0),e.asign?(r(),_(n,{key:1,cols:"12"},{default:a(()=>[Sl,(r(!0),f(U,null,P(e.items,c=>(r(),f("div",Ol,[l(Q,{modelValue:e.valor,"onUpdate:modelValue":k=>e.valor=k,label:c,value:c},null,8,["modelValue","onUpdate:modelValue","label","value"])]))),256))]),_:2},1024)):w("",!0)]),_:2},1024)):w("",!0)]),_:2},1024)):w("",!0),e.tipo=="grupo_usuarios"?(r(),_(n,{key:2,cols:"12"},{default:a(()=>[l(A,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[g("Escoge grupo de usuarios")]),_:1}),l(n,{cols:"8",class:"d-flex gap-4"},{default:a(()=>[(r(),f(U,null,P(Ee,c=>l(Q,{modelValue:e.valor,"onUpdate:modelValue":k=>e.valor=k,label:c.title,value:c.value},null,8,["modelValue","onUpdate:modelValue","label","value"])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)):w("",!0),e.tipo=="proveedor"?(r(),_(n,{key:3,cols:"12"},{default:a(()=>[l(A,null,{default:a(()=>[l(n,{cols:"12"},{default:a(()=>[g("Escoge proveedor(es)")]),_:1}),l(n,{cols:"3",style:{"margin-right":"-1rem"}},{default:a(()=>[l(H,{value:"Proveedor",readonly:""})]),_:1}),l(n,{cols:"3",style:{"margin-right":"-1rem"}},{default:a(()=>[l(M,{class:"mb-6",modelValue:e.condicion,"onUpdate:modelValue":c=>e.condicion=c,label:"Condici\xF3n",items:de},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{cols:"4",style:{"margin-right":"-1rem"}},{default:a(()=>[l(dl,{modelValue:e.valor,"onUpdate:modelValue":c=>e.valor=c,items:De,label:"Proveedores",multiple:"",chips:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]))),256)),l(n,{cols:"12"},{default:a(()=>[Al]),_:1}),l(we),l(n,{cols:"6"},{default:a(()=>[l(o,{"prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:i(D),"onUpdate:modelValue":t[14]||(t[14]=e=>y(D)?D.value=e:null),"show-current":"true",label:"Fecha inicio",config:{position:"auto right",altFormat:"F j, Y",dateFormat:"m-d-Y",reactive:!0}},null,8,["modelValue","config"])]),_:1}),l(n,{cols:"6"},{default:a(()=>[l(o,{"prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:i(N),"onUpdate:modelValue":t[15]||(t[15]=e=>y(N)?N.value=e:null),"show-current":"true",label:"Fecha fin",config:{position:"auto right",altFormat:"F j, Y",dateFormat:"m-d-Y",reactive:!0}},null,8,["modelValue","config"])]),_:1})]),_:1}),l(n,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:a(()=>[l(b,{type:"submit"},{default:a(()=>[g(" Guardar ")]),_:1}),l(b,{color:"secondary",variant:"tonal",onClick:ye},{default:a(()=>[g(" Cancelar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ce,{modelValue:i(B),"onUpdate:modelValue":t[19]||(t[19]=e=>y(B)?B.value=e:null),persistent:"",class:"v-dialog-sm"},{default:a(()=>[l(v,{onClick:t[17]||(t[17]=e=>B.value=!i(B))}),l(K,{title:"Eliminar registro"},{default:a(()=>[l(X,null,{default:a(()=>[g(" \xBFDesea eliminar el cup\xF3n? ")]),_:1}),l(X,{class:"d-flex justify-end gap-3 flex-wrap"},{default:a(()=>[l(b,{color:"secondary",variant:"tonal",onClick:t[18]||(t[18]=e=>B.value=!1)},{default:a(()=>[g(" No, Cerrar ")]),_:1}),l(b,{onClick:Ze},{default:a(()=>[g(" Si, eliminar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{Yl as default};
