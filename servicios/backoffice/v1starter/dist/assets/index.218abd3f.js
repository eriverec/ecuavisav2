import{R as w,S,U as _,r as y,o as g,x as T,a as e,w as a,e as u,b7 as C,u as p,i as f,b8 as b,q as i,g as N,h as k,b9 as D,ba as V,b as d,c as x,aR as M,a3 as Y,b2 as O,l as B,m as R,V as h,n as v,p as U,bZ as I}from"./index.88d3c7f5.js";import{V as j}from"./VCheckbox.50e352e3.js";const A={class:"d-flex flex-wrap py-4 gap-4 align-items-center",style:{"justify-content":"space-between"}},F=d("p",null,"Pr\xF3ximamente",-1),m=w.exports.extendMoment(S);m.locale("es",[_]);const H={data(){return{usuarioFielModel:500,datos:[],suggestion:{title:"",description:"",estado:!0},maxRegistros:500,currentTab:"tab-agregar"}},watch:{},async mounted(){this.authorizedCheck()},methods:{async handleSubmit(){try{const t=await I.post("https://sugerencias-ecuavisa.vercel.app/add",this.suggestion);let l=m().format("DD/MM/YYYY HH:mm:ss").toString(),n=JSON.parse(localStorage.getItem("userData"));var r=new Headers;r.append("Content-Type","application/json");var o=JSON.stringify({usuario:n.email,pagina:"interesesSugerencias-agregar",accion:"agregar",data:this.suggestion,fecha:l}),s={method:"POST",headers:r,body:o,redirect:"follow"};await fetch("https://servicio-logs.vercel.app/accion",s).then(c=>{}).catch(c=>console.log("error",c)),this.$router.push("/apps/sugerencias/list")}catch(t){console.error(t)}},authorizedCheck(){let r=localStorage.getItem("role");r!=="administrador"&&r!=="webmaster"&&this.$router.push({path:"/pages/errors/not-authorized"})},async accionBackoffice(){let r=m().format("DD/MM/YYYY HH:mm:ss").toString(),o=JSON.parse(localStorage.getItem("userData"));if(o.email!=="admin@demo.com"){var s=new Headers;s.append("Content-Type","application/json");var t=JSON.stringify({usuario:o.email,pagina:"interesesSugerencias-agregar",fecha:r}),l={method:"POST",headers:s,body:t,redirect:"follow"};await fetch("https://servicio-logs.vercel.app/accion",l).then(n=>{}).catch(n=>console.log("error",n))}}}},z=Object.assign(H,{__name:"index",setup(r){const o=y("tab-agregar");return(s,t)=>(g(),T("section",null,[e(h,null,{default:a(()=>[e(u,{class:"mt-6",cols:"12",md:"12",lg:"12"},{default:a(()=>[e(C,{modelValue:p(o),"onUpdate:modelValue":t[0]||(t[0]=l=>f(o)?o.value=l:null),class:"v-tabs-pill d-none"},{default:a(()=>[e(b,{value:"tab-agregar"},{default:a(()=>[i("Agregar")]),_:1}),e(b,{value:"tab-lista"},{default:a(()=>[i("new tab")]),_:1})]),_:1},8,["modelValue"]),e(N,{class:"mt-5"},{default:a(()=>[e(k,null,{default:a(()=>[e(D,{modelValue:p(o),"onUpdate:modelValue":t[4]||(t[4]=l=>f(o)?o.value=l:null)},{default:a(()=>[e(V,{value:"tab-agregar"},{default:a(()=>[d("div",A,[d("div",null,[s.usuarioFielModel?(g(),x(M,{key:0},{default:a(()=>[i("Agrega un temas de inter\xE9s para sugerirlo en ecuavisa.com ")]),_:1})):Y("",!0),e(O,null,{default:a(()=>[i(" Al sugerir un tema nuevo y habilitarlo, aparecer\xE1 en el \xE1rea de perfil del sitio ")]),_:1})])]),e(B,{class:"mt-2",onSubmit:R(s.handleSubmit,["prevent"])},{default:a(()=>[e(h,null,{default:a(()=>[e(u,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:s.suggestion.title,"onUpdate:modelValue":t[1]||(t[1]=l=>s.suggestion.title=l),id:"title",label:"T\xEDtulo"},null,8,["modelValue"])]),_:1}),e(u,{md:"6",cols:"12"},{default:a(()=>[e(v,{label:"Descripci\xF3n",id:"description",modelValue:s.suggestion.description,"onUpdate:modelValue":t[2]||(t[2]=l=>s.suggestion.description=l)},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"9"},{default:a(()=>[e(j,{modelValue:s.suggestion.estado,"onUpdate:modelValue":t[3]||(t[3]=l=>s.suggestion.estado=l),id:"estado",label:"Publicado"},null,8,["modelValue"]),e(U,{type:"submit",class:"mt-4"},{default:a(()=>[i(" Agregar item ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),e(V,{value:"tab-lista"},{default:a(()=>[F]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{z as default};
