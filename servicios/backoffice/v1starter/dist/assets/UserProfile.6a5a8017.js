import{R as v,S as h,U as x,I as A,W as L,o as i,c,w as t,a as e,X as u,d as m,u as a,Y as D,Z as N,$ as s,a0 as l,q as o,t as d,a1 as w,a2 as f,N as r,a3 as C,a4 as z,a5 as B}from"./index.88d3c7f5.js";import{a as p}from"./logox108.db1c7cdf.js";import{V as R}from"./VListItemAction.da1c9328.js";import{V as g}from"./VBadge.0df54a63.js";const J={__name:"UserProfile",setup(T){v.exports.extendMoment(h).locale("es",[x]);const _=A(),V=L(),b=JSON.parse(localStorage.getItem("userData")||"null"),I=localStorage.getItem("role"),y=localStorage.getItem("role");async function S(){z("logout"),localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),_.push("/login").then(()=>{localStorage.removeItem("userAbilities"),V.update(B)})}return(k,n)=>(i(),c(g,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(u,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>[e(m,{src:a(p)},null,8,["src"]),e(D,{activator:"parent",width:"270",location:"bottom end",offset:"14px"},{default:t(()=>[a(y)=="administrador"?(i(),c(N,{key:0},{default:t(()=>[e(s,null,{prepend:t(()=>[e(R,{start:""},{default:t(()=>[e(g,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(u,{color:"primary",variant:"tonal"},{default:t(()=>[e(m,{src:a(p)},null,8,["src"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[e(l,{class:"font-weight-semibold"},{default:t(()=>[o(d(a(b).email),1)]),_:1}),e(w,null,{default:t(()=>[o(d(a(I)),1)]),_:1})]),_:1}),e(f,{class:"my-2"}),e(s,{link:""},{prepend:t(()=>[e(r,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(l,null,{default:t(()=>[o("Perfil")]),_:1})]),_:1}),e(s,{link:"",onClick:n[0]||(n[0]=M=>k.$router.push({name:"apps-settings-menu"}))},{prepend:t(()=>[e(r,{class:"me-2",icon:"tabler-settings",size:"22"})]),default:t(()=>[e(l,null,{default:t(()=>[o("Ajustes")]),_:1})]),_:1}),e(f,{class:"my-2"}),e(s,{link:"",onClick:S},{prepend:t(()=>[e(r,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(l,null,{default:t(()=>[o("Salir")]),_:1})]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}))}};export{J as default};
