import{M as S,R as x,S as C,U as k,r as m,o as n,x as c,a as e,w as a,e as M,b7 as T,u as f,i as g,b8 as v,q as r,g as I,h as N,b9 as D,ba as b,b as d,c as h,aR as O,a3 as p,b2 as L,Z as B,F as _,C as R,$ as U,c7 as j,a0 as F,t as V,a1 as z,p as H,N as J,V as Y,bZ as q}from"./index.88d3c7f5.js";const E={class:"d-flex flex-wrap py-4 gap-4 align-items-center",style:{"justify-content":"space-between"}},P={key:0},w=x.exports.extendMoment(C);w.locale("es",[k]);const $={data(){return{usuarioFielModel:500,listUsuarioFieles:[{title:"20",value:20},{title:"30",value:30},{title:"50",value:50},{title:"100",value:100},{title:"300",value:300},{title:"400",value:400},{title:"500",value:500},{title:"700",value:700}],datos:[],suggestion:{title:"",description:"",estado:!0},estado:"",maxRegistros:500,currentTab:"tab-lista"}},watch:{},async mounted(){this.authorizedCheck(),this.obtenerDatos()},methods:{async clicka(){console.log(JSON.stringify(this.datos));var o=new Headers;o.append("Content-Type","application/json");var s=JSON.stringify(this.datos),i={method:"POST",headers:o,body:s,redirect:"follow"};await fetch("https://estadisticas.ecuavisa.com/sites/services/global/index.php",i).then(l=>{}).catch(l=>console.log("error",l)),await this.obtenerDatos()},async obtenerDatos(){const s=await(await fetch("https://estadisticas.ecuavisa.com/sites/services/global/datareader.php")).json();this.datos=s},async handleSubmit(){try{const o=await q.post("https://sugerencias-ecuavisa.vercel.app/add",this.suggestion);window.location.reload()}catch(o){console.error(o)}},async accionBackoffice(){let o=w().format("DD/MM/YYYY HH:mm:ss").toString(),s=JSON.parse(localStorage.getItem("userData"));if(s.email!=="admin@demo.com"){var i=new Headers;i.append("Content-Type","application/json");var l=JSON.stringify({usuario:s.email,pagina:"ecuavisa.com-modulos",fecha:o}),t={method:"POST",headers:i,body:l,redirect:"follow"};await fetch("https://servicio-logs.vercel.app/accion",t).then(u=>{}).catch(u=>console.log("error",u))}},authorizedCheck(){let o=localStorage.getItem("role");o!=="administrador"&&o!=="webmaster"&&this.$router.push({path:"/pages/errors/not-authorized"})}}},A=Object.assign($,{__name:"index",setup(o){const s=m("tab-lista");return m(1),(i,l)=>(n(),c("section",null,[e(Y,null,{default:a(()=>[e(M,{class:"mt-6",cols:"12",md:"12",lg:"12"},{default:a(()=>[e(T,{modelValue:f(s),"onUpdate:modelValue":l[0]||(l[0]=t=>g(s)?s.value=t:null),class:"v-tabs-pill"},{default:a(()=>[e(v,{value:"tab-lista",class:"d-none"},{default:a(()=>[r("Listado")]),_:1}),e(v,{value:"tab-agregar",class:"d-none"},{default:a(()=>[r("Estad\xEDsticas")]),_:1})]),_:1},8,["modelValue"]),e(I,{class:"mt-5"},{default:a(()=>[e(N,null,{default:a(()=>[e(D,{modelValue:f(s),"onUpdate:modelValue":l[2]||(l[2]=t=>g(s)?s.value=t:null)},{default:a(()=>[e(b,{value:"tab-lista"},{default:a(()=>[d("div",E,[d("div",null,[i.usuarioFielModel?(n(),h(O,{key:0},{default:a(()=>[r("Configura los m\xF3dulos eventuales de ecuavisa.com ")]),_:1})):p("",!0),e(L,null,{default:a(()=>[r(" Parametriza sus opciones para que los m\xF3dulos funcionen correctamente ")]),_:1})])]),e(B,{lines:"two"},{default:a(()=>[(n(!0),c(_,null,R(i.datos,(t,u)=>(n(),c(_,{key:u},[t.nameModule?(n(),h(U,{key:0,border:""},{append:a(()=>[e(j,{modelValue:t.configuracionModuloSugerencias,"onUpdate:modelValue":y=>t.configuracionModuloSugerencias=y,label:t.configuracionModuloSugerencias?"Activo":"Inactivo"},null,8,["modelValue","onUpdate:modelValue","label"])]),default:a(()=>[e(F,null,{default:a(()=>[d("span",null,V(t.urlactual),1),t.nameModule?(n(),c("span",P,"M\xF3dulo de: "+V(t.nameModule),1)):p("",!0)]),_:2},1024),e(z,{class:"mt-1",color:"info"})]),_:2},1024)):p("",!0)],64))),128))]),_:1}),e(H,{class:"mt-5",color:"success",onClick:l[1]||(l[1]=t=>i.clicka())},{default:a(()=>[r(" Aplicar Cambios en Ecuavisa.com"),e(J,{end:"",icon:"tabler-cloud-upload"})]),_:1})]),_:1}),e(b,{value:"tab-agregar"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Z=S(A,[["__scopeId","data-v-bc004ba1"]]);export{Z as default};
