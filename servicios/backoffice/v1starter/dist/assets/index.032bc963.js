import{r as _,as as N,v as T,o as r,x as h,a,w as e,e as v,g as m,h as j,b as t,t as n,u as c,V,aR as E,q as p,c as b,aQ as x,aW as J,F as D,C as F,p as w}from"./index.88d3c7f5.js";const L=t("span",null,"Cantidad de votos totales",-1),R={class:"d-flex align-center gap-2 my-1"},q={class:"text-h6"},I=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Nombre"),t("th",{scope:"col"},"Email"),t("th",{scope:"col"},"Estado del voto"),t("th",{scope:"col"},"Cantidad de votos")])],-1),M={class:"text-medium-emphasis"},Q={class:"text-medium-emphasis"},S={class:"text-medium-emphasis"},W={class:"text-medium-emphasis"},z={class:"d-flex align-center justify-space-between botonescurrentPage"},K={__name:"index",setup(A){const i=_([]),f=_(0);async function y(){try{const o=await(await fetch("https://ecuavisa-servicio-votacion.vercel.app/votacion/cantidad/total")).json();f.value=o.data.total}catch(s){console.error(s.message)}}async function C(){try{var s=[];let o=1;for(;;){const g=(await(await fetch("https://ecuavisa-servicio-votacion.vercel.app/votacion/get/users/all?page="+o)).json()).data;if(g.length===0)break;s.push(...g),i.value=Array.from(s),o+=1}}catch(o){console.error(o.message)}}N(async()=>{await y(),await C()});const u=8,l=_(1),k=T(()=>{const s=(l.value-1)*u,o=s+u;return i.value.slice(s,o)}),P=()=>{l.value*u<i.value.length&&l.value++},B=()=>{l.value>1&&l.value--};return(s,o)=>(r(),h("section",null,[a(V,null,{default:e(()=>[a(v,{cols:"12",sm:"6",lg:"3"},{default:e(()=>[a(m,null,{default:e(()=>[a(j,{class:"d-flex justify-space-between"},{default:e(()=>[t("div",null,[L,t("div",R,[t("h6",q,n(c(f)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),a(V,null,{default:e(()=>[a(v,{cols:"12",sm:"12",lg:"12"},{default:e(()=>[a(m,null,{default:e(()=>[a(E,{class:"pt-4 pl-6"},{default:e(()=>[p("Lista de votos")]),_:1}),c(i).length>0?(r(),b(x,{key:0},{default:e(()=>[a(J,{class:"text-no-wrap tableNavegacion mb-5",hover:"true"},{default:e(()=>[I,t("tbody",null,[(r(!0),h(D,null,F(c(k),d=>(r(),h("tr",null,[t("td",M,n(d.first_name)+" "+n(d.last_name),1),t("td",Q,n(d.email),1),t("td",S,n(d.estadoVoto),1),t("td",W,n(d.cantidadVotos),1)]))),256))])]),_:1}),t("div",z,[a(w,{icon:"tabler-arrow-big-left-lines",onClick:B,disabled:c(l)===1},null,8,["disabled"]),p(" P\xE1gina "+n(c(l))+" ",1),a(w,{icon:"tabler-arrow-big-right-lines",onClick:P,disabled:c(l)*u>=c(i).length},null,8,["disabled"])])]),_:1})):(r(),b(x,{key:1},{default:e(()=>[p(" Cargando datos... ")]),_:1}))]),_:1})]),_:1})]),_:1})]))}};export{K as default};
