import{r,R as M,U as y,as as V,o as p,x as g,a as v,w as b,b as a,F as C,C as k,t as d,aW as F,aX as S}from"./index.88d3c7f5.js";import{M as T}from"./index.50982b4e.js";import{V as $}from"./VPagination.9412c3b8.js";const N=a("thead",null,[a("tr",null,[a("th",{scope:"col"},"Nombre"),a("th",{scope:"col"},"Apellido"),a("th",{scope:"col"},"Correo")])],-1),P={class:"text-medium-emphasis"},R={class:"text-medium-emphasis"},j={class:"text-medium-emphasis"},A={class:"text-sm text-disabled"},U={__name:"index - copia",setup(B){const m=r(1),h=r(1),f=r(1),D=r([]),i=M.exports.extendMoment(T);i.locale("es",[y]),i.tz.setDefault("America/Guayaquil");const e=r({start:new Date(new Date().setDate(new Date().getDate()-5)).toISOString().slice(0,10),end:new Date().toISOString().slice(0,10)});V(()=>{u(1,10,e.value.start,e.value.end)});async function u(n=1,t=10,l,o){try{var c=new Headers;c.append("Content-Type","application/json");var w={method:"GET",headers:c,redirect:"follow"},x=await fetch(`https://servicio-elearning.vercel.app/grafico/exportar/usuarios/registrados?fechai=${l}&fechaf=${o}&page=${n}&limit=${t}&idCurso=664e32d4fa50c162c4a2e5c8`,w);const s=await x.json();console.log(s),D.value=s.data,f.value=s.total,h.value=Math.ceil(s.total/t)}catch(s){return console.error(s.message)}}const _=async()=>{await u(m.value,10,e.value.start,e.value.end)},Y=async n=>{if(typeof n=="string"){const[t,l]=n.split(" a ");e.value={start:i(t,"DD-MM-YYYY").format("YYYY-MM-DD"),end:i(l,"DD-MM-YYYY").format("YYYY-MM-DD")},await u(1,10,e.value.start,e.value.end)}else console.error("El valor de fechaSeleccionada no es una cadena de texto");console.log(e.value)};return(n,t)=>{const l=S;return p(),g("div",null,[v(l,{style:{width:"400px"},"prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value=o),"show-current":"true",onOnChange:Y,config:{position:"auto right",mode:"range",altFormat:"F j, Y",dateFormat:"d-m-Y",maxDate:new Date,minDate:new Date("2023-04-09"),reactive:!0,clearable:!0}},null,8,["modelValue","config"]),v(F,{class:"text-no-wrap tableNavegacion mt-5 mb-5"},{default:b(()=>[N,a("tbody",null,[(p(!0),g(C,null,k(D.value,(o,c)=>(p(),g("tr",{key:c},[a("td",P,d(o.first_name),1),a("td",R,d(o.last_name),1),a("td",j,d(o.email),1)]))),128))])]),_:1}),a("span",A," Total de registros "+d(f.value),1),v($,{"total-visible":5,modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),length:h.value,class:"mt-4",onClick:_},null,8,["modelValue","length"])])}}};export{U as default};
