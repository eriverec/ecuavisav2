import{R as hl,U as _l,r,I as gl,cy as Vl,Q as Y,bu as Ua,as as ka,v as ne,o as _,x as B,a,w as t,a$ as yl,a_ as wl,g as C,h as A,bw as xl,b as u,t as g,b0 as Ce,p as x,q as f,f as Ae,e as s,aR as ee,aM as ae,V as v,n as L,aT as de,L as F,b2 as Il,N as I,c as U,a3 as ce,bC as Se,c7 as Ul,aW as Sa,X as Ta,u as le,Z as Da,F as Fe,C as $e,$ as Ma,a0 as Ea,a1 as Ya,bR as kl,cG as La,aX as Sl}from"./index.88d3c7f5.js";import{u as Tl}from"./useCategoriasListStore.d4fa8b94.js";import{M as q}from"./index.50982b4e.js";/* empty css              */import{V as Oa}from"./VTextarea.86fae113.js";import{V as O}from"./VCheckbox.50e352e3.js";import{V as Dl}from"./VSpacer.2a3e77c9.js";import{V as za}from"./VAlert.3e8ed100.js";import{p as Te}from"./parseISO.d0bde0b5.js";const Ml={class:"position-relative"},El=u("div",{class:"text-center mb-2",style:{"line-height":"1.2"}}," No cierre la pesta\xF1a, espere por favor ",-1),Yl={class:"text-center mt-2",style:{"line-height":"1.2","font-size":"10px"}},Ll=u("label",{for:"nombreCampania"},"Nombre de la campa\xF1a",-1),Ol=u("label",{for:"tipocontenido"},"Tipo de contenido",-1),zl=u("label",{class:"mb-2 d-block"},"Per\xEDodo de la campa\xF1a",-1),Pl=u("label",{for:"descripcionCampania"},"Descripci\xF3n de la campa\xF1a",-1),Rl=u("label",{for:"nombreCampania"},"Inserte el c\xF3digo",-1),Nl=u("label",{for:"nombreCampania"},"Link del ads",-1),Cl=u("label",{for:""},"URL imagen de escritorio",-1),Al=u("label",{for:""},"URL imagen de m\xF3vil",-1),Fl=u("label",{for:"tipocontenido"},"Escoge una secci\xF3n",-1),$l=u("label",{for:"email"},"Posici\xF3n",-1),jl=u("label",null,"Tipo de visualizaci\xF3n",-1),Hl={class:"d-flex flex-column gap-2"},Bl={class:"d-flex align-center gap-4"},ql={class:"d-flex justify-start mb-4"},Wl=u("h3",{class:"text-h5 mb-4"},"Filtrar en la plataforma",-1),Jl={class:"border-transparent"},Gl={class:"border-transparent"},Ql={class:"border-transparent"},Xl={class:"border-transparent"},Zl=u("label",{for:"metadatos"},"Metadatos",-1),Kl=u("label",{for:"email"},"Pa\xEDses",-1),et=u("label",{for:"email"},"Ciudades",-1),at=u("label",{for:"email"},"Dispositivos",-1),lt=u("label",{for:"navegador"},"Sistema operativo",-1),tt=u("label",{for:"navegador"},"Navegador",-1),ot=u("h3",{class:"text-h6 mb-4"},"Total de usuarios",-1),st={class:"d-flex align-center"},rt={class:"text-h4 font-weight-bold text-center"},ut={class:"d-flex gap-3 flex-wrap"},it={key:0},nt={class:"text-xs text-disabled"},dt={class:"d-flex justify-center mt-4"},ct={key:1,class:"text-center pa-4"},vt=u("p",{class:"text-medium-emphasis"},"No hay usuarios cargados. Por favor, importa un archivo CSV para comenzar.",-1),mt=[vt],ft=u("thead",null,[u("tr",null,[u("th",null,"Nombre"),u("th",null,"Correo"),u("th",null,"Acciones")])],-1),pt={class:"text-xs text-disabled"},kt={__name:"[id]",setup(bt){const ve=hl.exports.extendMoment(q);ve.locale("es",[_l]),ve.tz.setDefault("America/Guayaquil");const me=r(!1),Pa=gl(),fe=Vl();r(!1);const b=r(!1),pe=r(!1),je=r("Procesando.."),be=r([]),W=r([]),De=r([]),J=r(!1),k=r(null),te=3e3,G=r(""),he=r(""),_e=r(""),ge=r(""),Ve=r(""),Ra=r(""),z=r([]),h=r([]),$=r([]),P=r([]),S=r([]),y=r({}),He=r(null),Be=r([{title:"Otro",value:"Otro"},{title:"100",value:"100"}]),Me=r(1),Ee=r(100),qe=r(null),R=r([]),We=r([]),Je=r([]),Ge=r([]),Na=r(null),Ca=Tl(),Aa=async()=>{try{return(await Ca.fetchCategorias()).data}catch(e){return console.error(e),e}},m=r([]),Q=r(""),Qe=r(!1),ye=r(""),Xe=e=>{Qe.value=e&&!["all","other","Home"].includes(e),m.value=[],Q.value="",e!=="other"&&(ye.value="")},Fa=e=>{e?m.value=["enabled"]:(m.value=m.value.filter(l=>l!=="enabled"),Q.value="")},oe=r(""),D=r([]),$a=r([{title:"Todo el sitio",value:"all",avatar:""},{title:"Lo-ultimo",value:"Lo-ultimo",avatar:""},{title:"Noticias",value:"Noticias",avatar:""},{title:"Mundo",value:"Mundo",avatar:""},{title:"Estadio",value:"Estadio",avatar:""},{title:"Entretenimiento",value:"Entretenimiento",avatar:""},{title:"Programas",value:"Programas",avatar:""},{title:"Tendencias",value:"Tendencias",avatar:""},{title:"La Noticia a Fondo",value:"la-noticia-a-fondo",avatar:""},{title:"Home",value:"Home",avatar:""},{title:"Otro",value:"other",avatar:""}]),X=r([]),ja=r([{title:"Escritorio",value:"desktop",avatar:"mdi-laptop-chromebook"},{title:"M\xF3vil",value:"movil",avatar:"mdi-cellphone-android"}]),Z=r([]),Ha=r([{title:"Chrome",value:"Chrome",avatar:""},{title:"Safari",value:"Safari",avatar:""},{title:"Firefox",value:"Firefox",avatar:""},{title:"Otro",value:"Otro",avatar:""}]),se=r([]),Ba=r([{title:"Windows",value:"Windows",avatar:"tabler-brand-windows",navegador:[{title:"Chrome",value:"Chrome"},{title:"Firefox",value:"Firefox"}]},{title:"Mac OS",value:"Mac OS",avatar:"tabler-brand-apple",navegador:[{title:"Safari",value:"Safari"},{title:"Chrome",value:"Chrome"}]},{title:"Android",value:"Android",avatar:"tabler-brand-android",navegador:[{title:"Chrome",value:"Chrome"},{title:"Firefox",value:"Firefox"}]},{title:"Linux",value:"Linux",avatar:"mdi-linux",navegador:[{title:"Chrome",value:"Chrome"}]},{title:"Otro",value:"Otro",avatar:"mdi-account",navegador:[{title:"Chrome",value:"Chrome"}]}]),qa=[e=>!!e||"El n\xFAmero es requerido",e=>/^\d+$/.test(e)||"Ingrese solo n\xFAmeros",e=>e>=Me.value&&e<=Ee.value||"Ingrese un n\xFAmero entre "+Me.value+" y "+Ee.value],Wa=[{title:"Im\xE1genes locales",value:"imagen"},{title:"C\xF3digo HTML",value:"html"},{title:"C\xF3digos ADS",value:"script"}],N=[{title:"Geolocalizaci\xF3n",value:"trazabilidads"},{title:"Dispositivos",value:"dispositivos"},{title:"Metadatos",value:"metadatos"},{title:"Plataforma",value:"plataforma"}],Ja=["RDTop1","RDTop2","RDTop3","RDFloating"];Y($,e=>{e.length>1&&Ua(()=>$.value.pop())}),Y(R,e=>{e.length>5&&Ua(()=>R.value.pop())}),ka(async()=>{await Ga(),await Xa()});async function Ga(){try{b.value=!0;const e=await fetch("https://ecuavisa-suscripciones.vercel.app/otros/obtener-paises-ciudades",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Error al obtener pa\xEDses");const l=await e.json();be.value=l;const i=l.map(o=>o.country);De.value=i,console.log("Pa\xEDses cargados:",De.value)}catch(e){console.error("Error al cargar pa\xEDses:",e),alert("Error al cargar la lista de pa\xEDses")}finally{b.value=!1}}function Qa(){w.value="",E.value=[],me.value=!0}async function Xa(){try{var e=await Aa(),l=[],i=[];for(var o in e)l.push({title:e[o].__text,value:e[o].__text}),i.push(e[o].__text);Na.value=l,i.slice().sort();const d=i.filter((n,p,T)=>T.indexOf(n)===p);We.value=d}catch{console.error("Error al listar todos los metadatos")}}async function re(){var e=-1,l=-1,i=h.value,o=null,d=null,n=null,p=null;(i.includes("metadatos")||i.includes("trazabilidads"))&&(l=P.value.length>0?P.value:-1,e=S.value.length>0?S.value:-1,e=e=="Todas las ciudades"?-1:e),i.includes("metadatos")&&(p=R.value||null),i.includes("dispositivos")&&(d=X.value||null),i.includes("plataforma")&&(o=se.value||null,n=Z.value||null);var T=new Headers;T.append("Content-Type","application/json");var Ie=JSON.stringify({metadato:p,criterio:i,pais:l,ciudad:e,navegador:n,os:o,dispositivo:d}),Ue={method:"POST",headers:T,body:Ie,redirect:"follow"};const ke=await(await fetch("https://ads-service.vercel.app/campaign/v2/usuarios/get/user/total",Ue)).json();y.value=ke,console.log("data total",y.value),b.value=!1}const Za=ne(()=>{var l;const e=((l=y.value)==null?void 0:l.total)||0;return new Intl.NumberFormat("es-ES").format(e)});r(!1);function Ka(e){return e.toString().toLowerCase().replace(/[áàâä]/g,"a").replace(/[éèêë]/g,"e").replace(/[íìîï]/g,"i").replace(/[óòôö]/g,"o").replace(/[úùûü]/g,"u").replace(/[ñ]/g,"n").replace(/[^a-z0-9\-]+/g,"-").replace(/\s+/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function el(){var e;try{return G.value?oe.value?z.value?(e=$.value)!=null&&e.length?!0:(alert("Debe seleccionar al menos una posici\xF3n"),!1):(alert("El tipo de contenido es obligatorio"),!1):(alert("La descripci\xF3n de la campa\xF1a es obligatoria"),!1):(alert("El nombre de la campa\xF1a es obligatorio"),!1)}catch(l){return console.error(l),null}}async function al(e){try{const l=await fetch(`https://ads-service.vercel.app/campaign/update/${fe.params.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return l.ok?await l.json():null}catch(l){return console.error("Error al crear la campa\xF1a:",l),null}}const Ze=r(q().startOf("month").format("YYYY-MM-DD")),Ke=r(q().format("YYYY-MM-DD")),Ye=r([Te(Ze.value),Te(Ke.value)]),K=r({start:Ze.value,end:Ke.value}),ll=e=>{e&&e.length===2&&(K.value={start:q(e[0]).format("YYYY-MM-DD"),end:q(e[1]).format("YYYY-MM-DD")})};async function tl(){if(!!el())try{pe.value=!0,je.value="Procesando..";let l;D.value==="other"?l={name:"other",params:{},specificUrl:{enabled:!0,url:ye.value}}:D.value==="Home"?l={name:"Home",params:{},specificUrl:{enabled:!0,url:"https://www.ecuavisa.com"}}:D.value==="all"?l="all":l={name:D.value,params:{landing:m.value.includes("landing"),root:m.value.includes("root"),subsection:m.value.includes("subsection"),all:m.value.includes("all")},specificUrl:{enabled:m.value.includes("enabled"),url:m.value.includes("enabled")?Q.value:""}};const i={campaignTitle:G.value,fechai:K.value.start,fechaf:K.value.end,description:oe.value,criterial:{visibilitySection:l},position:$.value.join(","),userIdRemove:[],userIdAdd:[],urls:{url:_e.value||"#",img:{escritorio:ge.value||"",mobile:Ve.value||""},html:he.value||""}};var e=await al(i);return c.value={show:!0,text:"Campa\xF1a editada exitosamente",color:"success"},setTimeout(()=>{Pa.push("/apps/campaigns/list"),pe.value=!1},1e3),!0}catch(l){return console.error(l),null}}ne(()=>qa.map(e=>e(Ra.value)).filter(Boolean));function ol(e,l){return e.title==="Todas las ciudades"?-1:l.title==="Todas las ciudades"?1:e.title<l.title?-1:e.title>l.title?1:0}function sl(e){const l={};for(const o of e){const d=o.title;l[d]||(l[d]=[]),l[d].push(o.value)}const i=[];for(const o in l)l.hasOwnProperty(o)&&i.push({title:o,value:l[o][0]});return i}function rl(e,l,i){const o=[];for(let d=0;d<i;d++){let n=Math.floor(Math.random()*(l-e+1))+e;n%10!==0&&(n+=10-n%10),o.push(n)}return o}async function ue(){if(Ee.value=y.value.total,Me.value=1,y.value.total<100)Be.value=[{title:"Todos",value:"Todos"},{title:"Otro valor",value:"Otro"}];else{var e=rl(100,y.value.total,3),l=[];if(l.push({title:"Otro valor",value:"Otro"}),y.value.total>110)for(var i in e)l.push({title:e[i],value:e[i]});l.push({title:"Todos",value:"Todos"}),Be.value=l}return!0}function ea(e){S.value=[],He.value=[];var l=[];l.push({title:"Todas las ciudades",value:"0"});for(var i in be.value){var o=be.value[i];if(o.country==e)for(var d in o.data){var n=o.data[d];l.push({title:n.city,value:n.city})}}l.sort(ol);var p=Object.values(sl(l)),T=[];for(var i in p)T.push(p[i].title);W.value=T}var j=!0;const H=r(!1);Y(J,(e,l)=>{H.value=!0}),Y(()=>P.value,(e,l)=>{if(j)return!0;H.value=!0,P.value!=null?(ea(e),console.log(W.value)):(W.value=[],He.value=[])}),Y(async()=>S.value,async(e,l)=>{if(j)return!0;H.value=!0,W.value.length>1&&(S.value!=null?(b.value=!0,clearTimeout(k.value),k.value=setTimeout(async()=>{await re()},te),await ue()):y.value={})}),Y(async()=>X.value,async(e,l)=>{if(j)return!0;H.value=!0,X.value!=null?(b.value=!0,clearTimeout(k.value),k.value=setTimeout(async()=>{await re()},te),await ue()):y.value={}}),Y(async()=>se.value,async(e,l)=>{if(j)return!0;H.value=!0,b.value=!0,clearTimeout(k.value),k.value=setTimeout(async()=>{await re()},te),await ue()}),Y(async()=>Z.value,async(e,l)=>{if(j)return!0;H.value=!0,Z.value!=null?(b.value=!0,clearTimeout(k.value),k.value=setTimeout(async()=>{await re()},te),await ue()):y.value={}}),Y(async()=>R.value,async(e,l)=>{if(j)return!0;H.value=!0,R.value!=null?(b.value=!0,clearTimeout(k.value),k.value=setTimeout(async()=>{await re()},te),await ue()):y.value={}});const Le=r(""),ie=r(1),M=r([]),Oe=r([]),aa=r(!1),w=r(""),E=r([]),ze=r(!1);r(null);const ul=r(!1),c=r({show:!1,text:"",color:"success"}),il=r(!1),we=r(null);async function la(){if(!(w.value.length<4)){b.value=!0;try{const l=await(await fetch(`https://ads-service.vercel.app/busqueda/user/?s=${encodeURIComponent(w.value)}`)).json();l.resp?(E.value=l.data,c.value={show:!0,text:`Se encontraron ${l.data.length} resultados`,color:"info"}):(E.value=[],c.value={show:!0,text:"No se encontraron resultados",color:"warning"})}catch(e){console.error("Error en b\xFAsqueda:",e),E.value=[],c.value={show:!0,text:"Error al realizar la b\xFAsqueda",color:"error"}}finally{b.value=!1}}}function ta(e){M.value.some(l=>l.wylexId===e.wylexId)||(M.value.push(e),Oe.value.push(e.wylexId),c.value={show:!0,text:"Usuario agregado exitosamente",color:"success"})}const nl=ne(()=>Math.ceil(M.value.length/10)),dl=ne(()=>{const e=Le.value.toLowerCase();let l=M.value;e&&(l=l.filter(o=>{const d=`${o.first_name||""} ${o.last_name||""}`.toLowerCase(),n=(o.email||"").toLowerCase();return d.includes(e)||n.includes(e)}));const i=(ie.value-1)*10;return l.slice(i,i+10)}),xe=ne(()=>M.value&&M.value.length>0);function cl(){we.value&&we.value.click()}async function oa(e){const l=e.target.files[0];if(!!l){if(!l.name.endsWith(".csv")){c.value={show:!0,text:"Por favor, selecciona un archivo CSV",color:"error"},e.target.value="";return}b.value=!0;try{(await La(()=>import("./papaparse.min.b6588840.js").then(o=>o.p),["assets/papaparse.min.b6588840.js","assets/index.88d3c7f5.js","assets/index.7a3da0b8.css"])).default.parse(l,{header:!0,complete:o=>{try{if(!o.data||!o.data.length)throw new Error("El archivo est\xE1 vac\xEDo");const d=o.data.filter(n=>n.id&&n.id.trim()!=="").map(n=>({wylexId:parseInt(n.id),firstname:n.firstname||"",last_name:n.last_name||"",email:n.email||""})).filter(n=>!isNaN(n.wylexId));if(d.length===0)throw new Error("No se encontraron usuarios v\xE1lidos");M.value=d,Oe.value=d.map(n=>n.wylexId),c.value={show:!0,text:`${d.length} usuarios cargados exitosamente`,color:"success"}}catch(d){c.value={show:!0,text:d.message,color:"error"}}}})}catch(i){c.value={show:!0,text:`Error: ${i.message}`,color:"error"}}finally{b.value=!1,e.target.value=""}}}async function vl(){if(!!xe.value)try{b.value=!0;const l=(await La(()=>import("./papaparse.min.b6588840.js").then(n=>n.p),["assets/papaparse.min.b6588840.js","assets/index.88d3c7f5.js","assets/index.7a3da0b8.css"])).default.unparse({fields:["id","firstname","last_name","email"],data:M.value.map(n=>({id:n.wylexId,firstname:n.firstname||n.first_name||"",last_name:n.lastname||n.last_name||"",email:n.email||""}))}),i=new Blob([l],{type:"text/csv"}),o=window.URL.createObjectURL(i),d=document.createElement("a");d.href=o,d.download=`usuarios_campana_${Ka(G.value)}_${new Date().toISOString()}.csv`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(o),document.body.removeChild(d),c.value={show:!0,text:"Usuarios exportados exitosamente",color:"success"}}catch{c.value={show:!0,text:"Error al exportar usuarios",color:"error"}}finally{b.value=!1}}r(!1);async function ml(){fe.params.id;try{const e=await fetch(`https://ads-service.vercel.app/campaign/${fe.params.id}/`);if(!e.ok)return c.value={show:!0,text:"Error al cargar la campa\xF1a",color:"error"},{};const l=await e.json();return l.length>0?l[0]:{}}catch{return c.value={show:!0,text:"Error al cargar la campa\xF1a",color:"error"},{}}}function sa(e=50,l){return new Promise(o=>{let d=0;const n=setInterval(()=>{if(d++,console.log(`Segundo ${d}: Verificando condici\xF3n...`),l){console.log("Condici\xF3n cumplida. Ciclo detenido."),clearInterval(n),o(!0);return}d>=e&&(console.log("Tiempo agotado. Ciclo detenido."),clearInterval(n),o(!1))},1e3)})}const fl=async(e,l=1,i=1e4)=>{try{var o=new Headers;o.append("Content-Type","application/json");var d={method:"GET",headers:o,redirect:"follow"},n=await fetch(`https://ads-service.vercel.app/campaign/${e}/user-ids?limit=${i}&page=${l}&details=true`,d);const p=await n.json();return p&&p.length>0?pl(p[0].userId,p[0].userIdAdd,p[0].userIdRemove):[]}catch{return[]}};async function pl(e,l,i){const o=[...new Set([...e,...l])],d=i.map(p=>p.wylexId);return o.filter(p=>!d.includes(p.wylexId))}function bl(e){return e instanceof Object&&e.constructor===Object}return ka(async()=>{var l,i,o,d,n,p,T,Ie,Ue,Pe,ke,ra,ua,ia,na,da,ca,va,ma,fa,pa,ba,ha,_a,ga,Va,ya,wa;b.value=!0;const e=await ml();if(!e)return c.value={show:!0,text:"Error al cargar la campa\xF1a o no existe",color:"error"},null;if(G.value=e==null?void 0:e.campaignTitle,z.value=e==null?void 0:e.type,oe.value=e==null?void 0:e.description,((e==null?void 0:e.type)=="html"||(e==null?void 0:e.type)=="script")&&(he.value=(l=e==null?void 0:e.urls)==null?void 0:l.html),(e==null?void 0:e.type)=="imagen"&&(_e.value=(i=e==null?void 0:e.urls)==null?void 0:i.url,ge.value=(o=e==null?void 0:e.urls)==null?void 0:o.img.escritorio,Ve.value=(d=e==null?void 0:e.urls)==null?void 0:d.img.mobile),e!=null&&e.fechai&&(Ye.value=[Te(ve(e==null?void 0:e.fechai,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD")),Te(ve(e==null?void 0:e.fechaf,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"))],K.value={start:q(e==null?void 0:e.fechai,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD"),end:q(e==null?void 0:e.fechaf,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD")}),bl((n=e==null?void 0:e.criterial)==null?void 0:n.visibilitySection)&&(D.value=(T=(p=e==null?void 0:e.criterial)==null?void 0:p.visibilitySection)==null?void 0:T.name,Xe(D.value),m.value.push((Ue=(Ie=e==null?void 0:e.criterial)==null?void 0:Ie.visibilitySection)!=null&&Ue.params.landing?"landing":""),m.value.push((ke=(Pe=e==null?void 0:e.criterial)==null?void 0:Pe.visibilitySection)!=null&&ke.params.root?"root":""),m.value.push((ua=(ra=e==null?void 0:e.criterial)==null?void 0:ra.visibilitySection)!=null&&ua.params.subsection?"subsection":""),m.value.push((na=(ia=e==null?void 0:e.criterial)==null?void 0:ia.visibilitySection)!=null&&na.params.all?"all":""),m.value.push((ca=(da=e==null?void 0:e.criterial)==null?void 0:da.visibilitySection)!=null&&ca.specificUrl.enabled?"enabled":""),m.value.includes("enabled")&&(Q.value=(ma=(va=e==null?void 0:e.criterial)==null?void 0:va.visibilitySection)==null?void 0:ma.specificUrl.url)),$.value=e.position?e==null?void 0:e.position.split(","):[],J.value=(e==null?void 0:e.participantes)=="personalizado",J.value){let Re=1,xa=2e4,Ia=[];for(;;){b.value=!0;const V=await fl(fe.params.id,Re,xa);if(V.length===0)break;Ia.push(...V),Re+=1}e.userId=Ia;const Ne=e==null?void 0:e.userId.filter(V=>V.wylexId).map(V=>({wylexId:parseInt(V.wylexId),firstname:V.firstname,last_name:V.last_name,email:V.email})).filter(V=>!isNaN(V.wylexId));if(Ne.length===0)throw new Error("No se encontraron usuarios v\xE1lidos");M.value=Ne,Oe.value=Ne.map(V=>V.wylexId)}else y.value={total:e==null?void 0:e.userIdSize,userIds:[]};h.value=((fa=e==null?void 0:e.coleccion)==null?void 0:fa.split(","))||[],h.value.includes("metadatos")&&(R.value=((pa=e==null?void 0:e.criterial)==null?void 0:pa.metadato.split(","))||[]),h.value.includes("trazabilidads")&&(P.value=((ba=e==null?void 0:e.criterial)==null?void 0:ba.country)||"",await sa(50,()=>be.value.length>1)&&ea(P.value),await sa(50,()=>W.value.length>1)&&((ha=e==null?void 0:e.criterial)!=null&&ha.city?((_a=e==null?void 0:e.criterial)==null?void 0:_a.city)==-1?S.value="Todas las ciudades":S.value=(ga=e==null?void 0:e.criterial)==null?void 0:ga.city.split(","):S.value="Todas las ciudades")),h.value.includes("dispositivos")&&(X.value=((Va=e==null?void 0:e.criterial)==null?void 0:Va.dispositivo.split(","))||[]),h.value.includes("plataforma")&&(se.value=((ya=e==null?void 0:e.criterial)==null?void 0:ya.so.split(","))||[],Z.value=((wa=e==null?void 0:e.criterial)==null?void 0:wa.navegador.split(","))||[]),setTimeout(function(){j=!1},1e3),b.value=!1}),(e,l)=>{const i=Sl;return _(),B("div",Ml,[a(wl,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=o=>b.value=o),class:"align-center justify-center",persistent:"",opacity:.8},{default:t(()=>[a(yl,{indeterminate:"",color:"primary",size:"64"})]),_:1},8,["modelValue","opacity"]),a(Ce,{persistent:"",modelValue:pe.value,"onUpdate:modelValue":l[1]||(l[1]=o=>pe.value=o),width:"300"},{default:t(()=>[a(C,{color:"primary",width:"300"},{default:t(()=>[a(A,{class:"pt-3"},{default:t(()=>[El,a(xl,{indeterminate:"",color:"white",class:"mb-0"}),u("div",Yl,g(je.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ae,{modelValue:c.value.show,"onUpdate:modelValue":l[3]||(l[3]=o=>c.value.show=o),color:c.value.color,timeout:2e3,location:c.value.location||"top"},{actions:t(()=>[a(x,{color:"white",text:"",onClick:l[2]||(l[2]=o=>c.value.show=!1)},{default:t(()=>[f(" Cerrar ")]),_:1})]),default:t(()=>[f(g(c.value.text)+" ",1)]),_:1},8,["modelValue","color","location"]),a(v,null,{default:t(()=>[a(s,{cols:"12",md:"6"},{default:t(()=>[a(C,{class:"h-100"},{default:t(()=>[a(ee,{class:"pa-4"},{default:t(()=>[a(ae,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:t(()=>[f(" Detalles de Campa\xF1a ")]),_:1})]),_:1}),a(A,null,{default:t(()=>[a(v,null,{default:t(()=>[a(s,{cols:"6"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Ll]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(L,{id:"nombreCampania",modelValue:G.value,"onUpdate:modelValue":l[4]||(l[4]=o=>G.value=o),placeholder:"Nombre de la campa\xF1a","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s,{cols:"6"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Ol]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(de,{disabled:"",modelValue:z.value,"onUpdate:modelValue":l[5]||(l[5]=o=>z.value=o),items:Wa,chips:"",clearable:"",label:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(s,{cols:"12"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[zl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(i,{"prepend-inner-icon":"tabler-calendar",density:"compact","show-current":!0,modelValue:Ye.value,"onUpdate:modelValue":l[6]||(l[6]=o=>Ye.value=o),onOnChange:ll,config:{position:"auto right",mode:"range",altFormat:"F j, Y",dateFormat:"Y-m-d",defaultDate:[K.value.start,K.value.end],maxDate:"2025-12-31",showMonths:2,locale:{rangeSeparator:" al ",firstDayOfWeek:1,months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}},noCalendar:!1,enableTime:!1,wrap:!0}},null,8,["modelValue","config"])]),_:1})]),_:1})]),_:1}),a(s,{cols:"12"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Pl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(Oa,{id:"descripcionCampania",modelValue:oe.value,"onUpdate:modelValue":l[7]||(l[7]=o=>oe.value=o),placeholder:"Ingrese una descripci\xF3n para la campa\xF1a","persistent-placeholder":"",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(s,{cols:"12",md:"6"},{default:t(()=>[a(C,{class:"h-100"},{default:t(()=>[a(ee,{class:"pa-4"},{default:t(()=>[a(ae,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:t(()=>[f(" Configuraci\xF3n de Contenido ")]),_:1})]),_:1}),a(A,null,{default:t(()=>[a(v,{class:"pb-5"},{default:t(()=>[a(s,{cols:"12",class:F(z.value=="imagen"?"d-none":"")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Rl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(Oa,{label:"C\xF3digo",modelValue:he.value,"onUpdate:modelValue":l[8]||(l[8]=o=>he.value=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"]),a(s,{cols:"12",class:F(z.value!="imagen"?"d-none":"")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Nl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(L,{id:"link",modelValue:_e.value,"onUpdate:modelValue":l[9]||(l[9]=o=>_e.value=o),placeholder:"Link del ads","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"]),a(s,{cols:"6",class:F(z.value!="imagen"?"d-none":"")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"6",md:"12"},{default:t(()=>[Cl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(L,{id:"linkImageEscritorio",modelValue:ge.value,"onUpdate:modelValue":l[10]||(l[10]=o=>ge.value=o),placeholder:"Link imagen de escritorio","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"]),a(s,{cols:"6",class:F(z.value!="imagen"?"d-none":"")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"6",md:"12"},{default:t(()=>[Al]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(L,{id:"linkImageEscritorio",modelValue:Ve.value,"onUpdate:modelValue":l[11]||(l[11]=o=>Ve.value=o),placeholder:"Link imagen de m\xF3vil","persistent-placeholder":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1})]),_:1}),a(s,{cols:"12"},{default:t(()=>[a(C,null,{default:t(()=>[a(ee,{class:"pa-4"},{default:t(()=>[a(ae,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:t(()=>[f(" Visibilidad en la web ")]),_:1})]),_:1}),a(Il,null,{default:t(()=>[a(I,{size:"20",icon:"mdi-info"}),f(" Cambiar la posici\xF3n puede afectar la lectura de las m\xE9tricas en una campa\xF1a ya existente. ")]),_:1}),a(A,null,{default:t(()=>[a(v,null,{default:t(()=>[a(s,{cols:"6"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Fl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(de,{modelValue:D.value,"onUpdate:modelValue":[l[12]||(l[12]=o=>D.value=o),Xe],items:$a.value,chips:"",clearable:"",label:""},null,8,["modelValue","items"])]),_:1}),D.value==="other"?(_(),U(s,{key:0,cols:"12",md:"12",class:"mt-2"},{default:t(()=>[a(L,{modelValue:ye.value,"onUpdate:modelValue":l[13]||(l[13]=o=>ye.value=o),label:"URL espec\xEDfico",placeholder:"https://www.ecuavisa.com/mi-url","hide-details":""},null,8,["modelValue"])]),_:1})):ce("",!0)]),_:1})]),_:1}),a(s,{cols:"6"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[$l]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(Se,{modelValue:$.value,"onUpdate:modelValue":l[14]||(l[14]=o=>$.value=o),multiple:"",chips:"",items:Ja,variant:"outlined",label:"","persistent-hint":"","search-input":qe.value,"onUpdate:search-input":l[15]||(l[15]=o=>qe.value=o),"hide-selected":"","hide-no-data":!1,hint:""},null,8,["modelValue","search-input"])]),_:1})]),_:1})]),_:1}),Qe.value?(_(),U(s,{key:0,cols:"12"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[jl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[u("div",Hl,[a(O,{modelValue:m.value,"onUpdate:modelValue":l[16]||(l[16]=o=>m.value=o),label:"Solo p\xE1gina de categor\xEDa",value:"landing",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),a(O,{modelValue:m.value,"onUpdate:modelValue":l[17]||(l[17]=o=>m.value=o),label:"Notas en ra\xEDz",value:"root",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),a(O,{modelValue:m.value,"onUpdate:modelValue":l[18]||(l[18]=o=>m.value=o),label:"Notas con subsecci\xF3n",value:"subsection",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),a(O,{modelValue:m.value,"onUpdate:modelValue":l[19]||(l[19]=o=>m.value=o),label:"Toda la categor\xEDa",value:"all",disabled:e.urlEnabled},null,8,["modelValue","disabled"]),u("div",Bl,[a(O,{modelValue:e.urlEnabled,"onUpdate:modelValue":[l[20]||(l[20]=o=>e.urlEnabled=o),Fa],label:"URL espec\xEDfica"},null,8,["modelValue"]),e.urlEnabled?(_(),U(L,{key:0,modelValue:Q.value,"onUpdate:modelValue":l[21]||(l[21]=o=>Q.value=o),label:"URL espec\xEDfica",placeholder:"https://ejemplo.com/seccion/subseccion",class:"flex-grow-1","hide-details":""},null,8,["modelValue"])):ce("",!0)])])]),_:1})]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),a(s,{cols:"12",disabled:""},{default:t(()=>[a(C,null,{default:t(()=>[a(ee,{class:"pa-4"},{default:t(()=>[a(ae,{color:"primary",label:"",size:"large",class:"px-4 py-2 text-uppercase"},{default:t(()=>[f(" Target / Usuarios ")]),_:1})]),_:1}),a(A,null,{default:t(()=>[u("div",ql,[a(Ul,{modelValue:J.value,"onUpdate:modelValue":l[22]||(l[22]=o=>J.value=o),color:"primary",label:"Modo Personalizado","hide-details":"",disabled:""},null,8,["modelValue"])]),J.value?(_(),U(v,{key:1},{default:t(()=>[a(s,{cols:"12"},{default:t(()=>[a(Ae,{modelValue:c.value.show,"onUpdate:modelValue":l[35]||(l[35]=o=>c.value.show=o),color:c.value.color,timeout:2e3,location:"top"},{default:t(()=>[f(g(c.value.text),1)]),_:1},8,["modelValue","color"]),a(v,{justify:"space-between",class:"mb-4"},{default:t(()=>[a(s,{cols:"4"},{default:t(()=>[a(L,{"append-inner-icon":"tabler-user-search",onInput:e.filtrarUsuarios,modelValue:Le.value,"onUpdate:modelValue":l[36]||(l[36]=o=>Le.value=o),label:"Buscar usuarios dentro del listado",density:"compact",disabled:!le(xe)},null,8,["onInput","modelValue","disabled"])]),_:1}),a(s,{cols:"auto"},{default:t(()=>[u("div",ut,[a(x,{color:"info",onClick:vl,size:"small",disabled:!le(xe)},{default:t(()=>[f(" Descargar Usuarios"),a(I,{end:"",icon:"tabler-download"})]),_:1},8,["disabled"]),a(x,{disabled:"",color:"success",onClick:Qa,size:"small"},{default:t(()=>[f(" A\xF1adir usuarios"),a(I,{end:"",icon:"mdi-account-plus"})]),_:1}),a(x,{disabled:"",color:"primary",onClick:cl,size:"small",loading:il.value},{default:t(()=>[f(" Importar CSV"),a(I,{end:"",icon:"mdi-file-upload"})]),_:1},8,["loading"]),u("input",{disabled:"",ref_key:"fileInput",ref:we,type:"file",accept:".csv",style:{display:"none"},onChange:oa},null,544)])]),_:1})]),_:1}),a(s,{cls:"12"},{default:t(()=>[a(I,{size:"20",icon:"mdi-info"}),f(" Usuarios con cuenta existente en la web. ")]),_:1}),le(xe)?(_(),B("div",it,[a(Da,{lines:"two"},{default:t(()=>[(_(!0),B(Fe,null,$e(le(dl),o=>(_(),U(Ma,{key:o.wylexId,border:""},{append:t(()=>[a(x,{disabled:"",icon:"",size:"x-small",color:"error",variant:"text",onClick:d=>e.handleDeleteUser(o.wylexId)},{default:t(()=>[a(I,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])]),default:t(()=>[a(Ea,null,{default:t(()=>[f(g(o.firstname||o.first_name)+" "+g(o.lastname||o.last_name),1)]),_:2},1024),a(Ya,{class:"mt-1"},{default:t(()=>[u("span",nt,g(o.email),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),u("div",dt,[a(x,{variant:"tonal",onClick:l[37]||(l[37]=o=>ie.value--),disabled:ie.value<=1,size:"small",color:"primary"},{default:t(()=>[a(I,{start:"",icon:"tabler-arrow-left"}),f(" Anterior ")]),_:1},8,["disabled"]),a(x,{variant:"tonal",onClick:l[38]||(l[38]=o=>ie.value++),disabled:ie.value>=le(nl),size:"small",color:"primary",class:"ms-3"},{default:t(()=>[f(" Siguiente "),a(I,{end:"",icon:"tabler-arrow-right"})]),_:1},8,["disabled"])])])):(_(),B("div",ct,mt)),a(Ce,{modelValue:aa.value,"onUpdate:modelValue":l[40]||(l[40]=o=>aa.value=o),"max-width":"800px"},{default:t(()=>[a(C,null,{default:t(()=>[a(ee,null,{default:t(()=>[f("Buscar Usuarios")]),_:1}),a(A,null,{default:t(()=>[a(L,{modelValue:w.value,"onUpdate:modelValue":l[39]||(l[39]=o=>w.value=o),onInput:la,label:"Buscar por nombre, correo o tel\xE9fono (m\xEDnimo 4 caracteres)","append-inner-icon":"tabler-search",loading:ze.value},null,8,["modelValue","loading"]),E.value.length>0?(_(),U(Sa,{key:0},{default:t(()=>[ft,u("tbody",null,[(_(!0),B(Fe,null,$e(E.value,o=>(_(),B("tr",{key:o.wylexId},[u("td",null,g(o.first_name)+" "+g(o.last_name),1),u("td",null,g(o.email),1),u("td",null,[a(x,{size:"small",color:"primary",onClick:d=>ta(o),loading:ul.value},{default:t(()=>[f(" Agregar ")]),_:2},1032,["onClick","loading"])])]))),128))])]),_:1})):ce("",!0)]),_:1}),a(kl,null,{default:t(()=>[a(Dl),a(x,{color:"primary",text:"",onClick:e.closeSearchDialog},{default:t(()=>[f(" Cerrar ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(_(),U(v,{key:0},{default:t(()=>[a(s,{cols:"9"},{default:t(()=>[Wl,a(Sa,{density:"compact",class:"border-transparent mb-4"},{default:t(()=>[u("tbody",null,[u("tr",null,[u("td",Jl,[a(O,{disabled:"",modelValue:h.value,"onUpdate:modelValue":l[23]||(l[23]=o=>h.value=o),label:N[0].title,value:N[0].value},null,8,["modelValue","label","value"])]),u("td",Gl,[a(O,{disabled:"",modelValue:h.value,"onUpdate:modelValue":l[24]||(l[24]=o=>h.value=o),label:N[1].title,value:N[1].value},null,8,["modelValue","label","value"])])]),u("tr",null,[u("td",Ql,[a(O,{disabled:"",modelValue:h.value,"onUpdate:modelValue":l[25]||(l[25]=o=>h.value=o),label:N[2].title,value:N[2].value},null,8,["modelValue","label","value"])]),u("td",Xl,[a(O,{disabled:"",modelValue:h.value,"onUpdate:modelValue":l[26]||(l[26]=o=>h.value=o),label:N[3].title,value:N[3].value},null,8,["modelValue","label","value"])])])])]),_:1}),a(s,{cols:"12",class:F(h.value.includes("metadatos")?"":"d-none")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Zl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(Se,{disabled:"",modelValue:R.value,"onUpdate:modelValue":l[27]||(l[27]=o=>R.value=o),multiple:"",chips:"",items:We.value,variant:"outlined",label:"","persistent-hint":"","menu-props":{maxHeight:"300"},"search-input":Je.value,"onUpdate:search-input":l[28]||(l[28]=o=>Je.value=o),"hide-selected":"","hide-no-data":!1,hint:""},null,8,["modelValue","items","search-input"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),a(s,{cols:"12",class:F(h.value.includes("trazabilidads")?"":"d-none")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"6"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[Kl]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(Se,{disabled:"",modelValue:P.value,"onUpdate:modelValue":l[29]||(l[29]=o=>P.value=o),items:De.value,class:"pr-1",chips:"",clearable:"","menu-props":{maxHeight:"300"}},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),a(s,{cols:"6"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[et]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(Se,{disabled:"",modelValue:S.value,"onUpdate:modelValue":l[30]||(l[30]=o=>S.value=o),multiple:"",chips:"",items:W.value,"search-input":Ge.value,"onUpdate:search-input":l[31]||(l[31]=o=>Ge.value=o),"hide-no-data":!1,"menu-props":{maxHeight:"300"},class:"custom-combobox-ciudad"},null,8,["modelValue","items","search-input","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),a(s,{cols:"12",class:F(h.value.includes("dispositivos")?"":"d-none")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[at]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(de,{disabled:"",modelValue:X.value,"onUpdate:modelValue":l[32]||(l[32]=o=>X.value=o),items:ja.value,"item-title":"title","item-value":"value",class:"pr-1",multiple:"",clearable:""},{selection:t(({item:o})=>[a(ae,null,{default:t(()=>[a(Ta,null,{default:t(()=>[a(I,{color:"",icon:o.raw.avatar},null,8,["icon"])]),_:2},1024),u("span",null,g(o.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"]),a(s,{cols:"12",class:F(h.value.includes("plataforma")?"":"d-none")},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"6 pt-2"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[lt]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(de,{disabled:"",modelValue:se.value,"onUpdate:modelValue":l[33]||(l[33]=o=>se.value=o),items:Ba.value,"item-title":"title","item-value":"value",class:"pr-1",multiple:"",clearable:""},{selection:t(({item:o})=>[a(ae,null,{default:t(()=>[a(Ta,null,{default:t(()=>[a(I,{color:"",icon:o.raw.avatar},null,8,["icon"])]),_:2},1024),u("span",null,g(o.title),1)]),_:2},1024)]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),a(s,{cols:"6 pt-2"},{default:t(()=>[a(v,{"no-gutters":""},{default:t(()=>[a(s,{cols:"12",md:"12"},{default:t(()=>[tt]),_:1}),a(s,{cols:"12",md:"12"},{default:t(()=>[a(de,{disabled:"",modelValue:Z.value,"onUpdate:modelValue":l[34]||(l[34]=o=>Z.value=o),items:Ha.value,"item-title":"title","item-value":"value",class:"pr-1",chips:"",multiple:"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1}),a(s,{cols:"3"},{default:t(()=>[a(C,{class:"bg-light-success"},{default:t(()=>[a(A,null,{default:t(()=>[ot,u("div",st,[a(I,{size:"32",icon:"mdi-account-group",color:"success",class:"me-2"}),u("div",null,[u("div",rt,g(le(Za)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),a(x,{class:"save-button",color:"success",icon:"mdi-check",size:"large",onClick:tl,style:{position:"fixed",bottom:"2rem",right:"2rem"}},{default:t(()=>[a(I,{icon:"tabler-device-floppy"})]),_:1}),a(Ce,{modelValue:me.value,"onUpdate:modelValue":[l[43]||(l[43]=o=>me.value=o),l[44]||(l[44]=o=>o===!1&&(w.value="",E.value=[]))],"max-width":"800",persistent:!1},{default:t(()=>[a(C,null,{default:t(()=>[a(ee,{class:"d-flex justify-space-between align-center pa-4"},{default:t(()=>[f(" Buscar usuarios "),a(x,{icon:"mdi-close",variant:"text",onClick:l[41]||(l[41]=o=>me.value=!1)})]),_:1}),a(A,null,{default:t(()=>[a(L,{modelValue:w.value,"onUpdate:modelValue":l[42]||(l[42]=o=>w.value=o),label:"Buscar por nombre o email (m\xEDnimo 4 caracteres)","prepend-inner-icon":"mdi-magnify",loading:ze.value,clearable:"",class:"mb-4",onInput:la},null,8,["modelValue","loading"]),E.value.length>0?(_(),U(Da,{key:0,lines:"two"},{default:t(()=>[(_(!0),B(Fe,null,$e(E.value,o=>(_(),U(Ma,{key:o.wylexId,border:""},{append:t(()=>[a(x,{color:"primary",size:"small",onClick:d=>ta(o)},{default:t(()=>[f(" Agregar ")]),_:2},1032,["onClick"])]),default:t(()=>[a(Ea,null,{default:t(()=>[f(g(o.first_name)+" "+g(o.last_name),1)]),_:2},1024),a(Ya,{class:"mt-1"},{default:t(()=>[u("span",pt,g(o.email),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):w.value&&!ze.value&&w.value.length>=4?(_(),U(za,{key:1,type:"info",class:"mt-4"},{default:t(()=>[f(" No se encontraron resultados ")]),_:1})):w.value&&w.value.length<4?(_(),U(za,{key:2,type:"info",class:"mt-4"},{default:t(()=>[f(" Ingresa al menos 4 caracteres para buscar ")]),_:1})):ce("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),u("input",{ref_key:"fileInput",ref:we,type:"file",accept:".csv",style:{display:"none"},onChange:oa},null,544),a(Ae,{modelValue:c.value.show,"onUpdate:modelValue":l[45]||(l[45]=o=>c.value.show=o),color:c.value.color,timeout:2e3,location:"top"},{default:t(()=>[f(g(c.value.text),1)]),_:1},8,["modelValue","color"])])}}};export{kt as default};
