import{R as Ha,S as Ba,U as Ga,r as d,as as Ja,Q as De,v as Tl,z as Hl,o as m,x as b,u as i,a3 as x,a as e,w as o,q as V,t as f,f as Ka,V as S,e as p,L as Bl,h as Ae,b as n,F as P,C as Q,N as w,l as Qa,m as Ul,c7 as Wa,i as h,n as y,p as _,c as k,bC as al,b1 as Gl,Z as ol,$ as Y,a0 as tl,a2 as U,aW as Xa,aM as Jl,aT as il,aU as sl,aV as nl,a1 as Re,g as Kl,aR as Za,aQ as eo,b3 as lo,b4 as ao,b5 as oo,b6 as to,aX as io}from"./index.88d3c7f5.js";/* empty css              */import{V as so}from"./VFileInput.692026a8.js";import{V as Ql}from"./VBadge.0df54a63.js";import{p as ul}from"./parseISO.d0bde0b5.js";const no={key:0,id:"overlay"},uo=["onClick"],ro={class:"stepper-title"},co={key:0},vo=n("h6",{class:"text-h6 font-weight-medium"},"Crear el curso",-1),mo={key:0},po=["src"],fo=n("small",{class:"text-disabled"},"El tama\xF1o m\xE1x de imagen es 1MB.",-1),go={key:1},ho={key:0,class:"px-4 mb-6"},_o={class:"nombre-desafio d-flex flex-column"},bo={class:"d-flex"},Vo=n("small",null,"Video",-1),Co={class:"text-disabled"},xo={class:"p-0"},yo=n("b",null,"_id:",-1),wo={class:"text-xs text-disabled"},ko={class:"content-items d-flex"},Mo={class:"content-video"},Lo=["href"],Eo={class:"content-time pl-3"},To=n("b",null,"Duraci\xF3n: ",-1),Uo={class:"content-time pl-3"},jo=n("b",null,"Categor\xEDa: ",-1),Po={class:"espacio-right-2"},Io={class:"d-flex align-center justify-space-between botonescurrentPage"},zo={class:"text-h6 font-weight-medium"},$o={class:"d-flex gap-2"},Do={key:2},Ro={key:0,class:"mb-2"},Oo=n("thead",null,[n("tr",null,[n("th",{scope:"col"},"T\xEDtulo"),n("th",{scope:"col"},"Descripci\xF3n"),n("th",{scope:"col"},"Acciones")])],-1),So={class:"text-medium-emphasis"},Yo={class:"text-medium-emphasis"},qo={class:"text-medium-emphasis"},Fo={class:"d-flex align-center justify-space-between botonescurrentPage"},No={class:"text-h6 font-weight-medium"},Ao={class:"d-flex gap-2"},Ho=n("p",null,[n("h4",null,"Ingrese los Tags")],-1),Bo={class:"d-flex flex-wrap gap-1 items-center mb-2"},Go=n("p",{class:"my-1"},[n("h5",null,"Tags: ")],-1),Jo={class:"d-flex flex-nowrap gap-2 items-center mb-2"},Ko=n("div",{class:"d-flex align-content-end flex-wrap"},[n("h4",null,"Preguntas")],-1),Qo={cols:"12",class:"w-100 my-4 item-cards"},Wo=n("div",{class:"d-flex align-content-end flex-wrap"},[n("h4",null,"Opciones")],-1),Xo={cols:"12"},Zo={key:3},et={key:0,class:"px-2 mb-6"},lt={class:"nombre-desafio d-flex flex-column"},at={class:"d-flex"},ot=n("small",null,"M\xF3dulo",-1),tt={class:"text-disabled"},it={class:"p-0"},st=n("b",null,"_id:",-1),nt={class:"mr-2"},ut={class:"espacio-right-2"},dt={class:"d-flex align-center justify-space-between botonescurrentPage"},rt={class:"text-h6 font-weight-medium"},ct={class:"d-flex gap-2"},vt=n("span",{class:"ms-4"},"Video",-1),mt={class:"text-xs text-disabled"},pt={class:"btn-order",style:{}},ft=n("h6",{class:"text-h6 font-weight-medium"},"M\xF3dulos educativos del curso",-1),gt=n("span",{class:"ms-4"},"M\xF3dulo",-1),ht={class:"text-xs text-disabled"},_t={class:"btn-order",style:{}},bt={key:4},Vt=n("h6",{class:"text-h6 font-weight-medium"},"Cuestionario final del curso",-1),Ct={class:"curso_titulo"},xt={class:"modulo_titulo ml-4 mr-auto"},yt={class:"modulo_descripcion ml-4 mr-auto texto-subtitulos"},wt=n("h5",null,"Complete todos los items",-1),kt={class:"d-flex flex-column gap-2 px-4 py-4"},Mt={class:"ml-1"},Lt=n("span",{class:"texto-descripcion"},"Ver",-1),Et={class:"d-flex flex-column gap-2 px-4 py-2"},Tt={class:"d-flex"},Ut=n("div",{class:"icon-svg-title svg-verde"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[n("path",{d:"M96 80c0-26.5 21.5-48 48-48H432c26.5 0 48 21.5 48 48V384H96V80zm313 47c-9.4-9.4-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L409 161c9.4-9.4 9.4-24.6 0-33.9zM0 336c0-26.5 21.5-48 48-48H64V416H512V288h16c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V336z"})])],-1),jt={class:"ml-2"},Pt={class:"d-flex"},It={class:"texto-descripcion"},zt={class:"ml-auto texto-descripcion"},$t={class:"container-cuestionario-final mt-4"},Dt={class:"d-flex flex-column gap-2 px-4 pt-4 pb-6"},Rt={class:"d-flex"},Ot=n("div",{class:"icon-svg-title svg-verde"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[n("path",{d:"M96 80c0-26.5 21.5-48 48-48H432c26.5 0 48 21.5 48 48V384H96V80zm313 47c-9.4-9.4-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L409 161c9.4-9.4 9.4-24.6 0-33.9zM0 336c0-26.5 21.5-48 48-48H64V416H512V288h16c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V336z"})])],-1),St={class:"ml-2"},Yt={class:"d-flex"},qt={class:"texto-descripcion"},Ft={class:"ml-auto texto-descripcion"},Kt={__name:"index",setup(Nt){const Te=Ha.exports.extendMoment(Ba);Te.locale("es",[Ga]);const z=d(0),jl=[{title:"Crear curso",icon:"tabler-certificate"},{title:"Crear video",icon:"tabler-video"},{title:"Crear cuestionario",icon:"tabler-clipboard-text"},{title:"Crear m\xF3dulo",icon:"tabler-file"},{title:"Cuestionario Final",icon:"tabler-clipboard-text"}];function q(t){const l=Array.isArray(t)?[]:{};for(let u in t){const s=t[u];l[u]=s!==null&&typeof s=="object"?q(s):s}return l}const Pl=d(!1),Wl=d(!1);var He=[];const Xl=d(""),Zl=d(!1),ea=d(null),dl=d(!0),la=[t=>!t||!t.length||t[0].size<=1e6||"La imagen no debe superar a 1 MB!"];d(!1);const Be=d(!1),Ge=d(!1),Je=Te().format("YYYY-MM-DD"),rl=Te().format("DD-MM-YYYY"),M=d({fechasModel:[ul(Je),ul(Je)],fechasVModel:[ul(Je)],fechasVConfig:{position:"auto right",mode:"single",minDate:ul(Je),altFormat:"d F j, Y",dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0},fechai:rl,fechaV:rl,fechaf:rl}),ve=d([]),ie=d([]),I=d([]),Ke=d(null),cl=d(!1),me=d(null),vl=d([]),W=d(null),F=d([]),ye=d(null),Qe=d(!1),N=d(null),ml=d([]),pe=d(""),fe=d(""),ge=d(""),Ue=d(""),we=d(null),he=d(null),ke=d([]),je=d(!0),L=d({message:"Datos guardados",type:"success",model:!1}),pl=d([]),fl=d([]);Ja(async()=>{await gl(),await hl(),await Il(),await _l(),await $l(),await ca()});async function gl(){try{Ge.value=!0;var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"},u=await fetch("https://estadisticas.ecuavisa.com/sites/gestor/Tools/elearning/etiqueta/listar.php",l);const s=await u.json();pl.value=s,Ge.value=!1}catch(s){return console.error(s.message)}}async function hl(){try{Be.value=!0;var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"},u=await fetch("https://estadisticas.ecuavisa.com/sites/gestor/Tools/elearning/categoria/listar.php",l);const s=await u.json();fl.value=s,Be.value=!1}catch(s){return console.error(s.message)}}async function Il(){try{cl.value=!0;var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"},u=await fetch("https://servicio-elearning.vercel.app/modulo/select?limit=200&page=1",l);const s=await u.json();Nl.value=s.data.reduce((r,a)=>(r.push({title:`${a.titulo}`,value:a._id}),r),[]),ie.value=q(Nl.value),ze.value=q(s.data),vl.value=ie.value,cl.value=!1}catch(s){return console.error(s.message)}}async function _l(t=1,l=10){try{Qe.value=!0;var u=new Headers;u.append("Content-Type","application/json");var s={method:"GET",headers:u,redirect:"follow"},r=await fetch("https://e-learning-cuestionario.vercel.app/cuestionarios/all/get",s);const a=await r.json();Ol.value=a.data.reduce((c,v)=>(c.push({title:`${v.titulo}`,value:v._id}),c),[]),F.value=q(Ol.value),de.value=q(a.data),ml.value=F.value,Qe.value=!1}catch(a){return console.error(a.message)}}function aa(t,l){l.sort((s,r)=>s.posicion-r.posicion);let u=[];for(let s=0;s<l.length;s++){let r=t.find(a=>a===l[s]._id);r&&u.push({title:l[s].titulo,value:r})}return u}function oa(){const t=ie.value,l=ve.value;if(I.value.length<l.length)for(var u in t)l[l.length-1]==t[u].value&&I.value.push(t[u]);if(I.value.length>l.length){const r=I.value.filter(a=>!l.includes(a.value));for(var s in r)for(var u in I.value)if(r[s].value==I.value[u].value){I.value.splice(u,1);break}}}De(async()=>ve.value,async()=>{ve.value&&oa()});function zl(t,l){const u=I.value,s=u.findIndex(r=>r.value===t);if(s===-1){console.log("El valor especificado no se encontr\xF3 en la lista.");return}if(l==="arriba"&&s>0)[u[s],u[s-1]]=[u[s-1],u[s]];else if(l==="abajo"&&s<u.length-1)[u[s],u[s+1]]=[u[s+1],u[s]];else{console.log("La direcci\xF3n especificada es inv\xE1lida o el elemento est\xE1 en el extremo de la lista.");return}}function ta(t,l,u){t.length>1&&(M.value.fechai=Te(t[0]).format("DD-MM-YYYY"),M.value.fechaf=Te(t[1]).format("DD-MM-YYYY")),t.length==2&&(M.value.fechasVConfig.minDate=t[1],M.value.fechasVModel=[t[1]])}function ia(t,l,u){t.length>0&&(M.value.fechaV=Te(t[0]).format("DD-MM-YYYY"))}De(async()=>N.value,async()=>{N.value?F.value=ml.value.filter(t=>t.title.toLowerCase().indexOf(N.value.toLowerCase())>-1||t.value.indexOf(N.value)>-1):F.value=ml.value}),De(ye,t=>{t||setTimeout(()=>{N.value=""},1e3)}),De(async()=>me.value,async()=>{me.value?ie.value=vl.value.filter(t=>t.title.toLowerCase().indexOf(me.value.toLowerCase())>-1||t.value.indexOf(me.value)>-1):ie.value=vl.value}),De(Ke,t=>{t||setTimeout(()=>{me.value=""},1e3)});function bl(){const t=I.value,l=[];return t.forEach((u,s)=>{l.push({value:u.value,posicion:s})}),l}const sa=()=>{Pl.value=!0},na=t=>{const l=t.target.files;dl.value=!0;const u=1,s=u*1024*1024;for(let r of l){if(r.size>s)return L.value={message:`El archivo ${r.name} excede el tama\xF1o m\xE1ximo de ${u}MB.`,type:"error",model:!0},ke.value=[],dl.value=!1,!1;if(r.type!=="image/jpeg")return L.value={message:`El archivo ${r.name} debe ser un JPG v\xE1lido`,type:"error",model:!0},ke.value=[],dl.value=!1,!1}He=Array.from(l),console.log(He),Zl.value=!0},Vl=d(null),Cl=d(null),A=d([]);d("");const ua=d(""),$=d([]),xl=d(!1),D=d(null),j=d([]),X=d(null);d(null);const _e=d([]),da=d([]);async function $l(){try{xl.value=!0;var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"},u=await fetch("https://servicio-elearning.vercel.app/video/all?limit=200&page=1",l);const s=await u.json();Yl.value=s.data.reduce((r,a)=>(r.push({title:`${a.titulo}`,value:a._id}),r),[]),_e.value=q(Yl.value),Ie.value=q(s.data),da.value=_e.value,xl.value=!1}catch(s){return console.error(s.message)}}function ra(){const t=_e.value,l=$.value;if(j.value.length<l.length)for(var u in t)l[l.length-1]==t[u].value&&j.value.push(t[u]);if(j.value.length>l.length){const r=j.value.filter(a=>!l.includes(a.value));console.log("elementosFaltantes ",r);for(var s in r)for(var u in j.value)if(r[s].value==j.value[u].value){j.value.splice(u,1);break}}}De(async()=>$.value,async()=>{$.value&&ra()});function Dl(t,l){const u=j.value,s=u.findIndex(r=>r.value===t);if(s===-1){console.log("El valor especificado no se encontr\xF3 en la lista.");return}if(l==="arriba"&&s>0)[u[s],u[s-1]]=[u[s-1],u[s]];else if(l==="abajo"&&s<u.length-1)[u[s],u[s+1]]=[u[s+1],u[s]];else{console.log("La direcci\xF3n especificada es inv\xE1lida o el elemento est\xE1 en el extremo de la lista.");return}}function We(){const t=j.value,l=[];return t.forEach((u,s)=>{l.push({value:u.value,posicion:s})}),l}const Z=d(""),ee=d(""),H=d(""),se=d(""),B=d(null),le=d(null),Pe=d("https://estadisticas.ecuavisa.com/sites/gestor/Recursos/ecuavisa.com.jpg");async function ca(){try{var t=new Headers;t.append("Content-Type","application/json");var l={method:"GET",headers:t,redirect:"follow"},u=await fetch("https://servicio-elearning.vercel.app/video/all?limit=200&page=1",l);const s=await u.json()}catch(s){return console.error(s.message)}}const R=d(""),ae=d(""),E=d([]),O=d(null),oe=d(""),te=d(null),ne=d([{pregunta:"",puntaje:null,respuesta:"",opciones:["",""]}]),be=d("");function va(){E.value.push(be.value),be.value=""}function ma(t){E.value.splice(t,1),be.value=""}function pa(){E.value=[],be.value=""}function fa(t){if(t.length===0)return!1;for(let l=0;l<t.length;l++){const u=t[l];if(!u.pregunta||u.pregunta.trim()===""||u.puntaje===null||!u.respuesta||u.respuesta.trim()===""||!u.opciones||u.opciones.length<2||u.opciones.filter(r=>r&&r.trim()!=="").length<2)return!1}return!0}function ga(){let t={pregunta:"",puntaje:null,respuesta:"",opciones:["",""]};ne.value.push(t)}function ha(t){let l="";ne.value[t].opciones.push(l)}function _a(t){ne.value.splice(t,1)}function ba(t,l){ne.value[t].opciones.splice(l,1)}function Va(t,l){return t.filter(s=>l.includes(s.value)).map(s=>s.value)}const Rl=new Set;function yl(t){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=l.length;let s;do{let r="";for(let a=0;a<t;a++)r+=l.charAt(Math.floor(Math.random()*u));s=r}while(Rl.has(s));return Rl.add(s),s}function ue(t,l,u){if(!Array.isArray(t)){console.error("El valor proporcionado no es un array.");return}for(let s=t.length-1;s>=0;s--)t[s][l]===u&&t.splice(s,1)}const Ol=d([]),de=d([]),G=d([]),Oe=d("add"),Se=d(""),wl=d("");function Sl(){R.value="",ae.value="",E.value=[],O.value=null,oe.value="",te.value=null,ne.value=[{pregunta:"",puntaje:null,respuesta:"",opciones:["",""]}],be.value=""}function Ca(t){Oe.value="edit",Se.value=t;const l=de.value.find(u=>u._id==t);wl.value=l.titulo,R.value=l.titulo,E.value=l.tags,ae.value=l.descripcion,O.value=l.puntosNecesarios,ne.value=l.preguntas,oe.value=l.fechaLimite,te.value=l.limiteTiempo}function xa(){Oe.value="add",Se.value="",wl.value="",Sl()}function ya(t){A.value==t&&(A.value=null),W.value==t&&(W.value=null),ue(de.value,"_id",t),ue(F.value,"value",t),ue(G.value,"_id",t),console.log("cuestionariosFull on elim",de.value),console.log("cuestionariosGeneradosLocal on elim",G.value),console.log("dataCuestionarioItems on elim",F.value)}function wa(){let t=ne.value,l=R.value;if(!Array.isArray(E.value)&&E.value!=null&&E.value!=""&&(E.value=[E.value]),!fa(t)||!l||l==""||!ae.value||E.value.length==0||O.value==null||oe.value==""||te.value==null)return L.value={message:"Debe llenar todos los campos del cuestionario",type:"error",model:!0},!1;O.value=parseInt(O.value);var u=t.map(r=>({...r,puntaje:parseInt(r.puntaje)}));if(Me.value=="add"){var s=yl(10);de.value.push({_id:s,titulo:R.value,descripcion:ae.value,tags:E.value,puntosNecesarios:O.value,preguntas:u,fechaLimite:oe.value,limiteTiempo:te.value}),F.value.push({title:R.value,value:s}),G.value.push({_id:s,titulo:R.value,descripcion:ae.value,tags:E.value,puntosNecesarios:O.value,preguntas:u,fechaLimite:oe.value,limiteTiempo:te.value})}else{const r=de.value.find(v=>v._id==Se.value);r.titulo=R.value,r.descripcion=ae.value,r.tags=E.value,r.puntosNecesarios=O.value,r.preguntas=u,r.fechaLimite=oe.value,r.limiteTiempo=te.value;const a=F.value.find(v=>v.value==Se.value);a.title=R.value;const c=G.value.find(v=>v._id==Se.value);c.titulo=R.value,c.descripcion=ae.value,c.tags=E.value,c.puntosNecesarios=O.value,c.preguntas=u,c.fechaLimite=oe.value,c.limiteTiempo=te.value}Oe.value="add",console.log("cuestionariosFull",de.value),console.log("cuestionariosGeneradosLocal",G.value),console.log("cuestionarioItems",F.value),Sl()}const Xe=5,Ve=d(1),ka=Tl(()=>{const t=(Ve.value-1)*Xe,l=t+Xe;return G.value.slice(t,l)}),Ma=()=>{Ve.value*Xe<G.value.length&&Ve.value++},La=()=>{Ve.value>1&&Ve.value--},Yl=d([]),Ie=d([]),re=d([]),Me=d("add"),Ye=d(""),kl=d("");function ql(){Z.value=null,ee.value=null,H.value="",se.value="",B.value=null,le.value=null}function Ea(t){Me.value="edit",Ye.value=t;const l=Ie.value.find(u=>u._id==t);kl.value=l.titulo,Z.value=l.idRudo,ee.value=l.duracion,H.value=l.categoria,se.value=l.etiquetas,B.value=l.titulo,Pe.value=l.thumbnail,le.value=l.descripcion}function Ta(){Me.value="add",Ye.value="",kl.value="",ql()}function Ua(t){ue(Ie.value,"_id",t),ue(_e.value,"value",t),ue(re.value,"_id",t),$.value=[],j.value=[]}function ja(){if(!H.value||!Z.value||!le.value||!Pe.value||!ee.value)return L.value={message:"Llenar todos los campos para crear el video",type:"error",model:!0},!1;if(Me.value=="add"){var t=yl(10);Ie.value.push({_id:t,titulo:B.value,descripcion:le.value,idRudo:Z.value,thumbnail:Pe.value,duracion:ee.value,categoria:H.value,etiquetas:se.value}),_e.value.push({title:B.value,value:t}),re.value.push({_id:t,titulo:B.value,descripcion:le.value,idRudo:Z.value,thumbnail:Pe.value,duracion:ee.value,categoria:H.value,etiquetas:se.value})}else{const l=Ie.value.find(r=>r._id==Ye.value);l.titulo=B.value,l.descripcion=le.value,l.idRudo=Z.value,l.thumbnail=Pe.value,l.duracion=ee.value,l.categoria=H.value,l.etiquetas=se.value;const u=_e.value.find(r=>r.value==Ye.value);u.title=B.value;const s=re.value.find(r=>r._id==Ye.value);s.titulo=B.value,s.descripcion=le.value,s.idRudo=Z.value,s.thumbnail=Pe.value,s.duracion=ee.value,s.categoria=H.value,s.etiquetas=se.value}Me.value="add",ql()}const Ze=5,Ce=d(1),Fl=Tl(()=>{const t=(Ce.value-1)*Ze,l=t+Ze;return re.value.slice(t,l)}),Pa=()=>{Ce.value*Ze<re.value.length&&Ce.value++},Ia=()=>{Ce.value>1&&Ce.value--},Nl=d([]),ze=d([]),J=d([]),$e=d("add"),qe=d(""),Ml=d("");function Al(){D.value=null,A.value=null,X.value=null,$.value=[],j.value=[]}function za(t){$e.value="edit",qe.value=t;const l=ze.value.find(u=>u._id===t);Ml.value=l.titulo,D.value=l.titulo,A.value=l.idCuestionario,X.value=l.descripcion,$.value=Va(_e.value,l.videos.reduce((u,s)=>(u.push(s.value),u),[])),j.value=aa($.value,l.videos)}function $a(){$e.value="add",qe.value="",Ml.value="",Al()}function Da(t){ue(ze.value,"_id",t),ue(J.value,"_id",t),ue(ie.value,"value",t),ve.value=[],I.value=[]}function Ra(){if(!D.value||!X.value||!$.value)return L.value={message:"Llenar todos los campos para crear el m\xF3dulo",type:"error",model:!0},!1;if($e.value=="add"){var t=yl(10);ze.value.push({_id:t,titulo:D.value,descripcion:X.value,idCuestionario:A.value||null,videos:We()}),ie.value.push({title:D.value,value:t}),J.value.push({_id:t,titulo:D.value,descripcion:X.value,idCuestionario:A.value||null,videos:We()})}else{const l=ze.value.find(r=>r._id==qe.value);l.titulo=D.value,l.descripcion=X.value,l.idCuestionario=A.value||null,l.videos=We();const u=ie.value.find(r=>r.value==qe.value);u.title=D.value;const s=J.value.find(r=>r._id==qe.value);s.titulo=D.value,s.descripcion=X.value,s.idCuestionario=A.value||null,s.videos=We()}$e.value="add",Al()}const el=5,xe=d(1),Oa=Tl(()=>{const t=(xe.value-1)*el,l=t+el;return J.value.slice(t,l)}),Sa=()=>{xe.value*el<J.value.length&&xe.value++},Ya=()=>{xe.value>1&&xe.value--},K=d(null),Ll=d(null);async function qa(){try{var t=bl();if(!we.value||!ge.value||!pe.value||!he.value||!ke.value||!W.value||!fe.value||t.length==0)return L.value={message:"Llenar todos los campos del curso para ver el preview",type:"error",model:!0},!1;var l=q(t),u=q(ze.value),s=u.filter(c=>l.some(v=>v.value===c._id));for(let c of s)c.videos=c.videos.map(v=>Ie.value.find(ce=>ce._id===v.value)),c.idCuestionario=de.value.find(v=>v._id===c.idCuestionario);let r={titulo:we.value,descripcion:he.value,idRudo:pe.value,duracion:fe.value,categoria:ge.value,etiquetas:Ue.value,idCuestionario:de.value.find(c=>c._id===W.value),fechai:M.value.fechai,fechaf:M.value.fechaf,fechaVencimiento:M.value.fechaV,estado:je.value,modulos:s},a={titulo:we.value,descripcion:he.value,idRudo:pe.value,duracion:fe.value,categoria:ge.value,etiquetas:Ue.value,idCuestionario:W.value,fechai:M.value.fechai,fechaf:M.value.fechaf,fechaVencimiento:M.value.fechaV,estado:je.value,modulos:bl()};K.value=r}catch(r){console.error(r.toString()),L.value={message:"Error al mostrar el preview",type:"error",model:!0}}}const ll=d(!1);async function Fa(){if(He.length==0)return L.value={message:"Debe subir una im\xE1gen JPG",type:"error",model:!0},!1;var t=bl();if(!ge.value||!pe.value||!he.value||!ke.value||!W.value||!fe.value||t.length==0)return L.value={message:"Debe llenar todos los campos del curso",type:"error",model:!0},!1;var l={titulo:we.value,descripcion:he.value,idRudo:pe.value,duracion:fe.value,categoria:ge.value,etiquetas:Ue.value,idCuestionario:W.value,fechai:M.value.fechai,fechaf:M.value.fechaf,fechaVencimiento:M.value.fechaV,estado:je.value,modulos:t};Ll.value=l,ll.value=!0,L.value={message:"Creando los registros, espere por favor",type:"primary",model:!0,location:"center",timeout:3e3};const u=new Headers;u.append("Content-Type","application/json");try{var s=[],r;if(re.value.length>0){for(let g of re.value){let T={titulo:g.titulo,descripcion:g.descripcion,idRudo:g.idRudo,thumbnail:g.thumbnail,duracion:g.duracion,categoria:g.categoria,etiquetas:g.etiquetas};const C=await fetch("https://servicio-elearning.vercel.app/video/create",{method:"POST",headers:u,body:JSON.stringify(T),redirect:"follow"});if(!C.ok){const Ne=await C.text();throw new Error(`Error al crear video: ${C.status} ${C.statusText} - ${Ne}`)}const Ee=await C.json();s.push({_id:Ee.id,idLocal:g._id})}console.log("idsVideosCreados",s);var a=[];if(G.value.length>0)for(let g of G.value){let T={titulo:g.titulo,descripcion:g.descripcion,tags:g.tags,puntosNecesarios:g.puntosNecesarios,preguntas:g.preguntas,fechaLimite:g.fechaLimite,limiteTiempo:g.limiteTiempo};const C=await fetch("https://e-learning-cuestionario.vercel.app/cuestionarios/create",{method:"POST",headers:u,body:JSON.stringify(T),redirect:"follow"});if(!C.ok){const Ne=await C.text();throw new Error(`Error al crear cuestionario: ${C.status} ${C.statusText} - ${Ne}`)}const Ee=await C.json();a.push({_id:Ee.id,idLocal:g._id})}console.log("idsCuestionariosCreados",a);var c=[];if(J.value.length>0){r=q(J.value);for(let g of r)for(let T=0;T<g.videos.length;T++){let C=s.find(Ee=>Ee.idLocal==g.videos[T].value);C&&(g.videos[T].value=C._id)}for(let g of r){let T=a.find(C=>C.idLocal==g.idCuestionario);T&&(g.idCuestionario=T._id)}console.log("modulosGeneradosLocal raw",J.value),console.log("modulosGenerados ids reemplazados",r);for(let g of r){let T={titulo:g.titulo,descripcion:g.descripcion,idCuestionario:g.idCuestionario||null,videos:g.videos};const C=await fetch("https://servicio-elearning.vercel.app/modulo/create",{method:"POST",headers:u,body:JSON.stringify(T),redirect:"follow"});if(!C.ok){const Ne=await C.text();throw new Error(`Error al crear m\xF3dulo: ${C.status} ${C.statusText} - ${Ne}`)}const Ee=await C.json();c.push({_id:Ee.id,idLocal:g._id})}}}var v=q(Ll.value);for(let g=0;g<v.modulos.length;g++){let T=c.find(C=>C.idLocal==v.modulos[g].value);T&&(v.modulos[g].value=T._id)}console.log("cursoAntes",Ll.value),console.log("cursoFinal",v),console.log("cursoFinal raw",v);let Le=a.find(g=>g.idLocal==v.idCuestionario);Le&&(v.idCuestionario=Le._id),console.log("cursoFinal id reemplazado",v);let Na={titulo:v.titulo,descripcion:v.descripcion,idRudo:v.idRudo,duracion:v.duracion,categoria:v.categoria,etiquetas:v.etiquetas,idCuestionario:v.idCuestionario,fechai:v.fechai,fechaf:v.fechai,fechaVencimiento:v.fechaVencimiento,estado:v.estado,modulos:v.modulos};var ce=JSON.stringify(Na);const El=new FormData;El.append("raw",ce),He.forEach(g=>{El.append("files",g)});const Fe=await fetch("https://servicio-elearning.vercel.app/curso/create/file",{method:"POST",body:El});if(!Fe.ok){const g=await Fe.text();throw new Error(`Error al crear curso: ${Fe.status} ${Fe.statusText} - ${g}`)}const Aa=await Fe.json();console.log("respuestaCurso",Aa)}catch(Le){return ll.value=!1,console.error("Se ha producido un error al guardar los registros",Le.toString())}ll.value=!1,L.value={message:"Se han creado los registros correctamente",type:"success",model:!0}}return(t,l)=>{const u=io,s=Hl("v-list-item-content"),r=Hl("VListItemContent");return m(),b("section",null,[i(ll)?(m(),b("div",no)):x("",!0),e(Ka,{modelValue:i(L).model,"onUpdate:modelValue":l[0]||(l[0]=a=>i(L).model=a),location:i(L).location||"top end",variant:"flat",timeout:i(L).timeout||2500,color:i(L).type},{default:o(()=>[V(f(i(L).message),1)]),_:1},8,["modelValue","location","timeout","color"]),e(Kl,null,{default:o(()=>[e(S,{class:"mt-5"},{default:o(()=>[e(p,{cols:"12",md:"4",class:Bl(t.$vuetify.display.smAndDown?"border-b":"border-e")},{default:o(()=>[e(Ae,null,{default:o(()=>[n("div",null,[(m(),b(P,null,Q(jl,(a,c)=>n("div",{key:c,onClick:v=>z.value=c,class:Bl(["stepper-step",{active:i(z)===c}])},[e(w,{icon:a.icon,class:"stepper-icon"},null,8,["icon"]),n("div",null,[n("div",ro,f(a.title),1)])],10,uo)),64))])]),_:1})]),_:1},8,["class"]),e(p,{class:"pr-10",cols:"12",md:"8"},{default:o(()=>[e(Ae,null,{default:o(()=>[e(Qa,{onSubmit:Ul(Fa,["prevent"])},{default:o(()=>[i(z)===0?(m(),b("div",co,[e(S,null,{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[vo]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(u,{label:"Fecha de inicio y fin del curso","prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:i(M).fechasModel,"onUpdate:modelValue":l[1]||(l[1]=a=>i(M).fechasModel=a),"show-current":"true",onOnChange:ta,config:{position:"auto right",mode:"range",altFormat:"d F j, Y",dateFormat:"l, j \\d\\e F \\d\\e Y",valueFormat:"d-m-Y",reactive:!0}},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(u,{label:"Fecha de vencimiento","prepend-inner-icon":"tabler-calendar",density:"compact",modelValue:i(M).fechasVModel,"onUpdate:modelValue":l[2]||(l[2]=a=>i(M).fechasVModel=a),"show-current":"true",onOnChange:ia,config:i(M).fechasVConfig},null,8,["modelValue","config"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(Wa,{modelValue:i(je),"onUpdate:modelValue":l[3]||(l[3]=a=>h(je)?je.value=a:null),label:"Estado del curso"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(we),"onUpdate:modelValue":l[4]||(l[4]=a=>h(we)?we.value=a:null),label:"T\xEDtulo del curso"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(he),"onUpdate:modelValue":l[5]||(l[5]=a=>h(he)?he.value=a:null),label:"Descripci\xF3n"},null,8,["modelValue"])]),_:1}),e(p,{class:"img-preview-container",cols:"6"},{default:o(()=>[i(Wl)&&!i(Pl)?(m(),b("div",mo,[n("img",{src:i(Xl),alt:"Imagen actual",class:"image-preview"},null,8,po),e(_,{onClick:sa},{default:o(()=>[V("Cambiar imagen")]),_:1})])):(m(),k(so,{key:1,ref_key:"fileInputRef",ref:ea,modelValue:i(ke),"onUpdate:modelValue":l[6]||(l[6]=a=>h(ke)?ke.value=a:null),rules:la,onChange:na,required:"",label:"Subir una imagen principal",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an avatar","prepend-icon":"tabler-camera"},null,8,["modelValue"])),fo]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(pe),"onUpdate:modelValue":l[7]||(l[7]=a=>h(pe)?pe.value=a:null),label:"Id video de RUDO"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(y,{modelValue:i(fe),"onUpdate:modelValue":l[8]||(l[8]=a=>h(fe)?fe.value=a:null),label:"Tiempo que dura el curso",suffix:"minutos","append-inner-icon":"tabler-clock",type:"number"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(al,{modelValue:i(ge),"onUpdate:modelValue":l[9]||(l[9]=a=>h(ge)?ge.value=a:null),items:i(fl),chips:"",label:"Seleccione la categor\xEDa del curso","menu-props":{maxHeight:"300"},onKeydown:Gl(Ul(i(ua),["prevent"]),["enter"]),disabled:i(Be),"append-icon":"mdi-refresh","onClick:append":hl},null,8,["modelValue","items","onKeydown","disabled"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(al,{"item-text":"title","item-value":"value",modelValue:i(Ue),"onUpdate:modelValue":l[10]||(l[10]=a=>h(Ue)?Ue.value=a:null),items:i(pl),chips:"",multiple:"",label:"Etiquetas del curso","menu-props":{maxHeight:"300"},disabled:i(Ge),"append-icon":"mdi-refresh","onClick:append":gl},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])):x("",!0),i(z)===1?(m(),b("div",go,[i(re).length>0?(m(),b("div",ho,[e(ol,{lines:"two",border:""},{default:o(()=>[(m(!0),b(P,null,Q(i(Fl),(a,c)=>(m(),b(P,{key:c},[e(Y,{disabled:t.disabledViewList},{append:o(()=>[n("div",Po,[e(_,{title:"Editar registro",color:"success",variant:"text",icon:"",onClick:v=>Ea(a._id)},{default:o(()=>[e(w,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(_,{title:"Eliminar el registro",icon:"",size:"x-small",color:"error",variant:"text",onClick:v=>Ua(a._id)},{default:o(()=>[e(w,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]),default:o(()=>[e(tl,null,{default:o(()=>[n("div",_o,[n("div",bo,[Vo,n("small",Co,[n("code",xo,[yo,V(f(a._id),1)])])]),n("label",null,f(a.titulo),1),n("span",wo,f(a.descripcion),1),n("div",ko,[n("div",Mo,[e(w,{size:"20",icon:"tabler-video"}),n("a",{class:"pl-2",target:"_blank",href:a.url},f(a.idRudo),9,Lo)]),n("div",Eo,[e(w,{size:"20",icon:"tabler-clock"}),To,V(" "+f(a.duracion)+" min ",1)]),n("div",Uo,[e(w,{size:"20",icon:"mdi-animation"}),jo,V(" "+f(a.categoria),1)])])])]),_:2},1024)]),_:2},1032,["disabled"]),c!==i(Fl).length-1?(m(),k(U,{key:0})):x("",!0)],64))),128))]),_:1}),n("div",Io,[e(_,{icon:"tabler-arrow-big-left-lines",onClick:Ia,disabled:i(Ce)===1},null,8,["disabled"]),V(" P\xE1gina "+f(i(Ce))+" ",1),e(_,{icon:"tabler-arrow-big-right-lines",onClick:Pa,disabled:i(Ce)*Ze>=i(re).length},null,8,["disabled"])]),e(U)])):x("",!0),e(S,null,{default:o(()=>[e(p,{class:"d-flex justify-space-between",cols:"12"},{default:o(()=>[n("h6",zo,f(i(Me)=="add"?"Crear el video":"Editar "+i(kl)),1),n("div",$o,[e(_,{onClick:ja},{default:o(()=>[V(" Guardar ")]),_:1}),i(Me)!="add"?(m(),k(_,{key:0,color:"error",onClick:Ta},{default:o(()=>[V(" Cancelar ")]),_:1})):x("",!0)])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(B),"onUpdate:modelValue":l[11]||(l[11]=a=>h(B)?B.value=a:null),label:"T\xEDtulo del video"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(le),"onUpdate:modelValue":l[12]||(l[12]=a=>h(le)?le.value=a:null),label:"Descripci\xF3n"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(y,{modelValue:i(Z),"onUpdate:modelValue":l[13]||(l[13]=a=>h(Z)?Z.value=a:null),label:"Id video de RUDO"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(y,{modelValue:i(ee),"onUpdate:modelValue":l[14]||(l[14]=a=>h(ee)?ee.value=a:null),label:"Tiempo en minutos del video",suffix:"minutos","append-inner-icon":"tabler-clock",type:"number"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(al,{modelValue:i(H),"onUpdate:modelValue":l[15]||(l[15]=a=>h(H)?H.value=a:null),items:i(fl),chips:"",label:"Seleccione la categor\xEDa del video","menu-props":{maxHeight:"300"},onKeydown:Gl(Ul(i(H),["prevent"]),["enter"]),disabled:i(Be),"append-icon":"mdi-refresh","onClick:append":hl},null,8,["modelValue","items","onKeydown","disabled"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(al,{"item-text":"title","item-value":"value",modelValue:i(se),"onUpdate:modelValue":l[16]||(l[16]=a=>h(se)?se.value=a:null),items:i(pl),chips:"",multiple:"",label:"Etiquetas","menu-props":{maxHeight:"300"},disabled:i(Ge),"append-icon":"mdi-refresh","onClick:append":gl},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])):x("",!0),i(z)===2?(m(),b("div",Do,[i(G).length>0?(m(),b("div",Ro,[e(Xa,{class:"text-no-wrap tableNavegacion mb-5"},{default:o(()=>[Oo,n("tbody",null,[(m(!0),b(P,null,Q(i(ka),a=>(m(),b("tr",null,[n("td",So,f(a.titulo),1),n("td",Yo,f(a.descripcion),1),n("td",qo,[e(_,{color:"success",variant:"text",icon:"",onClick:c=>Ca(a._id)},{default:o(()=>[e(w,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(_,{icon:"",color:"error",variant:"text",onClick:c=>ya(a._id)},{default:o(()=>[e(w,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]))),256))])]),_:1}),n("div",Fo,[e(_,{icon:"tabler-arrow-big-left-lines",onClick:La,disabled:i(Ve)===1},null,8,["disabled"]),V(" P\xE1gina "+f(i(Ve))+" ",1),e(_,{icon:"tabler-arrow-big-right-lines",onClick:Ma,disabled:i(Ve)*Xe>=i(G).length},null,8,["disabled"])])])):x("",!0),e(S,null,{default:o(()=>[e(S,null,{default:o(()=>[e(p,{class:"d-flex justify-space-between ml-1",cols:"12"},{default:o(()=>[n("h6",No,f(i(Oe)=="add"?"Crear el cuestionario":"Editar "+i(wl)),1),n("div",Ao,[e(_,{onClick:wa},{default:o(()=>[V(" Guardar ")]),_:1}),i(Oe)!="add"?(m(),k(_,{key:0,color:"error",onClick:xa},{default:o(()=>[V(" Cancelar ")]),_:1})):x("",!0)])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(R),"onUpdate:modelValue":l[17]||(l[17]=a=>h(R)?R.value=a:null),label:"T\xEDtulo",placeholder:"T\xEDtulo del cuestionario"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(O),"onUpdate:modelValue":l[18]||(l[18]=a=>h(O)?O.value=a:null),label:"Puntos necesarios",type:"number"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(oe),"onUpdate:modelValue":l[19]||(l[19]=a=>h(oe)?oe.value=a:null),label:"Fecha l\xEDmite",type:"date"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(te),"onUpdate:modelValue":l[20]||(l[20]=a=>h(te)?te.value=a:null),label:"L\xEDmite de tiempo",type:"number"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(y,{modelValue:i(ae),"onUpdate:modelValue":l[21]||(l[21]=a=>h(ae)?ae.value=a:null),label:"Descripci\xF3n",placeholder:"Descripci\xF3n del cuestionario"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[Ho,n("div",Bo,[Go,(m(!0),b(P,null,Q(i(E),(a,c)=>(m(),k(Jl,{key:a,class:"custom-chip",title:"Eliminar tag",color:"success",closable:"","onClick:close":v=>ma(c)},{default:o(()=>[V(f(a),1)]),_:2},1032,["onClick:close"]))),128))]),n("div",Jo,[e(y,{modelValue:i(be),"onUpdate:modelValue":l[22]||(l[22]=a=>h(be)?be.value=a:null),label:"Ingrese un tag"},null,8,["modelValue"]),e(_,{class:"ml-auto",color:"primary","prepend-icon":"tabler-plus",variant:"tonal",onClick:va},{default:o(()=>[V(" A\xF1adir tag ")]),_:1}),e(_,{class:"ml-auto",color:"primary",variant:"tonal",onClick:pa},{default:o(()=>[e(w,{icon:"tabler-refresh",size:"22"})]),_:1})])]),_:1}),e(p,{cols:"12",class:"d-flex"},{default:o(()=>[Ko,e(_,{class:"ml-auto",color:"primary","prepend-icon":"tabler-plus",variant:"tonal",onClick:ga},{default:o(()=>[V(" A\xF1adir pregunta ")]),_:1})]),_:1}),e(U),(m(!0),b(P,null,Q(i(ne),(a,c)=>(m(),b("div",Qo,[i(ne).length>1?(m(),k(_,{key:0,class:"ml-auto boton-eleminar-itemsCards",size:"38",color:"error",onClick:v=>_a(c)},{default:o(()=>[e(w,{icon:"tabler-x",size:"22"})]),_:2},1032,["onClick"])):x("",!0),e(Ae,null,{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[e(y,{class:"mt-2",modelValue:a.pregunta,"onUpdate:modelValue":v=>a.pregunta=v,label:"Pregunta",placeholder:"Escriba la pregunta"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{cols:"12"},{default:o(()=>[e(y,{class:"mt-2",modelValue:a.puntaje,"onUpdate:modelValue":v=>a.puntaje=v,label:"Puntaje",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{cols:"12"},{default:o(()=>[e(y,{modelValue:a.respuesta,"onUpdate:modelValue":v=>a.respuesta=v,label:"Respuesta",placeholder:"Escriba la respuesta"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(p,{cols:"12",class:"d-flex"},{default:o(()=>[Wo,e(_,{class:"ml-auto",color:"primary","prepend-icon":"tabler-plus",variant:"tonal",onClick:v=>ha(c)},{default:o(()=>[V(" A\xF1adir opci\xF3n ")]),_:2},1032,["onClick"])]),_:2},1024),a.opciones.length>0?(m(),k(U,{key:0})):x("",!0),(m(!0),b(P,null,Q(a.opciones,(v,ce)=>(m(),b("div",Xo,[e(Ae,{class:"text-center ml-4 my-4"},{default:o(()=>[e(S,null,{default:o(()=>[e(p,{cols:"8"},{default:o(()=>[e(y,{modelValue:a.opciones[ce],"onUpdate:modelValue":Le=>a.opciones[ce]=Le,label:"Opci\xF3n "+(ce+1),placeholder:"Escriba la opci\xF3n"},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024),a.opciones.length>2?(m(),k(p,{key:0,cols:"4"},{default:o(()=>[e(_,{size:"38",color:"error",onClick:Le=>ba(c,ce)},{default:o(()=>[e(w,{icon:"tabler-x",size:"22"})]),_:2},1032,["onClick"])]),_:2},1024)):x("",!0)]),_:2},1024)]),_:2},1024)]))),256))]),_:2},1024)]))),256))]),_:1})]),_:1})])):x("",!0),i(z)===3?(m(),b("div",Zo,[i(J).length>0?(m(),b("div",et,[e(ol,{lines:"two",border:""},{default:o(()=>[(m(!0),b(P,null,Q(i(Oa),(a,c)=>(m(),b(P,{key:c},[e(Y,{disabled:t.disabledViewList},{append:o(()=>[n("div",ut,[e(_,{title:"Editar registro",color:"success",variant:"text",icon:"",onClick:v=>za(a._id)},{default:o(()=>[e(w,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(_,{title:"Eliminar el registro",icon:"",size:"x-small",color:"error",variant:"text",onClick:v=>Da(a._id)},{default:o(()=>[e(w,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]),default:o(()=>[e(tl,null,{default:o(()=>[n("div",lt,[n("div",at,[ot,n("small",tt,[n("code",it,[st,V(f(a._id),1)])])]),n("label",null,f(a.titulo),1),n("small",nt,f(a.descripcion),1)])]),_:2},1024)]),_:2},1032,["disabled"]),c!==i(J).length-1?(m(),k(U,{key:0})):x("",!0)],64))),128))]),_:1}),n("div",dt,[e(_,{icon:"tabler-arrow-big-left-lines",onClick:Ya,disabled:i(xe)===1},null,8,["disabled"]),V(" P\xE1gina "+f(i(xe))+" ",1),e(_,{icon:"tabler-arrow-big-right-lines",onClick:Sa,disabled:i(xe)*el>=i(J).length},null,8,["disabled"])]),e(U)])):x("",!0),e(S,null,{default:o(()=>[e(p,{class:"d-flex justify-space-between ml-1",cols:"12"},{default:o(()=>[n("h6",rt,f(i($e)=="add"?"Crear el m\xF3dulo":"Editar "+i(Ml)),1),n("div",ct,[e(_,{onClick:Ra},{default:o(()=>[V(" Guardar ")]),_:1}),i($e)!="add"?(m(),k(_,{key:0,color:"error",onClick:$a},{default:o(()=>[V(" Cancelar ")]),_:1})):x("",!0)])]),_:1}),e(S,{class:"ml-1"},{default:o(()=>[e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(D),"onUpdate:modelValue":l[23]||(l[23]=a=>h(D)?D.value=a:null),label:"T\xEDtulo del modulo"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6"},{default:o(()=>[e(y,{modelValue:i(X),"onUpdate:modelValue":l[24]||(l[24]=a=>h(X)?X.value=a:null),label:"Descripci\xF3n"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(il,{menu:i(ye),"onUpdate:menu":l[26]||(l[26]=a=>h(ye)?ye.value=a:null),"no-data-text":"No existen cuestionario que mostrar","append-icon":"mdi-refresh","item-text":"title","item-value":"value",modelValue:i(A),"onUpdate:modelValue":l[27]||(l[27]=a=>h(A)?A.value=a:null),items:i(F),disabled:i(Qe),label:"Cuestionario para al final del m\xF3dulo",clearable:"","onClick:append":_l,"menu-props":{maxHeight:"400"}},{"prepend-item":o(()=>[e(Y,null,{default:o(()=>[e(s,null,{default:o(()=>[e(y,{modelValue:i(N),"onUpdate:modelValue":l[25]||(l[25]=a=>h(N)?N.value=a:null),clearable:"",placeholder:"Buscar cuestionario"},null,8,["modelValue"])]),_:1})]),_:1}),e(U,{class:"mt-2"})]),selection:o(({item:a})=>[n("div",null,f(a.title)+" - "+f(a.value),1)]),item:o(({item:a,props:c})=>[e(Y,sl(nl(c)),{default:o(()=>[e(s,null,{default:o(()=>[e(Re,null,{default:o(()=>[n("p",null,"_id: "+f(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["menu","modelValue","items","disabled"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(S,null,{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[e(il,{menu:i(Cl),"onUpdate:menu":l[29]||(l[29]=a=>h(Cl)?Cl.value=a:null),"item-text":"title","item-value":"value",modelValue:i($),"onUpdate:modelValue":l[30]||(l[30]=a=>h($)?$.value=a:null),items:i(_e),chips:"",multiple:"",attach:"",label:"Videos educativos","no-data-text":"No existen videos que mostrar","append-icon":"mdi-refresh","onClick:append":$l,disabled:i(xl),"menu-props":{maxHeight:"300"}},{"prepend-item":o(()=>[e(Y,null,{default:o(()=>[e(s,null,{default:o(()=>[e(y,{modelValue:i(Vl),"onUpdate:modelValue":l[28]||(l[28]=a=>h(Vl)?Vl.value=a:null),clearable:"",placeholder:"Buscar video"},null,8,["modelValue"])]),_:1})]),_:1}),e(U,{class:"mt-2"})]),selection:o(({item:a})=>[n("div",null,f(a.title)+" - "+f(a.value),1)]),item:o(({item:a,props:c})=>[e(Y,sl(nl(c)),{default:o(()=>[e(s,null,{default:o(()=>[e(Re,null,{default:o(()=>[n("p",null,"_id: "+f(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["menu","modelValue","items","disabled"])]),_:1})]),_:1})]),_:1}),i($).length>0?(m(),k(p,{key:0,cols:"12"},{default:o(()=>[e(ol,{lines:"two",border:""},{default:o(()=>[(m(!0),b(P,null,Q(i(j),(a,c)=>(m(),b(P,{key:a.value},[e(Y,null,{prepend:o(()=>[e(w,{size:35,icon:"mdi-file-video",color:"success"})]),append:o(()=>[n("div",pt,[e(_,{size:"x-small",disabled:c==0,variant:"text",onClick:v=>Dl(a.value,"arriba")},{default:o(()=>[e(w,{size:25,icon:"mdi-arrow-up-bold-box"})]),_:2},1032,["disabled","onClick"]),e(_,{size:"x-small",disabled:c==i(j).length-1,variant:"text",onClick:v=>Dl(a.value,"abajo")},{default:o(()=>[e(w,{size:25,icon:"mdi-arrow-down-bold-box"})]),_:2},1032,["disabled","onClick"])])]),default:o(()=>[e(tl,null,{default:o(()=>[V(f(a.title),1)]),_:2},1024),e(Re,{class:"mt-1"},{default:o(()=>[e(Ql,{dot:"",location:"start center","offset-x":"2",color:"success",class:"me-3"},{default:o(()=>[vt]),_:1}),n("span",mt,f(a.value),1)]),_:2},1024)]),_:2},1024),c!==i(j).length-1?(m(),k(U,{key:0})):x("",!0)],64))),128))]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1}),e(U,{class:"mt-10"}),e(S,{class:"mt-2"},{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[ft]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(S,null,{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[e(il,{menu:i(Ke),"onUpdate:menu":l[32]||(l[32]=a=>h(Ke)?Ke.value=a:null),"no-data-text":"No existen m\xF3dulo que mostrar","append-icon":"mdi-refresh","onClick:append":Il,disabled:i(cl),"item-text":"title","item-value":"value",modelValue:i(ve),"onUpdate:modelValue":l[33]||(l[33]=a=>h(ve)?ve.value=a:null),items:i(ie),chips:"",multiple:"",label:"M\xF3dulos educativos","menu-props":{maxHeight:"400"}},{"prepend-item":o(()=>[e(Y,null,{default:o(()=>[e(r,null,{default:o(()=>[e(y,{modelValue:i(me),"onUpdate:modelValue":l[31]||(l[31]=a=>h(me)?me.value=a:null),clearable:"",placeholder:"Buscar m\xF3dulo"},null,8,["modelValue"])]),_:1})]),_:1}),e(U,{class:"mt-2"})]),selection:o(({item:a})=>[n("div",null,f(a.title)+" - "+f(a.value),1)]),item:o(({item:a,props:c})=>[e(Y,sl(nl(c)),{default:o(()=>[e(r,null,{default:o(()=>[e(Re,null,{default:o(()=>[n("p",null,"_id: "+f(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["menu","disabled","modelValue","items"])]),_:1})]),_:1})]),_:1}),i(ve).length>0?(m(),k(p,{key:0,cols:"12"},{default:o(()=>[e(ol,{lines:"two",border:""},{default:o(()=>[(m(!0),b(P,null,Q(i(I),(a,c)=>(m(),b(P,{key:a.value},[e(Y,null,{prepend:o(()=>[e(w,{size:35,icon:"mdi-sale",color:"success"})]),append:o(()=>[n("div",_t,[e(_,{size:"x-small",disabled:c==0,variant:"text",onClick:v=>zl(a.value,"arriba")},{default:o(()=>[e(w,{size:25,icon:"mdi-arrow-up-bold-box"})]),_:2},1032,["disabled","onClick"]),e(_,{size:"x-small",disabled:c==i(I).length-1,variant:"text",onClick:v=>zl(a.value,"abajo")},{default:o(()=>[e(w,{size:25,icon:"mdi-arrow-down-bold-box"})]),_:2},1032,["disabled","onClick"])])]),default:o(()=>[e(tl,null,{default:o(()=>[V(f(a.title),1)]),_:2},1024),e(Re,{class:"mt-1"},{default:o(()=>[e(Ql,{dot:"",location:"start center","offset-x":"2",color:"success",class:"me-3"},{default:o(()=>[gt]),_:1}),n("span",ht,f(a.value),1)]),_:2},1024)]),_:2},1024),c!==i(I).length-1?(m(),k(U,{key:0})):x("",!0)],64))),128))]),_:1})]),_:1})):x("",!0)]),_:1})])):x("",!0),i(z)===4?(m(),b("div",bt,[e(S,null,{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[Vt]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(il,{menu:i(ye),"onUpdate:menu":l[35]||(l[35]=a=>h(ye)?ye.value=a:null),"no-data-text":"No existen cuestionario que mostrar","append-icon":"mdi-refresh","onClick:append":_l,disabled:i(Qe),"item-text":"title","item-value":"value",modelValue:i(W),"onUpdate:modelValue":l[36]||(l[36]=a=>h(W)?W.value=a:null),items:i(F),label:"Cuestionario para el final del curso","menu-props":{maxHeight:"400"}},{"prepend-item":o(()=>[e(Y,null,{default:o(()=>[e(r,null,{default:o(()=>[e(y,{modelValue:i(N),"onUpdate:modelValue":l[34]||(l[34]=a=>h(N)?N.value=a:null),clearable:"",placeholder:"Buscar cuestionario"},null,8,["modelValue"])]),_:1})]),_:1}),e(U,{class:"mt-2"})]),selection:o(({item:a})=>[n("div",null,f(a.title)+" - "+f(a.value),1)]),item:o(({item:a,props:c})=>[e(Y,sl(nl(c)),{default:o(()=>[e(r,null,{default:o(()=>[e(Re,null,{default:o(()=>[n("p",null,"_id: "+f(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["menu","disabled","modelValue","items"])]),_:1})]),_:1})])):x("",!0),e(p,{cols:"12",class:"d-flex flex-wrap justify-center gap-4 mt-8"},{default:o(()=>[i(z)===4?(m(),k(_,{key:0,style:{"margin-left":"auto"},onClick:qa},{default:o(()=>[V(" Preview ")]),_:1})):x("",!0),e(_,{color:"secondary",disabled:i(z)===0,onClick:l[37]||(l[37]=a=>z.value--)},{default:o(()=>[e(w,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),V(" Anterior ")]),_:1},8,["disabled"]),i(z)===jl.length-1?(m(),k(_,{key:1,type:"submit",color:"success"},{default:o(()=>[V(" Enviar ")]),_:1})):(m(),k(_,{key:2,onClick:l[38]||(l[38]=a=>z.value++)},{default:o(()=>[V(" Siguiente "),e(w,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1}))]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}),i(K)!=null?(m(),k(Kl,{key:1,class:"mt-4"},{default:o(()=>[e(Za,{class:"mt-2"},{default:o(()=>[V("Vista previa del curso")]),_:1}),e(Ae,null,{default:o(()=>[V(f(i(K).title),1)]),_:1}),e(eo,null,{default:o(()=>[n("span",Ct,f(i(K).titulo),1),e(lo,{multiple:"",class:"paneles-modulos mt-4",style:{"padding-right":"0px","padding-left":"0px"}},{default:o(()=>[(m(!0),b(P,null,Q(i(K).modulos,(a,c)=>(m(),k(ao,{key:a},{default:o(()=>[c!==0?(m(),k(U,{key:0})):x("",!0),e(oo,{class:"d-flex flex-column gap-2",style:{"padding-right":"0%","padding-left":"0%"}},{default:o(()=>[n("span",xt,[n("h3",null,f(a.titulo),1)]),n("span",yt,f(a.descripcion),1),e(Jl,{class:"modulo-chip mr-4 ml-auto"},{default:o(()=>[wt]),_:1})]),_:2},1024),e(to,{style:{"padding-right":"0%","padding-left":"0%"}},{default:o(()=>[e(U),(m(!0),b(P,null,Q(a.videos,(v,ce)=>(m(),b("div",null,[n("div",kt,[n("div",null,[e(w,{icon:"tabler-video",class:""}),n("span",Mt,f("- "+v.titulo),1)]),Lt]),e(U,{style:{"margin-right":"0%","margin-left":"0%"}})]))),256)),n("div",Et,[n("div",Tt,[Ut,n("span",jt,f(" - "+a.idCuestionario.titulo),1)]),n("div",Pt,[n("span",It,"Obtener al menos "+f(a.idCuestionario.puntosNecesarios)+" pts",1),n("span",zt,f((Math.floor(a.idCuestionario.limiteTiempo/60)==0?"":Math.floor(a.idCuestionario.limiteTiempo/60)+"m ")+(a.idCuestionario.limiteTiempo%60==0?"":a.idCuestionario.limiteTiempo%60+"s ")),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),n("div",$t,[n("div",Dt,[n("div",Rt,[Ot,n("span",St,f(" - "+i(K).idCuestionario.titulo),1)]),n("div",Yt,[n("span",qt,"Obtener al menos "+f(i(K).idCuestionario.puntosNecesarios)+" pts",1),n("span",Ft,f((Math.floor(i(K).idCuestionario.limiteTiempo/60)==0?"":Math.floor(i(K).idCuestionario.limiteTiempo/60)+"m ")+(i(K).idCuestionario.limiteTiempo%60==0?"":i(K).idCuestionario.limiteTiempo%60+"s ")),1)])])])]),_:1})]),_:1})):x("",!0)])}}};export{Kt as default};
