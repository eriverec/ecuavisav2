import{R,S as k,U as C,r as p,z as y,o as r,x as V,a,w as e,e as F,b7 as T,u as v,i as b,b8 as L,q as o,g as U,h as I,b9 as M,ba as _,b as d,c,aR as g,t as i,a3 as N,b2 as S,aT as B,p as h,Z as D,F as j,C as z,$ as E,aM as w,N as P,a0 as W,a1 as $,V as q}from"./index.88d3c7f5.js";const O={class:"d-flex flex-wrap py-4 gap-4 align-items-center",style:{"justify-content":"space-between"}},Z={class:"d-flex align-center flex-wrap gap-2"},A={class:"text-xs text-disabled"},G=d("p",null,"Pr\xF3ximamente",-1),H={data(){return{usuarioFielModel:500,listUsuarioFieles:[{title:"20",value:20},{title:"30",value:30},{title:"50",value:50},{title:"100",value:100},{title:"300",value:300},{title:"400",value:400},{title:"500",value:500},{title:"700",value:700}],datos:[],maxRegistros:500,currentTab:"tab-fieles"}},watch:{async usuarioFielModel(u,m){this.maxRegistros=u,this.obtenerDatos()}},mounted(){this.obtenerDatos()},methods:{direccionar(){window.location.href="https://servicio-de-actividad.vercel.app/actividad/users/fidelidad/export/excel?limit="+this.maxRegistros},async obtenerDatos(){const t=(await(await fetch(`https://servicio-de-actividad.vercel.app/actividad/users/fidelidad?limit=${this.maxRegistros}`)).json()).data;this.datos=t}}},K=Object.assign(H,{__name:"index",setup(u){R.exports.extendMoment(k).locale("es",[C]),p(null);const t=p("tab-fieles");return(l,n)=>{const x=y("RouterLink");return r(),V("section",null,[a(q,null,{default:e(()=>[a(F,{class:"mt-6",cols:"12",md:"12",lg:"12"},{default:e(()=>[a(T,{modelValue:v(t),"onUpdate:modelValue":n[0]||(n[0]=s=>b(t)?t.value=s:null),class:"v-tabs-pill"},{default:e(()=>[a(L,{value:"tab-fieles"},{default:e(()=>[o("Fidelidad")]),_:1})]),_:1},8,["modelValue"]),a(U,{class:"mt-5"},{default:e(()=>[a(I,null,{default:e(()=>[a(M,{modelValue:v(t),"onUpdate:modelValue":n[2]||(n[2]=s=>b(t)?t.value=s:null)},{default:e(()=>[a(_,{value:"tab-fieles"},{default:e(()=>[d("div",O,[d("div",null,[l.usuarioFielModel?(r(),c(g,{key:0},{default:e(()=>[o("Lista de los "+i(l.usuarioFielModel)+" usuarios mas fieles a ecuavisa.com ",1)]),_:1})):N("",!0),a(S,null,{default:e(()=>[o(' De click en el bot\xF3n "ver perfil de usuario" para ver mas detalles del usuario ')]),_:1})]),d("div",Z,[a(B,{style:{width:"190px"},class:"d-none",modelValue:l.usuarioFielModel,"onUpdate:modelValue":n[1]||(n[1]=s=>l.usuarioFielModel=s),items:l.listUsuarioFieles,label:"Usuarios fieles",clearable:"","clear-icon":"tabler-x",searchable:!0},null,8,["modelValue","items"]),a(h,{variant:"tonal",color:"success",class:"d-none","prepend-icon":"mdi-file-excel",onClick:l.direccionar},{default:e(()=>[o(" Exportar usuarios ")]),_:1},8,["onClick"])])]),a(D,{lines:"two"},{default:e(()=>[l.datos.length===0?(r(),c(g,{key:0},{default:e(()=>[o(" Cargando...")]),_:1})):(r(!0),V(j,{key:1},z(l.datos,(s,f)=>(r(),c(E,{key:f,border:""},{append:e(()=>[a(w,{color:s.navigationRecord<50?"default":s.navigationRecord<100?"warning":"success",class:"mr-4"},{default:e(()=>[o(i(s.navigationRecord)+" Visitas ",1)]),_:2},1032,["color"]),a(w,{color:s.sesiones<50?"default":s.sesiones<100?"warning":"success",class:"mr-4"},{default:e(()=>[o(i(s.sesiones)+" Sesiones ",1)]),_:2},1032,["color"]),a(x,{to:{name:"apps-user-view-id",params:{id:s.userId}},class:"font-weight-medium user-list-name"},{default:e(()=>[a(h,{size:"small"},{default:e(()=>[o(" Ver Perfil de usuario "),a(P,{end:"",icon:"tabler-user"})]),_:1})]),_:2},1032,["to"])]),default:e(()=>[a(W,{class:"d-none"},{default:e(()=>[d("span",null,i(s.users.length>0?s.users[0].first_name+" "+s.users[0].last_name:""),1)]),_:2},1024),a($,{class:"mt-1",color:"info"},{default:e(()=>[d("span",A,"Usuario N\xB0 "+i(f+1)+", Tel. "+i(s.users.length>0?s.users[0].phone_number:"")+", UserId. "+i(s.userId),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),a(_,{value:"tab-intereses"},{default:e(()=>[G]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})])}}});export{K as default};
