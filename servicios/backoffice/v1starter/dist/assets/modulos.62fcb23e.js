import{r as m,bH as O,o as C,x as g,a as e,w as l,e as u,g as b,a2 as y,h as x,b as s,p as c,q as n,aW as X,F as Y,C as Z,u as d,t as h,N as q,b0 as D,aQ as k,aR as A,l as N,m as P,V as T,n as z,bC as B,c7 as R,bc as ee}from"./index.88d3c7f5.js";import{u as le}from"./useModulosListStore.d41a78be.js";import{V as te}from"./VSpacer.2a3e77c9.js";const oe={class:"d-flex align-center flex-wrap gap-2"},ae=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"Nombre"),s("th",{scope:"col"},"Estado"),s("th",{scope:"col"},"Tipo de Dato"),s("th",{scope:"col"},"Acciones")])],-1),se={class:"d-flex align-center"},de={class:"d-flex flex-column"},ue={class:"text-base"},ne={class:"d-flex align-center"},ie={class:"d-flex flex-column"},re={class:"text-capitalize text-base"},ce={class:"text-sm"},me={class:"text-center",style:{width:"5rem"}},Ve={__name:"modulos",setup(fe){const f=m(!1),p=m(!1),_=m(!1),v=le(),U=m([]);m(10);const i=m({}),r=m({nombre:"",estado:!0,tipoDato:""}),w=m(""),V=()=>{v.fetchModulosPaquetes().then(o=>{U.value=o.data}).catch(o=>{console.error(o)})};O(V);const j=o=>{v.fetchModuloPaquete(o).then(t=>{i.value=t.data}).catch(t=>{console.error(t)}),f.value=!0},I=o=>{v.updateModuloPaquete(o,i.value).catch(t=>{console.error(t)}),f.value=!1,window.setTimeout(V,900)},L=()=>{f.value=!1},$=o=>{f.value=o},H=()=>{console.log("nuevoModulo",r.value),v.addModuloPaquete(r.value).catch(o=>{console.log(o)}),r.value={nombre:"",estado:!0,tipoDato:""},p.value=!1,window.setTimeout(V,900)},Q=()=>{p.value=!1},F=o=>{p.value=o},W=o=>{w.value=o,_.value=!0},G=()=>{v.deleteModuloPaquete(w.value).catch(o=>{console.error(o)}),window.setTimeout(V,900),w.value="",_.value=!1},J=()=>{_.value=!1},S=o=>{_.value=o},E=["texto","boolean","numerico"];return(o,t)=>{const M=ee;return C(),g("section",null,[e(T,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(b,{title:"Modulos"},{default:l(()=>[e(y),e(x,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[e(te),s("div",oe,[e(c,{"prepend-icon":"tabler-plus",onClick:t[0]||(t[0]=a=>p.value=!0)},{default:l(()=>[n(" Agregar un M\xF3dulo ")]),_:1})])]),_:1}),e(y),e(X,{class:"text-no-wrap"},{default:l(()=>[ae,s("tbody",null,[(C(!0),g(Y,null,Z(d(U),a=>(C(),g("tr",{key:a._id,style:{height:"3.75rem"}},[s("td",null,[s("div",se,[s("div",de,[s("h6",ue,h(a.nombre),1)])])]),s("td",null,[s("div",ne,[s("div",ie,[s("span",re,h(a.estado),1)])])]),s("td",null,[s("span",ce,h(a.tipoDato),1)]),s("td",me,[e(c,{icon:"",size:"x-small",color:"default",variant:"text",onClick:K=>j(a._id)},{default:l(()=>[e(q,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(c,{icon:"",size:"x-small",color:"error",variant:"text",onClick:K=>W(a._id)},{default:l(()=>[e(q,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])])]))),128))])]),_:1}),e(y),e(D,{width:o.$vuetify.display.smAndDown?"auto":700,"model-value":d(f),"onUpdate:modelValue":$},{default:l(()=>[e(M,{onClick:t[1]||(t[1]=a=>$(!1))}),e(b,{class:"pa-sm-14 pa-5"},{default:l(()=>[e(k,{class:"text-center"},{default:l(()=>[e(A,{class:"text-h5 mb-3"},{default:l(()=>[n(" Editar el m\xF3dulo ")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(N,{class:"mt-6",onSubmit:t[5]||(t[5]=P(a=>I(d(i)._id),["prevent"]))},{default:l(()=>[e(T,null,{default:l(()=>[e(u,{cols:"12",md:"6"},{default:l(()=>[e(z,{modelValue:d(i).nombre,"onUpdate:modelValue":t[2]||(t[2]=a=>d(i).nombre=a),label:"Nombre"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(B,{label:"Tipo de Dato",modelValue:d(i).tipoDato,"onUpdate:modelValue":t[3]||(t[3]=a=>d(i).tipoDato=a),items:E},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(R,{modelValue:d(i).estado,"onUpdate:modelValue":t[4]||(t[4]=a=>d(i).estado=a),density:"compact",label:"Estado"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[e(c,{type:"submit"},{default:l(()=>[n(" Enviar ")]),_:1}),e(c,{color:"secondary",variant:"tonal",onClick:L},{default:l(()=>[n(" Cancelar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(D,{width:o.$vuetify.display.smAndDown?"auto":700,"model-value":d(p),"onUpdate:modelValue":F},{default:l(()=>[e(M,{onClick:t[6]||(t[6]=a=>F(!1))}),e(b,{class:"pa-sm-14 pa-5"},{default:l(()=>[e(k,{class:"text-center"},{default:l(()=>[e(A,{class:"text-h5 mb-3"},{default:l(()=>[n(" Agregar un nuevo m\xF3dulo ")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(N,{class:"mt-6",onSubmit:P(H,["prevent"])},{default:l(()=>[e(T,null,{default:l(()=>[e(u,{cols:"12",md:"6"},{default:l(()=>[e(z,{modelValue:d(r).nombre,"onUpdate:modelValue":t[7]||(t[7]=a=>d(r).nombre=a),label:"Nombre"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(B,{label:"Tipo de Dato",modelValue:d(r).tipoDato,"onUpdate:modelValue":t[8]||(t[8]=a=>d(r).tipoDato=a),items:E},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(R,{modelValue:d(r).estado,"onUpdate:modelValue":t[9]||(t[9]=a=>d(r).estado=a),density:"compact",label:"Estado"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[e(c,{type:"submit"},{default:l(()=>[n(" Aceptar ")]),_:1}),e(c,{color:"secondary",variant:"tonal",onClick:Q},{default:l(()=>[n(" Cancelar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"]),e(D,{width:o.$vuetify.display.smAndDown?"auto":700,"model-value":d(_),"onUpdate:modelValue":S},{default:l(()=>[e(M,{onClick:t[10]||(t[10]=a=>S(!1))}),e(b,{class:"pa-sm-14 pa-5"},{default:l(()=>[e(k,{class:"text-center"},{default:l(()=>[e(A,{class:"text-h5 mb-3"},{default:l(()=>[n(" \xBFDesea eliminar el m\xF3dulo? ")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(u,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[e(c,{onClick:G},{default:l(()=>[n(" Aceptar ")]),_:1}),e(c,{color:"secondary",variant:"tonal",onClick:J},{default:l(()=>[n(" Cancelar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])]),_:1})]),_:1})]),_:1})])}}};export{Ve as default};
