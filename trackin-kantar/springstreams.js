function SpringStreams(i){this.namespace="com.kantarmedia.sensors.javascript";this.version="2.5.8";var x="2cnt.net";var af="demo";var g=200;var u=2000;var ao="default";var X=new Array();this.namespace="com.kma.springstreams";this.updateTimer=false;this.syncTimer=false;this.syncrate=20;this.pausesync=6;this.maxstates=50;this.workerRunning=false;var f=true;var H;var ai={"+":"%2B",",":"%2C",";":"%3B","=":"%3D","~":"%7E","*":"%2A","'":"%27","!":"%21","(":"%28",")":"%29"};var a=this;var aj;var Z=true;O(v());if(i){ao=i}var V='onmessage = function (evt) {if(evt.data == "start"){postMessage("open");if(!self.updateTimer)self.updateTimer = setInterval(()=>{postMessage("update")},200);if(!self.syncTimer)self.syncTimer = setInterval(()=>postMessage("sync"),2000);}if(evt.data == "stop"){clearInterval(self.updateTimer);clearInterval(self.syncTimer);postMessage("close");self.close();}};';var ad=window.navigator.userAgent;var d=ad.indexOf("MSIE ");var r=false;if(d>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){r=true}if(!window.URL||!window.Blob||!window.Worker||r){Z=false}if(Z){var an=new Blob([V],{type:"text/javascript"});var n=URL.createObjectURL(an)}function L(){H=new Worker(n);a.workerRunning=true;H.onmessage=function(m){if(m.data=="open"){a.updateTimer=a.syncTimer=true}if(m.data=="sync"){z()}if(m.data=="update"){q()}if(m.data=="close"){a.workerRunning=false}};H.onerror=function(m){a.workerRunning=false;H.postMessage("stop");console.error(m.message);al()}}if(Z){try{L()}catch(am){a.workerRunning=false;Z=false}}function l(m){console.debug(m)}function U(m){console.warn(m)}function v(){var m={"2cnt.net":{syncrates:[3,7,10,10,10,10,10,60]}};return m}function O(ap){var aq;if(ap){for(var m in ap){if(m===x&&af==="barb"){aq=ap[m]}}if(aq){P(aq.syncrates)}}}function P(m){if(m){aj=m}}function Y(){return aj}this.getSyncRates=Y;function B(at,ap,ar){if(Z){G()}else{al()}var m=ar;if(a.pageContext===undefined){if(!!window.cordova){if(device.platform==="browser"){a.debug("Detected cordova browser-mode falling back to HTML5 context / adapter");a.pageContext=a.defaultPageContext;m=this.HTML5Adapter}else{a.nlso=true;a.debug("Detected cordova context");a.pageContext=a.cordovaPageContext}}else{a.pageContext=a.defaultPageContext}}else{}if(a.pageContext.generateId!==undefined){a.pageContext.generateId()}if(!at){return}if(typeof(a.pageContext)!=="undefined"&&typeof(a.pageContext.initHooks)!=="undefined"){a.pageContext.initHooks()}var aq=new D(this,at,ap,m);X.push(aq);return aq}this.track=B;function G(){if(!a.workerRunning){L()}H.postMessage("start")}function al(){if(!a.updateTimer){a.updateTimer=setInterval(q,g)}if(!a.syncTimer){a.syncTimer=setInterval(z,u)}}function b(){clearInterval(a.updateTimer);clearInterval(a.syncTimer);a.updateTimer=false;a.syncTimer=false;this.workerRunning=false;if(Z){H.postMessage("stop")}for(var m=0;m<X.length;++m){try{X[m].stop()}catch(ap){S(ap)}}}this.unload=b;function q(aq){for(var m=0;m<X.length;++m){try{X[m].update(aq)}catch(ap){S(ap)}}}this.doUpdate=q;function z(aq){for(var m=0;m<X.length;++m){try{X[m].sync()}catch(ap){S(ap)}}}this.doSync=z;function S(m){T("",m)}this.error=S;function C(ap,m){return E([[ap,m]])}function W(m){if(m&&m.site!==undefined){return m.site}return ao}function I(m){console.debug(m)}this.debug=I;function t(m){console.warn(m)}this.warn=t;function s(){if(a.pageContext.getWindowLocationURL()===undefined){return"http://"}if("https"===a.pageContext.getWindowLocationURL().slice(0,5)){return"https://"}else{return"http://"}}function ab(){if(!a.nlso){try{var m="";var aq="i00";if(a.pageContext.getUniqueId!==undefined){aq=x}m=a.pageContext.getLocalStorageItem(aq);if(m){return"&c="+m}else{var ap="0000",at=ap+Math.ceil((new Date()).getTime()/1000).toString(16)+(32768|Math.random()*65535).toString(16)+ap;a.pageContext.setLocalStorageItem(aq,at)}}catch(ar){a.warn("error"+ar)}}return""}function T(aq,ap){if(typeof(a.pageContext.tracking)!="undefined"){f=a.pageContext.tracking}if(f){if(typeof(ap.stream)=="undefined"||ap.stream==""){a.warn("Stream is mandatory for measurement")}else{var m;if(x===""){m=s()+W(ap)+"/j0="+C(aq,ap)+"?lt="+(new Date()).getTime().toString(36)+ab()}else{m=s()+W(ap)+"."+x+"/j0="+C(aq,ap)+"?lt="+(new Date()).getTime().toString(36)+ab()}a.pageContext.preloadImage(m);a.debug(m)}}}this.send=T;function E(ar){var ap;var at;var aq;var m;var au=/[+&,;=~!*'()]/g;var av;switch(typeof ar){case"string":return au.test(ar)?encodeURIComponent(ar).replace(au,function(aw){var ax=ai[aw];if(ax){return ax}return aw}):encodeURIComponent(ar);case"number":return isFinite(ar)?ar.toString():"null";case"boolean":case"null":return ar.toString();case"object":if(!ar){return"null"}ap=[];if(typeof ar.length==="number"&&!(ar.propertyIsEnumerable("length"))){m=ar.length;for(at=0;at<m;at+=1){ap.push(E(ar[at])||"null")}return","+ap.join("+")+";"}for(aq in ar){if(typeof aq==="string"){if(aq!=="site"){av=E(ar[aq]);if(av){ap.push(E(aq)+"="+av)}}}}return","+ap.join("+")+";";default:}return""}function D(aN,aK,aL,aO){function aM(){var aU=Math.round((Math.random()*10000000000)).toString(36);var aV=new Date().getTime().toString(36);return aV+aU}var aH="";aH=aM();var av=Math.round(new Date().getTime()/1000);var aC;var aS;var aF;var aA;var aw=[0,0,av.toString(36)];var ax=0;var aT=0;var ay=true;var ar=false;var aG;var au;var aq;var m;var aR=0;aC=aN;aS=aK;if(aO){aG=aO}else{aG=aC.HTML5Adapter}aA=aI(aL);aF=new Array();aF.push(aw);m=0;au=aN.syncrate;aq=aN.getSyncRates();aE();function aP(){return aH}function aI(aW){var aU=new Object();for(var aV in aW){aU[aV]=aW[aV]}return aU}function aQ(aU){if(aF.length<aC.maxstates){aF.push(aU)}}function at(aU){aw=[aU,aU,Math.round(new Date().getTime()/1000).toString(36)];aQ(aw);ay=true;ax=0}function aE(){if(aq!=null){if(m<aq.length){au=aq[m++];aC.debug("switch syncrate to "+au)}}}function aD(aU){setTimeout(function(){if(aU==Math.round(aG.getPosition(aS))||aU+1==Math.round(aG.getPosition(aS))){aR++;if(aR>=5){aR=0;if(aU-aw[1]>1||aw[1]-aU>1){at(aU)}}}else{aR=0}},200)}function az(aX){if(ar){return}var aU=aw[1];var aV=aU;try{aV=Math.round(aG.getPosition(aS))}catch(aY){}try{if(aU===aV){if(ax>=0){ax++;if(ax===aC.pausesync){ay=true}}return}if(ax>=aC.pausesync){at(aV)}else{if(aU<aV-1||aU>aV){aD(aV)}else{aw[1]=aV;if(aw[1]-aw[0]>=au&&aV-aT>=au){ay=true;aE()}ax=0}}}catch(aW){S=true;aC.error(aW)}}this.update=az;function aJ(){if(ar){return}ay=true;ar=true;aB(null)}this.stop=aJ;function aB(){if(a.pageContext.getSerialNumber!==undefined){a.pageContext.getSerialNumber(ap)}else{ap()}}this.sync=aB;function ap(){if(ay){try{if(aS.width){aA.sx=aS.width}if(aS.videoWidth){aA.sx=aS.videoWidth}if(aS.height){aA.sy=aS.height}if(aS.videoHeight){aA.sy=aS.videoHeight}}catch(aV){}if(a.pageContext.getUniqueId!==undefined){aA.psid=a.pageContext.getUniqueId()}aA.uid=aH;aA.pst=aF;var aU;try{if(!aA.dur||aA.dur===0){aA.dur=aG.getDuration(aS)}}catch(aV){}try{aU=aG.getMeta(aS);if(a.pageContext.getDeviceID!==undefined&&a.pageContext.getDeviceID()!==undefined){aU[a.pageContext.getDeviceID()["id_name"]]=a.pageContext.getDeviceID()["id_value"]}}catch(aV){}if(aU.v===undefined){aU.v="js "+a.version}aA.vt=(Math.round(new Date().getTime()/1000))-av;if(typeof(a.pageContext)!=="undefined"&&typeof(a.pageContext.addElectronParameters)!=="undefined"){a.pageContext.addElectronParameters(aA);aU.v="E "+a.version}if(typeof(a.pageContext)!=="undefined"&&typeof a.pageContext.isCasting!=="undefined"){a.pageContext.isCasting()}if(typeof(a.pageContext)!=="undefined"&&typeof a.pageContext.getChromecastID!=="undefined"){aU.v="C "+a.version;aU.cid=a.pageContext.getChromecastID()}aC.send(aU,aA);aT=aw[1]}ay=false}}this.defaultPageContext={getLocalStorageItem:k,setLocalStorageItem:c,preloadImage:M,getWindowLocationURL:e,initHooks:h};this.cordovaPageContext={getLocalStorageItem:k,setLocalStorageItem:c,preloadImage:J,getWindowLocationURL:F,initHooks:ag};this.HTML5Adapter={getMeta:N,getPosition:y,getDuration:w};this.DefaultAdapter={getMeta:p,getPosition:ae,getDuration:ah};this.WMStreamAdapter={getMeta:A,getPosition:o,getDuration:j};this.RVStreamAdapter={getMeta:ak,getPosition:ac,getDuration:aa};function N(m){return{pl:"HTML 5 Video",plv:"HTML 5",sx:screen.width,sy:screen.height}}function w(m){return Math.round(m.duration)}function y(m){return m.currentTime}this.HTML5CordovaAdapter={getMeta:R,getPosition:Q,getDuration:K};function R(ap){var m="CDV "+a.version;if(a.cordovaAppName===undefined){a.cordovaAppName="";cordova.getAppVersion.getAppName().then(function(aq){a.cordovaAppName=aq})}if(a.cordovaAppVersion===undefined){a.cordovaAppVersion="";cordova.getAppVersion.getVersionNumber().then(function(aq){a.cordovaAppVersion=aq})}if(device.platform=="Android"){a.cordovaGID=md5(device.uuid).substring(0,16);if(a.cordovaAID===undefined){a.cordovaAID="";if(cordova.plugins.idfa!==undefined){cordova.plugins.idfa.getInfo().then(function(aq){a.cordovaAID=md5(aq.aaid).substring(0,16);a.cordovaLimitAdTracking=aq.limitAdTracking})}}return{pl:"HTML 5 Video",plv:"HTML 5",v:m,sx:screen.width,sy:screen.height,aid:a.cordovaAID,gid:a.cordovaGID,os:device.platform,osv:device.version,av:a.cordovaAppVersion,an:a.cordovaAppName,app:a.cordovaAppName}}else{if(device.platform=="iOS"){a.cordovaIFV=md5(device.uuid).substring(0,16);return{pl:"HTML 5 Video",plv:"HTML 5",v:m,sx:screen.width,sy:screen.height,ifv:a.cordovaIFV,os:device.platform,osv:device.version,av:a.cordovaAppVersion,an:a.cordovaAppName,app:a.cordovaAppName}}else{return{pl:"HTML 5 Video",plv:"HTML 5",v:m,sx:screen.width,sy:screen.height,os:device.platform,osv:device.version,an:a.cordovaAppName,av:a.cordovaAppVersion}}}}function K(m){return Math.round(m.duration)}function Q(m){return m.currentTime}function p(m){return{pl:"DEF",plv:version,sx:screen.width,sy:screen.height}}function ae(m){return new Date().getTime()/1000}function ah(m){return 0}function A(m){return{pl:"MSWM",plv:m.versionInfo,sx:screen.width,sy:screen.height}}function o(m){if(m.CurrentPosition){return m.CurrentPosition}if(m.currentPosition){return m.currentPosition}if(m.controls&&m.controls.currentPosition){return m.controls.currentPosition}if(m.Controls&&m.Controls.currentPosition){return m.Controls.currentPosition}return 0}function j(m){if(m.currentMedia){if(m.currentMedia.Duration){return m.currentMedia.Duration}if(m.currentMedia.duration){return m.currentMedia.duration}}else{if(m.CurrentMedia){if(m.CurrentMedia.duration){return m.CurrentMedia.duration}if(m.CurrentMedia.Duration){return m.CurrentMedia.Duration}}}}function ak(m){return{pl:"RV",plv:m.GetVersionInfo(),sx:screen.width,sy:screen.height}}function ac(m){return(m.GetPosition()/1000)}function aa(m){return(m.GetLength()/1000)}function c(m,ap){localStorage.setItem(m,ap)}function k(m){return localStorage.getItem(m)}function M(m){(new Image()).src=m}function h(){}function ag(){if(a.cordovaSetCloseHook==undefined){a.cordovaSetCloseHook==true;document.addEventListener("pause",m,false);function m(){b()}}}function F(){return"https://"}function J(aq){var ap={method:"get"};var m="Cordova <"+device.platform+" "+device.version+">";cordova.plugin.http.setHeader("User-Agent",m);cordova.plugin.http.sendRequest(aq,ap,function(ar){a.debug("Request respopnse: "+ar.status)},function(ar){a.warn("Request respopnse: "+ar.status+":"+ar.error)})}function e(){return document.location.href}}SpringStreams.prototype.setPageContext=function(a){this.pageContext=a};function md5(D){var E;var y=function(b,a){return(b<<a)|(b>>>(32-a))};var I=function(k,b){var W,a,d,x,c;d=(k&2147483648);x=(b&2147483648);W=(k&1073741824);a=(b&1073741824);c=(k&1073741823)+(b&1073741823);if(W&a){return(c^2147483648^d^x)}if(W|a){if(c&1073741824){return(c^3221225472^d^x)}else{return(c^1073741824^d^x)}}else{return(c^d^x)}};var r=function(a,c,b){return(a&c)|((~a)&b)};var q=function(a,c,b){return(a&b)|(c&(~b))};var p=function(a,c,b){return(a^c^b)};var n=function(a,c,b){return(c^(a|(~b)))};var v=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(r(W,ab,aa),k),Z));return I(y(X,Y),W)};var f=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(q(W,ab,aa),k),Z));return I(y(X,Y),W)};var G=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(p(W,ab,aa),k),Z));return I(y(X,Y),W)};var u=function(X,W,ab,aa,k,Y,Z){X=I(X,I(I(n(W,ab,aa),k),Z));return I(y(X,Y),W)};var e=function(W){var X;var d=W.length;var c=d+8;var b=(c-(c%64))/64;var x=(b+1)*16;var Y=new Array(x-1);var a=0;var k=0;while(k<d){X=(k-(k%4))/4;a=(k%4)*8;Y[X]=(Y[X]|(W.charCodeAt(k)<<a));k++}X=(k-(k%4))/4;a=(k%4)*8;Y[X]=Y[X]|(128<<a);Y[x-2]=d<<3;Y[x-1]=d>>>29;return Y};var s=function(d){var a="",b="",k,c;for(c=0;c<=3;c++){k=(d>>>(c*8))&255;b="0"+k.toString(16);a=a+b.substr(b.length-2,2)}return a};var t=function(d){d=(d+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b="";var X,a;var x=0;X=a=0;x=d.length;for(var W=0;W<x;W++){var k=d.charCodeAt(W);var c=null;if(k<128){a++}else{if((k>127)&&(k<2048)){c=String.fromCharCode((k>>6)|192)+String.fromCharCode((k&63)|128)}else{c=String.fromCharCode((k>>12)|224)+String.fromCharCode(((k>>6)&63)|128)+String.fromCharCode((k&63)|128)}}if(c!=null){if(a>X){b+=d.substring(X,a)}b+=c;X=a=W+1}}if(a>X){b+=d.substring(X,d.length)}return b};var F=[],M,h,H,w,g,V,U,T,S,P=7,N=12,K=17,J=22,C=5,B=9,A=14,z=20,o=4,m=11,l=16,j=23,R=6,Q=10,O=15,L=21;D=t(D);F=e(D);V=1732584193;U=4023233417;T=2562383102;S=271733878;E=F.length;for(M=0;M<E;M+=16){h=V;H=U;w=T;g=S;V=v(V,U,T,S,F[M+0],P,3614090360);S=v(S,V,U,T,F[M+1],N,3905402710);T=v(T,S,V,U,F[M+2],K,606105819);U=v(U,T,S,V,F[M+3],J,3250441966);V=v(V,U,T,S,F[M+4],P,4118548399);S=v(S,V,U,T,F[M+5],N,1200080426);T=v(T,S,V,U,F[M+6],K,2821735955);U=v(U,T,S,V,F[M+7],J,4249261313);V=v(V,U,T,S,F[M+8],P,1770035416);S=v(S,V,U,T,F[M+9],N,2336552879);T=v(T,S,V,U,F[M+10],K,4294925233);U=v(U,T,S,V,F[M+11],J,2304563134);V=v(V,U,T,S,F[M+12],P,1804603682);S=v(S,V,U,T,F[M+13],N,4254626195);T=v(T,S,V,U,F[M+14],K,2792965006);U=v(U,T,S,V,F[M+15],J,1236535329);V=f(V,U,T,S,F[M+1],C,4129170786);S=f(S,V,U,T,F[M+6],B,3225465664);T=f(T,S,V,U,F[M+11],A,643717713);U=f(U,T,S,V,F[M+0],z,3921069994);V=f(V,U,T,S,F[M+5],C,3593408605);S=f(S,V,U,T,F[M+10],B,38016083);T=f(T,S,V,U,F[M+15],A,3634488961);U=f(U,T,S,V,F[M+4],z,3889429448);V=f(V,U,T,S,F[M+9],C,568446438);S=f(S,V,U,T,F[M+14],B,3275163606);T=f(T,S,V,U,F[M+3],A,4107603335);U=f(U,T,S,V,F[M+8],z,1163531501);V=f(V,U,T,S,F[M+13],C,2850285829);S=f(S,V,U,T,F[M+2],B,4243563512);T=f(T,S,V,U,F[M+7],A,1735328473);U=f(U,T,S,V,F[M+12],z,2368359562);V=G(V,U,T,S,F[M+5],o,4294588738);S=G(S,V,U,T,F[M+8],m,2272392833);T=G(T,S,V,U,F[M+11],l,1839030562);U=G(U,T,S,V,F[M+14],j,4259657740);V=G(V,U,T,S,F[M+1],o,2763975236);S=G(S,V,U,T,F[M+4],m,1272893353);T=G(T,S,V,U,F[M+7],l,4139469664);U=G(U,T,S,V,F[M+10],j,3200236656);V=G(V,U,T,S,F[M+13],o,681279174);S=G(S,V,U,T,F[M+0],m,3936430074);T=G(T,S,V,U,F[M+3],l,3572445317);U=G(U,T,S,V,F[M+6],j,76029189);V=G(V,U,T,S,F[M+9],o,3654602809);S=G(S,V,U,T,F[M+12],m,3873151461);T=G(T,S,V,U,F[M+15],l,530742520);U=G(U,T,S,V,F[M+2],j,3299628645);V=u(V,U,T,S,F[M+0],R,4096336452);S=u(S,V,U,T,F[M+7],Q,1126891415);T=u(T,S,V,U,F[M+14],O,2878612391);U=u(U,T,S,V,F[M+5],L,4237533241);V=u(V,U,T,S,F[M+12],R,1700485571);S=u(S,V,U,T,F[M+3],Q,2399980690);T=u(T,S,V,U,F[M+10],O,4293915773);U=u(U,T,S,V,F[M+1],L,2240044497);V=u(V,U,T,S,F[M+8],R,1873313359);S=u(S,V,U,T,F[M+15],Q,4264355552);T=u(T,S,V,U,F[M+6],O,2734768916);U=u(U,T,S,V,F[M+13],L,1309151649);V=u(V,U,T,S,F[M+4],R,4149444226);S=u(S,V,U,T,F[M+11],Q,3174756917);T=u(T,S,V,U,F[M+2],O,718787259);U=u(U,T,S,V,F[M+9],L,3951481745);V=I(V,h);U=I(U,H);T=I(T,w);S=I(S,g)}var i=s(V)+s(U)+s(T)+s(S);return i.toLowerCase()};